var Kz=Object.defineProperty;var Hz=(e,t,r)=>t in e?Kz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rh=(e,t,r)=>Hz(e,typeof t!="symbol"?t+"":t,r);function mN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Gz(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var hN={exports:{}},Op={},fN={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),Zz=Symbol.for("react.portal"),Qz=Symbol.for("react.fragment"),Yz=Symbol.for("react.strict_mode"),Xz=Symbol.for("react.profiler"),Jz=Symbol.for("react.provider"),eO=Symbol.for("react.context"),tO=Symbol.for("react.forward_ref"),rO=Symbol.for("react.suspense"),nO=Symbol.for("react.memo"),iO=Symbol.for("react.lazy"),Jb=Symbol.iterator;function aO(e){return e===null||typeof e!="object"?null:(e=Jb&&e[Jb]||e["@@iterator"],typeof e=="function"?e:null)}var gN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vN=Object.assign,yN={};function co(e,t,r){this.props=e,this.context=t,this.refs=yN,this.updater=r||gN}co.prototype.isReactComponent={};co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xN(){}xN.prototype=co.prototype;function Mv(e,t,r){this.props=e,this.context=t,this.refs=yN,this.updater=r||gN}var Fv=Mv.prototype=new xN;Fv.constructor=Mv;vN(Fv,co.prototype);Fv.isPureReactComponent=!0;var e0=Array.isArray,bN=Object.prototype.hasOwnProperty,Rv={current:null},_N={key:!0,ref:!0,__self:!0,__source:!0};function wN(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)bN.call(t,n)&&!_N.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:dc,type:e,key:a,ref:o,props:i,_owner:Rv.current}}function sO(e,t){return{$$typeof:dc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dv(e){return typeof e=="object"&&e!==null&&e.$$typeof===dc}function oO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var t0=/\/+/g;function nh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oO(""+e.key):t.toString(36)}function Vu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case dc:case Zz:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+nh(o,0):n,e0(i)?(r="",e!=null&&(r=e.replace(t0,"$&/")+"/"),Vu(i,t,r,"",function(u){return u})):i!=null&&(Dv(i)&&(i=sO(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(t0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",e0(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+nh(a,l);o+=Vu(a,t,r,c,i)}else if(c=aO(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+nh(a,l++),o+=Vu(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vc(e,t,r){if(e==null)return e;var n=[],i=0;return Vu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function lO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var or={current:null},Wu={transition:null},cO={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Wu,ReactCurrentOwner:Rv};function SN(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Vc,forEach:function(e,t,r){Vc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vc(e,function(){t++}),t},toArray:function(e){return Vc(e,function(t){return t})||[]},only:function(e){if(!Dv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=co;Re.Fragment=Qz;Re.Profiler=Xz;Re.PureComponent=Mv;Re.StrictMode=Yz;Re.Suspense=rO;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cO;Re.act=SN;Re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vN({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Rv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)bN.call(t,c)&&!_N.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:dc,type:e.type,key:i,ref:a,props:n,_owner:o}};Re.createContext=function(e){return e={$$typeof:eO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jz,_context:e},e.Consumer=e};Re.createElement=wN;Re.createFactory=function(e){var t=wN.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:tO,render:e}};Re.isValidElement=Dv;Re.lazy=function(e){return{$$typeof:iO,_payload:{_status:-1,_result:e},_init:lO}};Re.memo=function(e,t){return{$$typeof:nO,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Wu.transition;Wu.transition={};try{e()}finally{Wu.transition=t}};Re.unstable_act=SN;Re.useCallback=function(e,t){return or.current.useCallback(e,t)};Re.useContext=function(e){return or.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return or.current.useDeferredValue(e)};Re.useEffect=function(e,t){return or.current.useEffect(e,t)};Re.useId=function(){return or.current.useId()};Re.useImperativeHandle=function(e,t,r){return or.current.useImperativeHandle(e,t,r)};Re.useInsertionEffect=function(e,t){return or.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return or.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return or.current.useMemo(e,t)};Re.useReducer=function(e,t,r){return or.current.useReducer(e,t,r)};Re.useRef=function(e){return or.current.useRef(e)};Re.useState=function(e){return or.current.useState(e)};Re.useSyncExternalStore=function(e,t,r){return or.current.useSyncExternalStore(e,t,r)};Re.useTransition=function(){return or.current.useTransition()};Re.version="18.3.1";fN.exports=Re;var x=fN.exports;const Zt=fi(x),NN=mN({__proto__:null,default:Zt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uO=x,dO=Symbol.for("react.element"),pO=Symbol.for("react.fragment"),mO=Object.prototype.hasOwnProperty,hO=uO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fO={key:!0,ref:!0,__self:!0,__source:!0};function kN(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)mO.call(t,n)&&!fO.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:dO,type:e,key:a,ref:o,props:i,_owner:hO.current}}Op.Fragment=pO;Op.jsx=kN;Op.jsxs=kN;hN.exports=Op;var s=hN.exports,Nf={},jN={exports:{}},Mr={},AN={exports:{}},CN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,G){var ie=H.length;H.push(G);e:for(;0<ie;){var J=ie-1>>>1,Y=H[J];if(0<i(Y,G))H[J]=G,H[ie]=Y,ie=J;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var G=H[0],ie=H.pop();if(ie!==G){H[0]=ie;e:for(var J=0,Y=H.length,pe=Y>>>1;J<pe;){var oe=2*(J+1)-1,se=H[oe],_e=oe+1,te=H[_e];if(0>i(se,ie))_e<Y&&0>i(te,se)?(H[J]=te,H[_e]=ie,J=_e):(H[J]=se,H[oe]=ie,J=oe);else if(_e<Y&&0>i(te,ie))H[J]=te,H[_e]=ie,J=_e;else break e}}return G}function i(H,G){var ie=H.sortIndex-G.sortIndex;return ie!==0?ie:H.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,p=null,h=3,m=!1,y=!1,f=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=H)n(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(u)}}function S(H){if(f=!1,_(H),!y)if(r(c)!==null)y=!0,K(w);else{var G=r(u);G!==null&&F(S,G.startTime-H)}}function w(H,G){y=!1,f&&(f=!1,v(O),O=-1),m=!0;var ie=h;try{for(_(G),p=r(c);p!==null&&(!(p.expirationTime>G)||H&&!M());){var J=p.callback;if(typeof J=="function"){p.callback=null,h=p.priorityLevel;var Y=J(p.expirationTime<=G);G=e.unstable_now(),typeof Y=="function"?p.callback=Y:p===r(c)&&n(c),_(G)}else n(c);p=r(c)}if(p!==null)var pe=!0;else{var oe=r(u);oe!==null&&F(S,oe.startTime-G),pe=!1}return pe}finally{p=null,h=ie,m=!1}}var N=!1,j=null,O=-1,E=5,P=-1;function M(){return!(e.unstable_now()-P<E)}function T(){if(j!==null){var H=e.unstable_now();P=H;var G=!0;try{G=j(!0,H)}finally{G?$():(N=!1,j=null)}}else N=!1}var $;if(typeof b=="function")$=function(){b(T)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,U=C.port2;C.port1.onmessage=T,$=function(){U.postMessage(null)}}else $=function(){g(T,0)};function K(H){j=H,N||(N=!0,$())}function F(H,G){O=g(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,K(w))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(H){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var ie=h;h=G;try{return H()}finally{h=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=h;h=H;try{return G()}finally{h=ie}},e.unstable_scheduleCallback=function(H,G,ie){var J=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?J+ie:J):ie=J,H){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ie+Y,H={id:d++,callback:G,priorityLevel:H,startTime:ie,expirationTime:Y,sortIndex:-1},ie>J?(H.sortIndex=ie,t(u,H),r(c)===null&&H===r(u)&&(f?(v(O),O=-1):f=!0,F(S,ie-J))):(H.sortIndex=Y,t(c,H),y||m||(y=!0,K(w))),H},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(H){var G=h;return function(){var ie=h;h=G;try{return H.apply(this,arguments)}finally{h=ie}}}})(CN);AN.exports=CN;var gO=AN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vO=x,zr=gO;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PN=new Set,kl={};function Ja(e,t){Vs(e,t),Vs(e+"Capture",t)}function Vs(e,t){for(kl[e]=t,e=0;e<t.length;e++)PN.add(t[e])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kf=Object.prototype.hasOwnProperty,yO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r0={},n0={};function xO(e){return kf.call(n0,e)?!0:kf.call(r0,e)?!1:yO.test(e)?n0[e]=!0:(r0[e]=!0,!1)}function bO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _O(e,t,r,n){if(t===null||typeof t>"u"||bO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bt[t]=new lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lv=/[\-:]([a-z])/g;function Bv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lv,Bv);Bt[t]=new lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lv,Bv);Bt[t]=new lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lv,Bv);Bt[t]=new lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new lr(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function qv(e,t,r,n){var i=Bt.hasOwnProperty(t)?Bt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_O(t,r,i,n)&&(r=null),n||i===null?xO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gi=vO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),xs=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),jf=Symbol.for("react.profiler"),EN=Symbol.for("react.provider"),TN=Symbol.for("react.context"),$v=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Cf=Symbol.for("react.suspense_list"),Vv=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),zN=Symbol.for("react.offscreen"),i0=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=i0&&e[i0]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Object.assign,ih;function tl(e){if(ih===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ih=t&&t[1]||""}return`
`+ih+e}var ah=!1;function sh(e,t){if(!e||ah)return"";ah=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ah=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tl(e):""}function wO(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=sh(e.type,!1),e;case 11:return e=sh(e.type.render,!1),e;case 1:return e=sh(e.type,!0),e;default:return""}}function Pf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bs:return"Fragment";case xs:return"Portal";case jf:return"Profiler";case Uv:return"StrictMode";case Af:return"Suspense";case Cf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TN:return(e.displayName||"Context")+".Consumer";case EN:return(e._context.displayName||"Context")+".Provider";case $v:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vv:return t=e.displayName||null,t!==null?t:Pf(e.type)||"Memo";case Ti:t=e._payload,e=e._init;try{return Pf(e(t))}catch{}}return null}function SO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pf(t);case 8:return t===Uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ON(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NO(e){var t=ON(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kc(e){e._valueTracker||(e._valueTracker=NO(e))}function IN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ON(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ef(e,t){var r=t.checked;return lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function a0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function MN(e,t){t=t.checked,t!=null&&qv(e,"checked",t,!1)}function Tf(e,t){MN(e,t);var r=Xi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zf(e,t.type,r):t.hasOwnProperty("defaultValue")&&zf(e,t.type,Xi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function s0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zf(e,t,r){(t!=="number"||hd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rl=Array.isArray;function Os(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Of(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function o0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(xe(92));if(rl(r)){if(1<r.length)throw Error(xe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xi(r)}}function FN(e,t){var r=Xi(t.value),n=Xi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function l0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function If(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hc,DN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kO=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(e){kO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dl[t]=dl[e]})});function LN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dl.hasOwnProperty(e)&&dl[e]?(""+t).trim():t+"px"}function BN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=LN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var jO=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mf(e,t){if(t){if(jO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function Ff(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=null;function Wv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Df=null,Is=null,Ms=null;function c0(e){if(e=hc(e)){if(typeof Df!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=Dp(t),Df(e.stateNode,e.type,t))}}function qN(e){Is?Ms?Ms.push(e):Ms=[e]:Is=e}function UN(){if(Is){var e=Is,t=Ms;if(Ms=Is=null,c0(e),t)for(e=0;e<t.length;e++)c0(t[e])}}function $N(e,t){return e(t)}function VN(){}var oh=!1;function WN(e,t,r){if(oh)return e(t,r);oh=!0;try{return $N(e,t,r)}finally{oh=!1,(Is!==null||Ms!==null)&&(VN(),UN())}}function Al(e,t){var r=e.stateNode;if(r===null)return null;var n=Dp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(xe(231,t,typeof r));return r}var Lf=!1;if(si)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Lf=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Lf=!1}function AO(e,t,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var pl=!1,fd=null,gd=!1,Bf=null,CO={onError:function(e){pl=!0,fd=e}};function PO(e,t,r,n,i,a,o,l,c){pl=!1,fd=null,AO.apply(CO,arguments)}function EO(e,t,r,n,i,a,o,l,c){if(PO.apply(this,arguments),pl){if(pl){var u=fd;pl=!1,fd=null}else throw Error(xe(198));gd||(gd=!0,Bf=u)}}function es(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function KN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function u0(e){if(es(e)!==e)throw Error(xe(188))}function TO(e){var t=e.alternate;if(!t){if(t=es(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return u0(i),e;if(a===n)return u0(i),t;a=a.sibling}throw Error(xe(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(xe(189))}}if(r.alternate!==n)throw Error(xe(190))}if(r.tag!==3)throw Error(xe(188));return r.stateNode.current===r?e:t}function HN(e){return e=TO(e),e!==null?GN(e):null}function GN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GN(e);if(t!==null)return t;e=e.sibling}return null}var ZN=zr.unstable_scheduleCallback,d0=zr.unstable_cancelCallback,zO=zr.unstable_shouldYield,OO=zr.unstable_requestPaint,pt=zr.unstable_now,IO=zr.unstable_getCurrentPriorityLevel,Kv=zr.unstable_ImmediatePriority,QN=zr.unstable_UserBlockingPriority,vd=zr.unstable_NormalPriority,MO=zr.unstable_LowPriority,YN=zr.unstable_IdlePriority,Ip=null,Rn=null;function FO(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Ip,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:LO,RO=Math.log,DO=Math.LN2;function LO(e){return e>>>=0,e===0?32:31-(RO(e)/DO|0)|0}var Gc=64,Zc=4194304;function nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=nl(l):(a&=o,a!==0&&(n=nl(a)))}else o=r&~i,o!==0?n=nl(o):a!==0&&(n=nl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bn(t),i=1<<r,n|=e[r],t&=~i;return n}function BO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-bn(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=BO(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function qf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function XN(){var e=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),e}function lh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=r}function UO(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-bn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Hv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ve=0;function JN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ek,Gv,tk,rk,nk,Uf=!1,Qc=[],Ui=null,$i=null,Vi=null,Cl=new Map,Pl=new Map,Mi=[],$O="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p0(e,t){switch(e){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(t.pointerId)}}function Lo(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=hc(t),t!==null&&Gv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function VO(e,t,r,n,i){switch(t){case"focusin":return Ui=Lo(Ui,e,t,r,n,i),!0;case"dragenter":return $i=Lo($i,e,t,r,n,i),!0;case"mouseover":return Vi=Lo(Vi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Cl.set(a,Lo(Cl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Pl.set(a,Lo(Pl.get(a)||null,e,t,r,n,i)),!0}return!1}function ik(e){var t=wa(e.target);if(t!==null){var r=es(t);if(r!==null){if(t=r.tag,t===13){if(t=KN(r),t!==null){e.blockedOn=t,nk(e.priority,function(){tk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ku(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$f(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Rf=n,r.target.dispatchEvent(n),Rf=null}else return t=hc(r),t!==null&&Gv(t),e.blockedOn=r,!1;t.shift()}return!0}function m0(e,t,r){Ku(e)&&r.delete(t)}function WO(){Uf=!1,Ui!==null&&Ku(Ui)&&(Ui=null),$i!==null&&Ku($i)&&($i=null),Vi!==null&&Ku(Vi)&&(Vi=null),Cl.forEach(m0),Pl.forEach(m0)}function Bo(e,t){e.blockedOn===t&&(e.blockedOn=null,Uf||(Uf=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,WO)))}function El(e){function t(i){return Bo(i,e)}if(0<Qc.length){Bo(Qc[0],e);for(var r=1;r<Qc.length;r++){var n=Qc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ui!==null&&Bo(Ui,e),$i!==null&&Bo($i,e),Vi!==null&&Bo(Vi,e),Cl.forEach(t),Pl.forEach(t),r=0;r<Mi.length;r++)n=Mi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mi.length&&(r=Mi[0],r.blockedOn===null);)ik(r),r.blockedOn===null&&Mi.shift()}var Fs=gi.ReactCurrentBatchConfig,xd=!0;function KO(e,t,r,n){var i=Ve,a=Fs.transition;Fs.transition=null;try{Ve=1,Zv(e,t,r,n)}finally{Ve=i,Fs.transition=a}}function HO(e,t,r,n){var i=Ve,a=Fs.transition;Fs.transition=null;try{Ve=4,Zv(e,t,r,n)}finally{Ve=i,Fs.transition=a}}function Zv(e,t,r,n){if(xd){var i=$f(e,t,r,n);if(i===null)yh(e,t,n,bd,r),p0(e,n);else if(VO(i,e,t,r,n))n.stopPropagation();else if(p0(e,n),t&4&&-1<$O.indexOf(e)){for(;i!==null;){var a=hc(i);if(a!==null&&ek(a),a=$f(e,t,r,n),a===null&&yh(e,t,n,bd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else yh(e,t,n,null,r)}}var bd=null;function $f(e,t,r,n){if(bd=null,e=Wv(n),e=wa(e),e!==null)if(t=es(e),t===null)e=null;else if(r=t.tag,r===13){if(e=KN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bd=e,null}function ak(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IO()){case Kv:return 1;case QN:return 4;case vd:case MO:return 16;case YN:return 536870912;default:return 16}default:return 16}}var Li=null,Qv=null,Hu=null;function sk(){if(Hu)return Hu;var e,t=Qv,r=t.length,n,i="value"in Li?Li.value:Li.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Hu=i.slice(e,1<n?1-n:void 0)}function Gu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yc(){return!0}function h0(){return!1}function Fr(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yc:h0,this.isPropagationStopped=h0,this}return lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),t}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yv=Fr(uo),mc=lt({},uo,{view:0,detail:0}),GO=Fr(mc),ch,uh,qo,Mp=lt({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qo&&(qo&&e.type==="mousemove"?(ch=e.screenX-qo.screenX,uh=e.screenY-qo.screenY):uh=ch=0,qo=e),ch)},movementY:function(e){return"movementY"in e?e.movementY:uh}}),f0=Fr(Mp),ZO=lt({},Mp,{dataTransfer:0}),QO=Fr(ZO),YO=lt({},mc,{relatedTarget:0}),dh=Fr(YO),XO=lt({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),JO=Fr(XO),e3=lt({},uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t3=Fr(e3),r3=lt({},uo,{data:0}),g0=Fr(r3),n3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=a3[e])?!!t[e]:!1}function Xv(){return s3}var o3=lt({},mc,{key:function(e){if(e.key){var t=n3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?i3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xv,charCode:function(e){return e.type==="keypress"?Gu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l3=Fr(o3),c3=lt({},Mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v0=Fr(c3),u3=lt({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xv}),d3=Fr(u3),p3=lt({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),m3=Fr(p3),h3=lt({},Mp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f3=Fr(h3),g3=[9,13,27,32],Jv=si&&"CompositionEvent"in window,ml=null;si&&"documentMode"in document&&(ml=document.documentMode);var v3=si&&"TextEvent"in window&&!ml,ok=si&&(!Jv||ml&&8<ml&&11>=ml),y0=" ",x0=!1;function lk(e,t){switch(e){case"keyup":return g3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ck(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function y3(e,t){switch(e){case"compositionend":return ck(t);case"keypress":return t.which!==32?null:(x0=!0,y0);case"textInput":return e=t.data,e===y0&&x0?null:e;default:return null}}function x3(e,t){if(_s)return e==="compositionend"||!Jv&&lk(e,t)?(e=sk(),Hu=Qv=Li=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ok&&t.locale!=="ko"?null:t.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b3[e.type]:t==="textarea"}function uk(e,t,r,n){qN(n),t=_d(t,"onChange"),0<t.length&&(r=new Yv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hl=null,Tl=null;function _3(e){_k(e,0)}function Fp(e){var t=Ns(e);if(IN(t))return e}function w3(e,t){if(e==="change")return t}var dk=!1;if(si){var ph;if(si){var mh="oninput"in document;if(!mh){var _0=document.createElement("div");_0.setAttribute("oninput","return;"),mh=typeof _0.oninput=="function"}ph=mh}else ph=!1;dk=ph&&(!document.documentMode||9<document.documentMode)}function w0(){hl&&(hl.detachEvent("onpropertychange",pk),Tl=hl=null)}function pk(e){if(e.propertyName==="value"&&Fp(Tl)){var t=[];uk(t,Tl,e,Wv(e)),WN(_3,t)}}function S3(e,t,r){e==="focusin"?(w0(),hl=t,Tl=r,hl.attachEvent("onpropertychange",pk)):e==="focusout"&&w0()}function N3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fp(Tl)}function k3(e,t){if(e==="click")return Fp(t)}function j3(e,t){if(e==="input"||e==="change")return Fp(t)}function A3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:A3;function zl(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!kf.call(t,i)||!wn(e[i],t[i]))return!1}return!0}function S0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function N0(e,t){var r=S0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=S0(r)}}function mk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hk(){for(var e=window,t=hd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hd(e.document)}return t}function ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function C3(e){var t=hk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&mk(r.ownerDocument.documentElement,r)){if(n!==null&&ey(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=N0(r,a);var o=N0(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P3=si&&"documentMode"in document&&11>=document.documentMode,ws=null,Vf=null,fl=null,Wf=!1;function k0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wf||ws==null||ws!==hd(n)||(n=ws,"selectionStart"in n&&ey(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fl&&zl(fl,n)||(fl=n,n=_d(Vf,"onSelect"),0<n.length&&(t=new Yv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ws)))}function Xc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ss={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},hh={},fk={};si&&(fk=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Rp(e){if(hh[e])return hh[e];if(!Ss[e])return e;var t=Ss[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in fk)return hh[e]=t[r];return e}var gk=Rp("animationend"),vk=Rp("animationiteration"),yk=Rp("animationstart"),xk=Rp("transitionend"),bk=new Map,j0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(e,t){bk.set(e,t),Ja(t,[e])}for(var fh=0;fh<j0.length;fh++){var gh=j0[fh],E3=gh.toLowerCase(),T3=gh[0].toUpperCase()+gh.slice(1);ta(E3,"on"+T3)}ta(gk,"onAnimationEnd");ta(vk,"onAnimationIteration");ta(yk,"onAnimationStart");ta("dblclick","onDoubleClick");ta("focusin","onFocus");ta("focusout","onBlur");ta(xk,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z3=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function A0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,EO(n,t,void 0,e),e.currentTarget=null}function _k(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;A0(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;A0(i,l,u),a=c}}}if(gd)throw e=Bf,gd=!1,Bf=null,e}function Je(e,t){var r=t[Qf];r===void 0&&(r=t[Qf]=new Set);var n=e+"__bubble";r.has(n)||(wk(t,e,2,!1),r.add(n))}function vh(e,t,r){var n=0;t&&(n|=4),wk(r,e,n,t)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Ol(e){if(!e[Jc]){e[Jc]=!0,PN.forEach(function(r){r!=="selectionchange"&&(z3.has(r)||vh(r,!1,e),vh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jc]||(t[Jc]=!0,vh("selectionchange",!1,t))}}function wk(e,t,r,n){switch(ak(t)){case 1:var i=KO;break;case 4:i=HO;break;default:i=Zv}r=i.bind(null,t,r,e),i=void 0,!Lf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function yh(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=wa(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}WN(function(){var u=a,d=Wv(r),p=[];e:{var h=bk.get(e);if(h!==void 0){var m=Yv,y=e;switch(e){case"keypress":if(Gu(r)===0)break e;case"keydown":case"keyup":m=l3;break;case"focusin":y="focus",m=dh;break;case"focusout":y="blur",m=dh;break;case"beforeblur":case"afterblur":m=dh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=f0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=d3;break;case gk:case vk:case yk:m=JO;break;case xk:m=m3;break;case"scroll":m=GO;break;case"wheel":m=f3;break;case"copy":case"cut":case"paste":m=t3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=v0}var f=(t&4)!==0,g=!f&&e==="scroll",v=f?h!==null?h+"Capture":null:h;f=[];for(var b=u,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,v!==null&&(S=Al(b,v),S!=null&&f.push(Il(b,S,_)))),g)break;b=b.return}0<f.length&&(h=new m(h,y,null,r,d),p.push({event:h,listeners:f}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Rf&&(y=r.relatedTarget||r.fromElement)&&(wa(y)||y[oi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?wa(y):null,y!==null&&(g=es(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(f=f0,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(f=v0,S="onPointerLeave",v="onPointerEnter",b="pointer"),g=m==null?h:Ns(m),_=y==null?h:Ns(y),h=new f(S,b+"leave",m,r,d),h.target=g,h.relatedTarget=_,S=null,wa(d)===u&&(f=new f(v,b+"enter",y,r,d),f.target=_,f.relatedTarget=g,S=f),g=S,m&&y)t:{for(f=m,v=y,b=0,_=f;_;_=ss(_))b++;for(_=0,S=v;S;S=ss(S))_++;for(;0<b-_;)f=ss(f),b--;for(;0<_-b;)v=ss(v),_--;for(;b--;){if(f===v||v!==null&&f===v.alternate)break t;f=ss(f),v=ss(v)}f=null}else f=null;m!==null&&C0(p,h,m,f,!1),y!==null&&g!==null&&C0(p,g,y,f,!0)}}e:{if(h=u?Ns(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=w3;else if(b0(h))if(dk)w=j3;else{w=N3;var N=S3}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=k3);if(w&&(w=w(e,u))){uk(p,w,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&zf(h,"number",h.value)}switch(N=u?Ns(u):window,e){case"focusin":(b0(N)||N.contentEditable==="true")&&(ws=N,Vf=u,fl=null);break;case"focusout":fl=Vf=ws=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,k0(p,r,d);break;case"selectionchange":if(P3)break;case"keydown":case"keyup":k0(p,r,d)}var j;if(Jv)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else _s?lk(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(ok&&r.locale!=="ko"&&(_s||O!=="onCompositionStart"?O==="onCompositionEnd"&&_s&&(j=sk()):(Li=d,Qv="value"in Li?Li.value:Li.textContent,_s=!0)),N=_d(u,O),0<N.length&&(O=new g0(O,e,null,r,d),p.push({event:O,listeners:N}),j?O.data=j:(j=ck(r),j!==null&&(O.data=j)))),(j=v3?y3(e,r):x3(e,r))&&(u=_d(u,"onBeforeInput"),0<u.length&&(d=new g0("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:u}),d.data=j))}_k(p,t)})}function Il(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _d(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Al(e,r),a!=null&&n.unshift(Il(e,a,i)),a=Al(e,t),a!=null&&n.push(Il(e,a,i))),e=e.return}return n}function ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function C0(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Al(r,a),c!=null&&o.unshift(Il(r,c,l))):i||(c=Al(r,a),c!=null&&o.push(Il(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var O3=/\r\n?/g,I3=/\u0000|\uFFFD/g;function P0(e){return(typeof e=="string"?e:""+e).replace(O3,`
`).replace(I3,"")}function eu(e,t,r){if(t=P0(t),P0(e)!==t&&r)throw Error(xe(425))}function wd(){}var Kf=null,Hf=null;function Gf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zf=typeof setTimeout=="function"?setTimeout:void 0,M3=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,F3=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(e){return E0.resolve(null).then(e).catch(R3)}:Zf;function R3(e){setTimeout(function(){throw e})}function xh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),El(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);El(t)}function Wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function T0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),Mn="__reactFiber$"+po,Ml="__reactProps$"+po,oi="__reactContainer$"+po,Qf="__reactEvents$"+po,D3="__reactListeners$"+po,L3="__reactHandles$"+po;function wa(e){var t=e[Mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[oi]||r[Mn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=T0(e);e!==null;){if(r=e[Mn])return r;e=T0(e)}return t}e=r,r=e.parentNode}return null}function hc(e){return e=e[Mn]||e[oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function Dp(e){return e[Ml]||null}var Yf=[],ks=-1;function ra(e){return{current:e}}function tt(e){0>ks||(e.current=Yf[ks],Yf[ks]=null,ks--)}function Qe(e,t){ks++,Yf[ks]=e.current,e.current=t}var Ji={},er=ra(Ji),fr=ra(!1),Da=Ji;function Ws(e,t){var r=e.type.contextTypes;if(!r)return Ji;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gr(e){return e=e.childContextTypes,e!=null}function Sd(){tt(fr),tt(er)}function z0(e,t,r){if(er.current!==Ji)throw Error(xe(168));Qe(er,t),Qe(fr,r)}function Sk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(xe(108,SO(e)||"Unknown",i));return lt({},r,n)}function Nd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ji,Da=er.current,Qe(er,e),Qe(fr,fr.current),!0}function O0(e,t,r){var n=e.stateNode;if(!n)throw Error(xe(169));r?(e=Sk(e,t,Da),n.__reactInternalMemoizedMergedChildContext=e,tt(fr),tt(er),Qe(er,e)):tt(fr),Qe(fr,r)}var Gn=null,Lp=!1,bh=!1;function Nk(e){Gn===null?Gn=[e]:Gn.push(e)}function B3(e){Lp=!0,Nk(e)}function na(){if(!bh&&Gn!==null){bh=!0;var e=0,t=Ve;try{var r=Gn;for(Ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Gn=null,Lp=!1}catch(i){throw Gn!==null&&(Gn=Gn.slice(e+1)),ZN(Kv,na),i}finally{Ve=t,bh=!1}}return null}var js=[],As=0,kd=null,jd=0,Hr=[],Gr=0,La=null,Jn=1,ei="";function ha(e,t){js[As++]=jd,js[As++]=kd,kd=e,jd=t}function kk(e,t,r){Hr[Gr++]=Jn,Hr[Gr++]=ei,Hr[Gr++]=La,La=e;var n=Jn;e=ei;var i=32-bn(n)-1;n&=~(1<<i),r+=1;var a=32-bn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Jn=1<<32-bn(t)+i|r<<i|n,ei=a+e}else Jn=1<<a|r<<i|n,ei=e}function ty(e){e.return!==null&&(ha(e,1),kk(e,1,0))}function ry(e){for(;e===kd;)kd=js[--As],js[As]=null,jd=js[--As],js[As]=null;for(;e===La;)La=Hr[--Gr],Hr[Gr]=null,ei=Hr[--Gr],Hr[Gr]=null,Jn=Hr[--Gr],Hr[Gr]=null}var Er=null,Pr=null,nt=!1,vn=null;function jk(e,t){var r=Qr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function I0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Er=e,Pr=Wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Er=e,Pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=La!==null?{id:Jn,overflow:ei}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Er=e,Pr=null,!0):!1;default:return!1}}function Xf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jf(e){if(nt){var t=Pr;if(t){var r=t;if(!I0(e,t)){if(Xf(e))throw Error(xe(418));t=Wi(r.nextSibling);var n=Er;t&&I0(e,t)?jk(n,r):(e.flags=e.flags&-4097|2,nt=!1,Er=e)}}else{if(Xf(e))throw Error(xe(418));e.flags=e.flags&-4097|2,nt=!1,Er=e}}}function M0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Er=e}function tu(e){if(e!==Er)return!1;if(!nt)return M0(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gf(e.type,e.memoizedProps)),t&&(t=Pr)){if(Xf(e))throw Ak(),Error(xe(418));for(;t;)jk(e,t),t=Wi(t.nextSibling)}if(M0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pr=Wi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pr=null}}else Pr=Er?Wi(e.stateNode.nextSibling):null;return!0}function Ak(){for(var e=Pr;e;)e=Wi(e.nextSibling)}function Ks(){Pr=Er=null,nt=!1}function ny(e){vn===null?vn=[e]:vn.push(e)}var q3=gi.ReactCurrentBatchConfig;function Uo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(xe(309));var n=r.stateNode}if(!n)throw Error(xe(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(xe(284));if(!r._owner)throw Error(xe(290,e))}return e}function ru(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function F0(e){var t=e._init;return t(e._payload)}function Ck(e){function t(v,b){if(e){var _=v.deletions;_===null?(v.deletions=[b],v.flags|=16):_.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Zi(v,b),v.index=0,v.sibling=null,v}function a(v,b,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<b?(v.flags|=2,b):_):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,_,S){return b===null||b.tag!==6?(b=Ah(_,v.mode,S),b.return=v,b):(b=i(b,_),b.return=v,b)}function c(v,b,_,S){var w=_.type;return w===bs?d(v,b,_.props.children,S,_.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ti&&F0(w)===b.type)?(S=i(b,_.props),S.ref=Uo(v,b,_),S.return=v,S):(S=td(_.type,_.key,_.props,null,v.mode,S),S.ref=Uo(v,b,_),S.return=v,S)}function u(v,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Ch(_,v.mode,S),b.return=v,b):(b=i(b,_.children||[]),b.return=v,b)}function d(v,b,_,S,w){return b===null||b.tag!==7?(b=Ta(_,v.mode,S,w),b.return=v,b):(b=i(b,_),b.return=v,b)}function p(v,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ah(""+b,v.mode,_),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wc:return _=td(b.type,b.key,b.props,null,v.mode,_),_.ref=Uo(v,null,b),_.return=v,_;case xs:return b=Ch(b,v.mode,_),b.return=v,b;case Ti:var S=b._init;return p(v,S(b._payload),_)}if(rl(b)||Ro(b))return b=Ta(b,v.mode,_,null),b.return=v,b;ru(v,b)}return null}function h(v,b,_,S){var w=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:l(v,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wc:return _.key===w?c(v,b,_,S):null;case xs:return _.key===w?u(v,b,_,S):null;case Ti:return w=_._init,h(v,b,w(_._payload),S)}if(rl(_)||Ro(_))return w!==null?null:d(v,b,_,S,null);ru(v,_)}return null}function m(v,b,_,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(_)||null,l(b,v,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wc:return v=v.get(S.key===null?_:S.key)||null,c(b,v,S,w);case xs:return v=v.get(S.key===null?_:S.key)||null,u(b,v,S,w);case Ti:var N=S._init;return m(v,b,_,N(S._payload),w)}if(rl(S)||Ro(S))return v=v.get(_)||null,d(b,v,S,w,null);ru(b,S)}return null}function y(v,b,_,S){for(var w=null,N=null,j=b,O=b=0,E=null;j!==null&&O<_.length;O++){j.index>O?(E=j,j=null):E=j.sibling;var P=h(v,j,_[O],S);if(P===null){j===null&&(j=E);break}e&&j&&P.alternate===null&&t(v,j),b=a(P,b,O),N===null?w=P:N.sibling=P,N=P,j=E}if(O===_.length)return r(v,j),nt&&ha(v,O),w;if(j===null){for(;O<_.length;O++)j=p(v,_[O],S),j!==null&&(b=a(j,b,O),N===null?w=j:N.sibling=j,N=j);return nt&&ha(v,O),w}for(j=n(v,j);O<_.length;O++)E=m(j,v,O,_[O],S),E!==null&&(e&&E.alternate!==null&&j.delete(E.key===null?O:E.key),b=a(E,b,O),N===null?w=E:N.sibling=E,N=E);return e&&j.forEach(function(M){return t(v,M)}),nt&&ha(v,O),w}function f(v,b,_,S){var w=Ro(_);if(typeof w!="function")throw Error(xe(150));if(_=w.call(_),_==null)throw Error(xe(151));for(var N=w=null,j=b,O=b=0,E=null,P=_.next();j!==null&&!P.done;O++,P=_.next()){j.index>O?(E=j,j=null):E=j.sibling;var M=h(v,j,P.value,S);if(M===null){j===null&&(j=E);break}e&&j&&M.alternate===null&&t(v,j),b=a(M,b,O),N===null?w=M:N.sibling=M,N=M,j=E}if(P.done)return r(v,j),nt&&ha(v,O),w;if(j===null){for(;!P.done;O++,P=_.next())P=p(v,P.value,S),P!==null&&(b=a(P,b,O),N===null?w=P:N.sibling=P,N=P);return nt&&ha(v,O),w}for(j=n(v,j);!P.done;O++,P=_.next())P=m(j,v,O,P.value,S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?O:P.key),b=a(P,b,O),N===null?w=P:N.sibling=P,N=P);return e&&j.forEach(function(T){return t(v,T)}),nt&&ha(v,O),w}function g(v,b,_,S){if(typeof _=="object"&&_!==null&&_.type===bs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Wc:e:{for(var w=_.key,N=b;N!==null;){if(N.key===w){if(w=_.type,w===bs){if(N.tag===7){r(v,N.sibling),b=i(N,_.props.children),b.return=v,v=b;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ti&&F0(w)===N.type){r(v,N.sibling),b=i(N,_.props),b.ref=Uo(v,N,_),b.return=v,v=b;break e}r(v,N);break}else t(v,N);N=N.sibling}_.type===bs?(b=Ta(_.props.children,v.mode,S,_.key),b.return=v,v=b):(S=td(_.type,_.key,_.props,null,v.mode,S),S.ref=Uo(v,b,_),S.return=v,v=S)}return o(v);case xs:e:{for(N=_.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(v,b.sibling),b=i(b,_.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=Ch(_,v.mode,S),b.return=v,v=b}return o(v);case Ti:return N=_._init,g(v,b,N(_._payload),S)}if(rl(_))return y(v,b,_,S);if(Ro(_))return f(v,b,_,S);ru(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(v,b.sibling),b=i(b,_),b.return=v,v=b):(r(v,b),b=Ah(_,v.mode,S),b.return=v,v=b),o(v)):r(v,b)}return g}var Hs=Ck(!0),Pk=Ck(!1),Ad=ra(null),Cd=null,Cs=null,iy=null;function ay(){iy=Cs=Cd=null}function sy(e){var t=Ad.current;tt(Ad),e._currentValue=t}function eg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Rs(e,t){Cd=e,iy=Cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mr=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(iy!==e)if(e={context:e,memoizedValue:t,next:null},Cs===null){if(Cd===null)throw Error(xe(308));Cs=e,Cd.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var Sa=null;function oy(e){Sa===null?Sa=[e]:Sa.push(e)}function Ek(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,oy(t)):(r.next=i.next,i.next=r),t.interleaved=r,li(e,n)}function li(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zi=!1;function ly(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,li(e,r)}return i=n.interleaved,i===null?(t.next=t,oy(n)):(t.next=i.next,i.next=t),n.interleaved=t,li(e,r)}function Zu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hv(e,r)}}function R0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pd(e,t,r,n){var i=e.updateQueue;zi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var p=i.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,f=l;switch(h=t,m=r,f.tag){case 1:if(y=f.payload,typeof y=="function"){p=y.call(m,p,h);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=f.payload,h=typeof y=="function"?y.call(m,p,h):y,h==null)break e;p=lt({},p,h);break e;case 2:zi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=p):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);qa|=o,e.lanes=o,e.memoizedState=p}}function D0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(xe(191,i));i.call(n)}}}var fc={},Dn=ra(fc),Fl=ra(fc),Rl=ra(fc);function Na(e){if(e===fc)throw Error(xe(174));return e}function cy(e,t){switch(Qe(Rl,t),Qe(Fl,e),Qe(Dn,fc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:If(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=If(t,e)}tt(Dn),Qe(Dn,t)}function Gs(){tt(Dn),tt(Fl),tt(Rl)}function zk(e){Na(Rl.current);var t=Na(Dn.current),r=If(t,e.type);t!==r&&(Qe(Fl,e),Qe(Dn,r))}function uy(e){Fl.current===e&&(tt(Dn),tt(Fl))}var st=ra(0);function Ed(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _h=[];function dy(){for(var e=0;e<_h.length;e++)_h[e]._workInProgressVersionPrimary=null;_h.length=0}var Qu=gi.ReactCurrentDispatcher,wh=gi.ReactCurrentBatchConfig,Ba=0,ot=null,_t=null,Et=null,Td=!1,gl=!1,Dl=0,U3=0;function Vt(){throw Error(xe(321))}function py(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wn(e[r],t[r]))return!1;return!0}function my(e,t,r,n,i,a){if(Ba=a,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qu.current=e===null||e.memoizedState===null?K3:H3,e=r(n,i),gl){a=0;do{if(gl=!1,Dl=0,25<=a)throw Error(xe(301));a+=1,Et=_t=null,t.updateQueue=null,Qu.current=G3,e=r(n,i)}while(gl)}if(Qu.current=zd,t=_t!==null&&_t.next!==null,Ba=0,Et=_t=ot=null,Td=!1,t)throw Error(xe(300));return e}function hy(){var e=Dl!==0;return Dl=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?ot.memoizedState=Et=e:Et=Et.next=e,Et}function tn(){if(_t===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Et===null?ot.memoizedState:Et.next;if(t!==null)Et=t,_t=e;else{if(e===null)throw Error(xe(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Et===null?ot.memoizedState=Et=e:Et=Et.next=e}return Et}function Ll(e,t){return typeof t=="function"?t(e):t}function Sh(e){var t=tn(),r=t.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=e;var n=_t,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Ba&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=n):c=c.next=p,ot.lanes|=d,qa|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,wn(n,t.memoizedState)||(mr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ot.lanes|=a,qa|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nh(e){var t=tn(),r=t.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);wn(a,t.memoizedState)||(mr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Ok(){}function Ik(e,t){var r=ot,n=tn(),i=t(),a=!wn(n.memoizedState,i);if(a&&(n.memoizedState=i,mr=!0),n=n.queue,fy(Rk.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,Bl(9,Fk.bind(null,r,n,i,t),void 0,null),Tt===null)throw Error(xe(349));Ba&30||Mk(r,t,i)}return i}function Mk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Fk(e,t,r,n){t.value=r,t.getSnapshot=n,Dk(t)&&Lk(e)}function Rk(e,t,r){return r(function(){Dk(t)&&Lk(e)})}function Dk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wn(e,r)}catch{return!0}}function Lk(e){var t=li(e,1);t!==null&&_n(t,e,1,-1)}function L0(e){var t=zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:e},t.queue=e,e=e.dispatch=W3.bind(null,ot,e),[t.memoizedState,e]}function Bl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Bk(){return tn().memoizedState}function Yu(e,t,r,n){var i=zn();ot.flags|=e,i.memoizedState=Bl(1|t,r,void 0,n===void 0?null:n)}function Bp(e,t,r,n){var i=tn();n=n===void 0?null:n;var a=void 0;if(_t!==null){var o=_t.memoizedState;if(a=o.destroy,n!==null&&py(n,o.deps)){i.memoizedState=Bl(t,r,a,n);return}}ot.flags|=e,i.memoizedState=Bl(1|t,r,a,n)}function B0(e,t){return Yu(8390656,8,e,t)}function fy(e,t){return Bp(2048,8,e,t)}function qk(e,t){return Bp(4,2,e,t)}function Uk(e,t){return Bp(4,4,e,t)}function $k(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vk(e,t,r){return r=r!=null?r.concat([e]):null,Bp(4,4,$k.bind(null,t,e),r)}function gy(){}function Wk(e,t){var r=tn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&py(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Kk(e,t){var r=tn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&py(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hk(e,t,r){return Ba&21?(wn(r,t)||(r=XN(),ot.lanes|=r,qa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mr=!0),e.memoizedState=r)}function $3(e,t){var r=Ve;Ve=r!==0&&4>r?r:4,e(!0);var n=wh.transition;wh.transition={};try{e(!1),t()}finally{Ve=r,wh.transition=n}}function Gk(){return tn().memoizedState}function V3(e,t,r){var n=Gi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zk(e))Qk(t,r);else if(r=Ek(e,t,r,n),r!==null){var i=ar();_n(r,e,n,i),Yk(r,t,n)}}function W3(e,t,r){var n=Gi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zk(e))Qk(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,wn(l,o)){var c=t.interleaved;c===null?(i.next=i,oy(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=Ek(e,t,i,n),r!==null&&(i=ar(),_n(r,e,n,i),Yk(r,t,n))}}function Zk(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function Qk(e,t){gl=Td=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hv(e,r)}}var zd={readContext:en,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},K3={readContext:en,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:B0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yu(4194308,4,$k.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yu(4,2,e,t)},useMemo:function(e,t){var r=zn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=V3.bind(null,ot,e),[n.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:L0,useDebugValue:gy,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=L0(!1),t=e[0];return e=$3.bind(null,e[1]),zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ot,i=zn();if(nt){if(r===void 0)throw Error(xe(407));r=r()}else{if(r=t(),Tt===null)throw Error(xe(349));Ba&30||Mk(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,B0(Rk.bind(null,n,a,e),[e]),n.flags|=2048,Bl(9,Fk.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=zn(),t=Tt.identifierPrefix;if(nt){var r=ei,n=Jn;r=(n&~(1<<32-bn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=U3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},H3={readContext:en,useCallback:Wk,useContext:en,useEffect:fy,useImperativeHandle:Vk,useInsertionEffect:qk,useLayoutEffect:Uk,useMemo:Kk,useReducer:Sh,useRef:Bk,useState:function(){return Sh(Ll)},useDebugValue:gy,useDeferredValue:function(e){var t=tn();return Hk(t,_t.memoizedState,e)},useTransition:function(){var e=Sh(Ll)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Ok,useSyncExternalStore:Ik,useId:Gk,unstable_isNewReconciler:!1},G3={readContext:en,useCallback:Wk,useContext:en,useEffect:fy,useImperativeHandle:Vk,useInsertionEffect:qk,useLayoutEffect:Uk,useMemo:Kk,useReducer:Nh,useRef:Bk,useState:function(){return Nh(Ll)},useDebugValue:gy,useDeferredValue:function(e){var t=tn();return _t===null?t.memoizedState=e:Hk(t,_t.memoizedState,e)},useTransition:function(){var e=Nh(Ll)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Ok,useSyncExternalStore:Ik,useId:Gk,unstable_isNewReconciler:!1};function pn(e,t){if(e&&e.defaultProps){t=lt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:lt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qp={isMounted:function(e){return(e=e._reactInternals)?es(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ar(),i=Gi(e),a=ni(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ki(e,a,i),t!==null&&(_n(t,e,i,n),Zu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ar(),i=Gi(e),a=ni(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ki(e,a,i),t!==null&&(_n(t,e,i,n),Zu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ar(),n=Gi(e),i=ni(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ki(e,i,n),t!==null&&(_n(t,e,n,r),Zu(t,e,n))}};function q0(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!zl(r,n)||!zl(i,a):!0}function Xk(e,t,r){var n=!1,i=Ji,a=t.contextType;return typeof a=="object"&&a!==null?a=en(a):(i=gr(t)?Da:er.current,n=t.contextTypes,a=(n=n!=null)?Ws(e,i):Ji),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function U0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qp.enqueueReplaceState(t,t.state,null)}function rg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},ly(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=en(a):(a=gr(t)?Da:er.current,i.context=Ws(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(tg(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qp.enqueueReplaceState(i,i.state,null),Pd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zs(e,t){try{var r="",n=t;do r+=wO(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function kh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ng(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Z3=typeof WeakMap=="function"?WeakMap:Map;function Jk(e,t,r){r=ni(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Id||(Id=!0,mg=n),ng(e,t)},r}function ej(e,t,r){r=ni(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ng(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ng(e,t),typeof n!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Z3;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=cI.bind(null,e,t,r),t.then(e,e))}function V0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function W0(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ni(-1,1),t.tag=2,Ki(r,t,1))),r.lanes|=1),e)}var Q3=gi.ReactCurrentOwner,mr=!1;function tr(e,t,r,n){t.child=e===null?Pk(t,null,r,n):Hs(t,e.child,r,n)}function K0(e,t,r,n,i){r=r.render;var a=t.ref;return Rs(t,i),n=my(e,t,r,n,a,i),r=hy(),e!==null&&!mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ci(e,t,i)):(nt&&r&&ty(t),t.flags|=1,tr(e,t,n,i),t.child)}function H0(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Ny(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,tj(e,t,a,n,i)):(e=td(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:zl,r(o,n)&&e.ref===t.ref)return ci(e,t,i)}return t.flags|=1,e=Zi(a,n),e.ref=t.ref,e.return=t,t.child=e}function tj(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(zl(a,n)&&e.ref===t.ref)if(mr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(mr=!0);else return t.lanes=e.lanes,ci(e,t,i)}return ig(e,t,r,n,i)}function rj(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Es,Sr),Sr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Es,Sr),Sr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Qe(Es,Sr),Sr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Qe(Es,Sr),Sr|=n;return tr(e,t,i,r),t.child}function nj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ig(e,t,r,n,i){var a=gr(r)?Da:er.current;return a=Ws(t,a),Rs(t,i),r=my(e,t,r,n,a,i),n=hy(),e!==null&&!mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ci(e,t,i)):(nt&&n&&ty(t),t.flags|=1,tr(e,t,r,i),t.child)}function G0(e,t,r,n,i){if(gr(r)){var a=!0;Nd(t)}else a=!1;if(Rs(t,i),t.stateNode===null)Xu(e,t),Xk(t,r,n),rg(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=en(u):(u=gr(r)?Da:er.current,u=Ws(t,u));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&U0(t,o,n,u),zi=!1;var h=t.memoizedState;o.state=h,Pd(t,n,o,i),c=t.memoizedState,l!==n||h!==c||fr.current||zi?(typeof d=="function"&&(tg(t,r,d,n),c=t.memoizedState),(l=zi||q0(t,r,l,n,h,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Tk(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:pn(t.type,l),o.props=u,p=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=en(c):(c=gr(r)?Da:er.current,c=Ws(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||h!==c)&&U0(t,o,n,c),zi=!1,h=t.memoizedState,o.state=h,Pd(t,n,o,i);var y=t.memoizedState;l!==p||h!==y||fr.current||zi?(typeof m=="function"&&(tg(t,r,m,n),y=t.memoizedState),(u=zi||q0(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ag(e,t,r,n,a,i)}function ag(e,t,r,n,i,a){nj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&O0(t,r,!1),ci(e,t,a);n=t.stateNode,Q3.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Hs(t,e.child,null,a),t.child=Hs(t,null,l,a)):tr(e,t,l,a),t.memoizedState=n.state,i&&O0(t,r,!0),t.child}function ij(e){var t=e.stateNode;t.pendingContext?z0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&z0(e,t.context,!1),cy(e,t.containerInfo)}function Z0(e,t,r,n,i){return Ks(),ny(i),t.flags|=256,tr(e,t,r,n),t.child}var sg={dehydrated:null,treeContext:null,retryLane:0};function og(e){return{baseLanes:e,cachePool:null,transitions:null}}function aj(e,t,r){var n=t.pendingProps,i=st.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qe(st,i&1),e===null)return Jf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Vp(o,n,0,null),e=Ta(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=og(r),t.memoizedState=sg,e):vy(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Y3(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Zi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Zi(l,a):(a=Ta(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?og(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=sg,n}return a=e.child,e=a.sibling,n=Zi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function vy(e,t){return t=Vp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nu(e,t,r,n){return n!==null&&ny(n),Hs(t,e.child,null,r),e=vy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y3(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=kh(Error(xe(422))),nu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Vp({mode:"visible",children:n.children},i,0,null),a=Ta(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Hs(t,e.child,null,o),t.child.memoizedState=og(o),t.memoizedState=sg,a);if(!(t.mode&1))return nu(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(xe(419)),n=kh(a,n,void 0),nu(e,t,o,n)}if(l=(o&e.childLanes)!==0,mr||l){if(n=Tt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,li(e,i),_n(n,e,i,-1))}return Sy(),n=kh(Error(xe(421))),nu(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=uI.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Pr=Wi(i.nextSibling),Er=t,nt=!0,vn=null,e!==null&&(Hr[Gr++]=Jn,Hr[Gr++]=ei,Hr[Gr++]=La,Jn=e.id,ei=e.overflow,La=t),t=vy(t,n.children),t.flags|=4096,t)}function Q0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),eg(e.return,t,r)}function jh(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function sj(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(tr(e,t,n.children,r),n=st.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Q0(e,r,t);else if(e.tag===19)Q0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qe(st,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ed(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),jh(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ed(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}jh(t,!0,r,null,a);break;case"together":jh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ci(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,r=Zi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Zi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function X3(e,t,r){switch(t.tag){case 3:ij(t),Ks();break;case 5:zk(t);break;case 1:gr(t.type)&&Nd(t);break;case 4:cy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Qe(Ad,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qe(st,st.current&1),t.flags|=128,null):r&t.child.childLanes?aj(e,t,r):(Qe(st,st.current&1),e=ci(e,t,r),e!==null?e.sibling:null);Qe(st,st.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sj(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(st,st.current),n)break;return null;case 22:case 23:return t.lanes=0,rj(e,t,r)}return ci(e,t,r)}var oj,lg,lj,cj;oj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lg=function(){};lj=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Na(Dn.current);var a=null;switch(r){case"input":i=Ef(e,i),n=Ef(e,n),a=[];break;case"select":i=lt({},i,{value:void 0}),n=lt({},n,{value:void 0}),a=[];break;case"textarea":i=Of(e,i),n=Of(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wd)}Mf(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Je("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};cj=function(e,t,r,n){r!==n&&(t.flags|=4)};function $o(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function J3(e,t,r){var n=t.pendingProps;switch(ry(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(t),null;case 1:return gr(t.type)&&Sd(),Wt(t),null;case 3:return n=t.stateNode,Gs(),tt(fr),tt(er),dy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(gg(vn),vn=null))),lg(e,t),Wt(t),null;case 5:uy(t);var i=Na(Rl.current);if(r=t.type,e!==null&&t.stateNode!=null)lj(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(xe(166));return Wt(t),null}if(e=Na(Dn.current),tu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Mn]=t,n[Ml]=a,e=(t.mode&1)!==0,r){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(i=0;i<il.length;i++)Je(il[i],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":a0(n,a),Je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Je("invalid",n);break;case"textarea":o0(n,a),Je("invalid",n)}Mf(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&eu(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&eu(n.textContent,l,e),i=["children",""+l]):kl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Je("scroll",n)}switch(r){case"input":Kc(n),s0(n,a,!0);break;case"textarea":Kc(n),l0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=wd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Mn]=t,e[Ml]=n,oj(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ff(r,n),r){case"dialog":Je("cancel",e),Je("close",e),i=n;break;case"iframe":case"object":case"embed":Je("load",e),i=n;break;case"video":case"audio":for(i=0;i<il.length;i++)Je(il[i],e);i=n;break;case"source":Je("error",e),i=n;break;case"img":case"image":case"link":Je("error",e),Je("load",e),i=n;break;case"details":Je("toggle",e),i=n;break;case"input":a0(e,n),i=Ef(e,n),Je("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=lt({},n,{value:void 0}),Je("invalid",e);break;case"textarea":o0(e,n),i=Of(e,n),Je("invalid",e);break;default:i=n}Mf(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?BN(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DN(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jl(e,c):typeof c=="number"&&jl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(kl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Je("scroll",e):c!=null&&qv(e,a,c,o))}switch(r){case"input":Kc(e),s0(e,n,!1);break;case"textarea":Kc(e),l0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Os(e,!!n.multiple,a,!1):n.defaultValue!=null&&Os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wt(t),null;case 6:if(e&&t.stateNode!=null)cj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(xe(166));if(r=Na(Rl.current),Na(Dn.current),tu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mn]=t,(a=n.nodeValue!==r)&&(e=Er,e!==null))switch(e.tag){case 3:eu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&eu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mn]=t,t.stateNode=n}return Wt(t),null;case 13:if(tt(st),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&Pr!==null&&t.mode&1&&!(t.flags&128))Ak(),Ks(),t.flags|=98560,a=!1;else if(a=tu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(xe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(xe(317));a[Mn]=t}else Ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wt(t),a=!1}else vn!==null&&(gg(vn),vn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?St===0&&(St=3):Sy())),t.updateQueue!==null&&(t.flags|=4),Wt(t),null);case 4:return Gs(),lg(e,t),e===null&&Ol(t.stateNode.containerInfo),Wt(t),null;case 10:return sy(t.type._context),Wt(t),null;case 17:return gr(t.type)&&Sd(),Wt(t),null;case 19:if(tt(st),a=t.memoizedState,a===null)return Wt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)$o(a,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ed(e),o!==null){for(t.flags|=128,$o(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qe(st,st.current&1|2),t.child}e=e.sibling}a.tail!==null&&pt()>Qs&&(t.flags|=128,n=!0,$o(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ed(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$o(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!nt)return Wt(t),null}else 2*pt()-a.renderingStartTime>Qs&&r!==1073741824&&(t.flags|=128,n=!0,$o(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=pt(),t.sibling=null,r=st.current,Qe(st,n?r&1|2:r&1),t):(Wt(t),null);case 22:case 23:return wy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Sr&1073741824&&(Wt(t),t.subtreeFlags&6&&(t.flags|=8192)):Wt(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function eI(e,t){switch(ry(t),t.tag){case 1:return gr(t.type)&&Sd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gs(),tt(fr),tt(er),dy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uy(t),null;case 13:if(tt(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));Ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(st),null;case 4:return Gs(),null;case 10:return sy(t.type._context),null;case 22:case 23:return wy(),null;case 24:return null;default:return null}}var iu=!1,Qt=!1,tI=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Ps(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ct(e,t,n)}else r.current=null}function cg(e,t,r){try{r()}catch(n){ct(e,t,n)}}var Y0=!1;function rI(e,t){if(Kf=xd,e=hk(),ey(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==r||i!==0&&p.nodeType!==3||(l=o+i),p!==a||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break t;if(h===r&&++u===i&&(l=o),h===a&&++d===n&&(c=o),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hf={focusedElem:e,selectionRange:r},xd=!1,ke=t;ke!==null;)if(t=ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ke=e;else for(;ke!==null;){t=ke;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var f=y.memoizedProps,g=y.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?f:pn(t.type,f),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(S){ct(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ke=e;break}ke=t.return}return y=Y0,Y0=!1,y}function vl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&cg(t,r,a)}i=i.next}while(i!==n)}}function Up(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ug(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function uj(e){var t=e.alternate;t!==null&&(e.alternate=null,uj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[Ml],delete t[Qf],delete t[D3],delete t[L3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dj(e){return e.tag===5||e.tag===3||e.tag===4}function X0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wd));else if(n!==4&&(e=e.child,e!==null))for(dg(e,t,r),e=e.sibling;e!==null;)dg(e,t,r),e=e.sibling}function pg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(pg(e,t,r),e=e.sibling;e!==null;)pg(e,t,r),e=e.sibling}var Ft=null,hn=!1;function ji(e,t,r){for(r=r.child;r!==null;)pj(e,t,r),r=r.sibling}function pj(e,t,r){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Ip,r)}catch{}switch(r.tag){case 5:Qt||Ps(r,t);case 6:var n=Ft,i=hn;Ft=null,ji(e,t,r),Ft=n,hn=i,Ft!==null&&(hn?(e=Ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ft.removeChild(r.stateNode));break;case 18:Ft!==null&&(hn?(e=Ft,r=r.stateNode,e.nodeType===8?xh(e.parentNode,r):e.nodeType===1&&xh(e,r),El(e)):xh(Ft,r.stateNode));break;case 4:n=Ft,i=hn,Ft=r.stateNode.containerInfo,hn=!0,ji(e,t,r),Ft=n,hn=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&cg(r,t,o),i=i.next}while(i!==n)}ji(e,t,r);break;case 1:if(!Qt&&(Ps(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ct(r,t,l)}ji(e,t,r);break;case 21:ji(e,t,r);break;case 22:r.mode&1?(Qt=(n=Qt)||r.memoizedState!==null,ji(e,t,r),Qt=n):ji(e,t,r);break;default:ji(e,t,r)}}function J0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tI),t.forEach(function(n){var i=dI.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function cn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ft=l.stateNode,hn=!1;break e;case 3:Ft=l.stateNode.containerInfo,hn=!0;break e;case 4:Ft=l.stateNode.containerInfo,hn=!0;break e}l=l.return}if(Ft===null)throw Error(xe(160));pj(a,o,i),Ft=null,hn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ct(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mj(t,e),t=t.sibling}function mj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cn(t,e),Pn(e),n&4){try{vl(3,e,e.return),Up(3,e)}catch(f){ct(e,e.return,f)}try{vl(5,e,e.return)}catch(f){ct(e,e.return,f)}}break;case 1:cn(t,e),Pn(e),n&512&&r!==null&&Ps(r,r.return);break;case 5:if(cn(t,e),Pn(e),n&512&&r!==null&&Ps(r,r.return),e.flags&32){var i=e.stateNode;try{jl(i,"")}catch(f){ct(e,e.return,f)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&MN(i,a),Ff(l,o);var u=Ff(l,a);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?BN(i,p):d==="dangerouslySetInnerHTML"?DN(i,p):d==="children"?jl(i,p):qv(i,d,p,u)}switch(l){case"input":Tf(i,a);break;case"textarea":FN(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Os(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Os(i,!!a.multiple,a.defaultValue,!0):Os(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ml]=a}catch(f){ct(e,e.return,f)}}break;case 6:if(cn(t,e),Pn(e),n&4){if(e.stateNode===null)throw Error(xe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(f){ct(e,e.return,f)}}break;case 3:if(cn(t,e),Pn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{El(t.containerInfo)}catch(f){ct(e,e.return,f)}break;case 4:cn(t,e),Pn(e);break;case 13:cn(t,e),Pn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(by=pt())),n&4&&J0(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Qt=(u=Qt)||d,cn(t,e),Qt=u):cn(t,e),Pn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ke=e,d=e.child;d!==null;){for(p=ke=d;ke!==null;){switch(h=ke,m=h.child,h.tag){case 0:case 11:case 14:case 15:vl(4,h,h.return);break;case 1:Ps(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(f){ct(n,r,f)}}break;case 5:Ps(h,h.return);break;case 22:if(h.memoizedState!==null){t_(p);continue}}m!==null?(m.return=h,ke=m):t_(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=LN("display",o))}catch(f){ct(e,e.return,f)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(f){ct(e,e.return,f)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:cn(t,e),Pn(e),n&4&&J0(e);break;case 21:break;default:cn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(dj(r)){var n=r;break e}r=r.return}throw Error(xe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(jl(i,""),n.flags&=-33);var a=X0(e);pg(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=X0(e);dg(e,l,o);break;default:throw Error(xe(161))}}catch(c){ct(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nI(e,t,r){ke=e,hj(e)}function hj(e,t,r){for(var n=(e.mode&1)!==0;ke!==null;){var i=ke,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||iu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Qt;l=iu;var u=Qt;if(iu=o,(Qt=c)&&!u)for(ke=i;ke!==null;)o=ke,c=o.child,o.tag===22&&o.memoizedState!==null?r_(i):c!==null?(c.return=o,ke=c):r_(i);for(;a!==null;)ke=a,hj(a),a=a.sibling;ke=i,iu=l,Qt=u}e_(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ke=a):e_(e)}}function e_(e){for(;ke!==null;){var t=ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||Up(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:pn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&D0(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}D0(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&El(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Qt||t.flags&512&&ug(t)}catch(h){ct(t,t.return,h)}}if(t===e){ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,ke=r;break}ke=t.return}}function t_(e){for(;ke!==null;){var t=ke;if(t===e){ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ke=r;break}ke=t.return}}function r_(e){for(;ke!==null;){var t=ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Up(4,t)}catch(c){ct(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){ct(t,i,c)}}var a=t.return;try{ug(t)}catch(c){ct(t,a,c)}break;case 5:var o=t.return;try{ug(t)}catch(c){ct(t,o,c)}}}catch(c){ct(t,t.return,c)}if(t===e){ke=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ke=l;break}ke=t.return}}var iI=Math.ceil,Od=gi.ReactCurrentDispatcher,yy=gi.ReactCurrentOwner,Jr=gi.ReactCurrentBatchConfig,De=0,Tt=null,ft=null,Lt=0,Sr=0,Es=ra(0),St=0,ql=null,qa=0,$p=0,xy=0,yl=null,pr=null,by=0,Qs=1/0,Kn=null,Id=!1,mg=null,Hi=null,au=!1,Bi=null,Md=0,xl=0,hg=null,Ju=-1,ed=0;function ar(){return De&6?pt():Ju!==-1?Ju:Ju=pt()}function Gi(e){return e.mode&1?De&2&&Lt!==0?Lt&-Lt:q3.transition!==null?(ed===0&&(ed=XN()),ed):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:ak(e.type)),e):1}function _n(e,t,r,n){if(50<xl)throw xl=0,hg=null,Error(xe(185));pc(e,r,n),(!(De&2)||e!==Tt)&&(e===Tt&&(!(De&2)&&($p|=r),St===4&&Fi(e,Lt)),vr(e,n),r===1&&De===0&&!(t.mode&1)&&(Qs=pt()+500,Lp&&na()))}function vr(e,t){var r=e.callbackNode;qO(e,t);var n=yd(e,e===Tt?Lt:0);if(n===0)r!==null&&d0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&d0(r),t===1)e.tag===0?B3(n_.bind(null,e)):Nk(n_.bind(null,e)),F3(function(){!(De&6)&&na()}),r=null;else{switch(JN(n)){case 1:r=Kv;break;case 4:r=QN;break;case 16:r=vd;break;case 536870912:r=YN;break;default:r=vd}r=wj(r,fj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function fj(e,t){if(Ju=-1,ed=0,De&6)throw Error(xe(327));var r=e.callbackNode;if(Ds()&&e.callbackNode!==r)return null;var n=yd(e,e===Tt?Lt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Fd(e,n);else{t=n;var i=De;De|=2;var a=vj();(Tt!==e||Lt!==t)&&(Kn=null,Qs=pt()+500,Ea(e,t));do try{oI();break}catch(l){gj(e,l)}while(!0);ay(),Od.current=a,De=i,ft!==null?t=0:(Tt=null,Lt=0,t=St)}if(t!==0){if(t===2&&(i=qf(e),i!==0&&(n=i,t=fg(e,i))),t===1)throw r=ql,Ea(e,0),Fi(e,n),vr(e,pt()),r;if(t===6)Fi(e,n);else{if(i=e.current.alternate,!(n&30)&&!aI(i)&&(t=Fd(e,n),t===2&&(a=qf(e),a!==0&&(n=a,t=fg(e,a))),t===1))throw r=ql,Ea(e,0),Fi(e,n),vr(e,pt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(xe(345));case 2:fa(e,pr,Kn);break;case 3:if(Fi(e,n),(n&130023424)===n&&(t=by+500-pt(),10<t)){if(yd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ar(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zf(fa.bind(null,e,pr,Kn),t);break}fa(e,pr,Kn);break;case 4:if(Fi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-bn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*iI(n/1960))-n,10<n){e.timeoutHandle=Zf(fa.bind(null,e,pr,Kn),n);break}fa(e,pr,Kn);break;case 5:fa(e,pr,Kn);break;default:throw Error(xe(329))}}}return vr(e,pt()),e.callbackNode===r?fj.bind(null,e):null}function fg(e,t){var r=yl;return e.current.memoizedState.isDehydrated&&(Ea(e,t).flags|=256),e=Fd(e,t),e!==2&&(t=pr,pr=r,t!==null&&gg(t)),e}function gg(e){pr===null?pr=e:pr.push.apply(pr,e)}function aI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!wn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fi(e,t){for(t&=~xy,t&=~$p,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bn(t),n=1<<r;e[r]=-1,t&=~n}}function n_(e){if(De&6)throw Error(xe(327));Ds();var t=yd(e,0);if(!(t&1))return vr(e,pt()),null;var r=Fd(e,t);if(e.tag!==0&&r===2){var n=qf(e);n!==0&&(t=n,r=fg(e,n))}if(r===1)throw r=ql,Ea(e,0),Fi(e,t),vr(e,pt()),r;if(r===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fa(e,pr,Kn),vr(e,pt()),null}function _y(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(Qs=pt()+500,Lp&&na())}}function Ua(e){Bi!==null&&Bi.tag===0&&!(De&6)&&Ds();var t=De;De|=1;var r=Jr.transition,n=Ve;try{if(Jr.transition=null,Ve=1,e)return e()}finally{Ve=n,Jr.transition=r,De=t,!(De&6)&&na()}}function wy(){Sr=Es.current,tt(Es)}function Ea(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,M3(r)),ft!==null)for(r=ft.return;r!==null;){var n=r;switch(ry(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sd();break;case 3:Gs(),tt(fr),tt(er),dy();break;case 5:uy(n);break;case 4:Gs();break;case 13:tt(st);break;case 19:tt(st);break;case 10:sy(n.type._context);break;case 22:case 23:wy()}r=r.return}if(Tt=e,ft=e=Zi(e.current,null),Lt=Sr=t,St=0,ql=null,xy=$p=qa=0,pr=yl=null,Sa!==null){for(t=0;t<Sa.length;t++)if(r=Sa[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Sa=null}return e}function gj(e,t){do{var r=ft;try{if(ay(),Qu.current=zd,Td){for(var n=ot.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Td=!1}if(Ba=0,Et=_t=ot=null,gl=!1,Dl=0,yy.current=null,r===null||r.return===null){St=1,ql=t,ft=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=V0(o);if(m!==null){m.flags&=-257,W0(m,o,l,a,t),m.mode&1&&$0(a,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var f=new Set;f.add(c),t.updateQueue=f}else y.add(c);break e}else{if(!(t&1)){$0(a,u,t),Sy();break e}c=Error(xe(426))}}else if(nt&&l.mode&1){var g=V0(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),W0(g,o,l,a,t),ny(Zs(c,l));break e}}a=c=Zs(c,l),St!==4&&(St=2),yl===null?yl=[a]:yl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=Jk(a,c,t);R0(a,v);break e;case 1:l=c;var b=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Hi===null||!Hi.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=ej(a,l,t);R0(a,S);break e}}a=a.return}while(a!==null)}xj(r)}catch(w){t=w,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function vj(){var e=Od.current;return Od.current=zd,e===null?zd:e}function Sy(){(St===0||St===3||St===2)&&(St=4),Tt===null||!(qa&268435455)&&!($p&268435455)||Fi(Tt,Lt)}function Fd(e,t){var r=De;De|=2;var n=vj();(Tt!==e||Lt!==t)&&(Kn=null,Ea(e,t));do try{sI();break}catch(i){gj(e,i)}while(!0);if(ay(),De=r,Od.current=n,ft!==null)throw Error(xe(261));return Tt=null,Lt=0,St}function sI(){for(;ft!==null;)yj(ft)}function oI(){for(;ft!==null&&!zO();)yj(ft)}function yj(e){var t=_j(e.alternate,e,Sr);e.memoizedProps=e.pendingProps,t===null?xj(e):ft=t,yy.current=null}function xj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=eI(r,t),r!==null){r.flags&=32767,ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,ft=null;return}}else if(r=J3(r,t,Sr),r!==null){ft=r;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);St===0&&(St=5)}function fa(e,t,r){var n=Ve,i=Jr.transition;try{Jr.transition=null,Ve=1,lI(e,t,r,n)}finally{Jr.transition=i,Ve=n}return null}function lI(e,t,r,n){do Ds();while(Bi!==null);if(De&6)throw Error(xe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(UO(e,a),e===Tt&&(ft=Tt=null,Lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||au||(au=!0,wj(vd,function(){return Ds(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Jr.transition,Jr.transition=null;var o=Ve;Ve=1;var l=De;De|=4,yy.current=null,rI(e,r),mj(r,e),C3(Hf),xd=!!Kf,Hf=Kf=null,e.current=r,nI(r),OO(),De=l,Ve=o,Jr.transition=a}else e.current=r;if(au&&(au=!1,Bi=e,Md=i),a=e.pendingLanes,a===0&&(Hi=null),FO(r.stateNode),vr(e,pt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Id)throw Id=!1,e=mg,mg=null,e;return Md&1&&e.tag!==0&&Ds(),a=e.pendingLanes,a&1?e===hg?xl++:(xl=0,hg=e):xl=0,na(),null}function Ds(){if(Bi!==null){var e=JN(Md),t=Jr.transition,r=Ve;try{if(Jr.transition=null,Ve=16>e?16:e,Bi===null)var n=!1;else{if(e=Bi,Bi=null,Md=0,De&6)throw Error(xe(331));var i=De;for(De|=4,ke=e.current;ke!==null;){var a=ke,o=a.child;if(ke.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ke=u;ke!==null;){var d=ke;switch(d.tag){case 0:case 11:case 15:vl(8,d,a)}var p=d.child;if(p!==null)p.return=d,ke=p;else for(;ke!==null;){d=ke;var h=d.sibling,m=d.return;if(uj(d),d===u){ke=null;break}if(h!==null){h.return=m,ke=h;break}ke=m}}}var y=a.alternate;if(y!==null){var f=y.child;if(f!==null){y.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(f!==null)}}ke=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ke=o;else e:for(;ke!==null;){if(a=ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:vl(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,ke=v;break e}ke=a.return}}var b=e.current;for(ke=b;ke!==null;){o=ke;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ke=_;else e:for(o=b;ke!==null;){if(l=ke,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Up(9,l)}}catch(w){ct(l,l.return,w)}if(l===o){ke=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ke=S;break e}ke=l.return}}if(De=i,na(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Ip,e)}catch{}n=!0}return n}finally{Ve=r,Jr.transition=t}}return!1}function i_(e,t,r){t=Zs(r,t),t=Jk(e,t,1),e=Ki(e,t,1),t=ar(),e!==null&&(pc(e,1,t),vr(e,t))}function ct(e,t,r){if(e.tag===3)i_(e,e,r);else for(;t!==null;){if(t.tag===3){i_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hi===null||!Hi.has(n))){e=Zs(r,e),e=ej(t,e,1),t=Ki(t,e,1),e=ar(),t!==null&&(pc(t,1,e),vr(t,e));break}}t=t.return}}function cI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ar(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Lt&r)===r&&(St===4||St===3&&(Lt&130023424)===Lt&&500>pt()-by?Ea(e,0):xy|=r),vr(e,t)}function bj(e,t){t===0&&(e.mode&1?(t=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):t=1);var r=ar();e=li(e,t),e!==null&&(pc(e,t,r),vr(e,r))}function uI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bj(e,r)}function dI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(xe(314))}n!==null&&n.delete(t),bj(e,r)}var _j;_j=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||fr.current)mr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mr=!1,X3(e,t,r);mr=!!(e.flags&131072)}else mr=!1,nt&&t.flags&1048576&&kk(t,jd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xu(e,t),e=t.pendingProps;var i=Ws(t,er.current);Rs(t,r),i=my(null,t,n,e,i,r);var a=hy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gr(n)?(a=!0,Nd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ly(t),i.updater=qp,t.stateNode=i,i._reactInternals=t,rg(t,n,e,r),t=ag(null,t,n,!0,a,r)):(t.tag=0,nt&&a&&ty(t),tr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=mI(n),e=pn(n,e),i){case 0:t=ig(null,t,n,e,r);break e;case 1:t=G0(null,t,n,e,r);break e;case 11:t=K0(null,t,n,e,r);break e;case 14:t=H0(null,t,n,pn(n.type,e),r);break e}throw Error(xe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pn(n,i),ig(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pn(n,i),G0(e,t,n,i,r);case 3:e:{if(ij(t),e===null)throw Error(xe(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Tk(e,t),Pd(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Zs(Error(xe(423)),t),t=Z0(e,t,n,r,i);break e}else if(n!==i){i=Zs(Error(xe(424)),t),t=Z0(e,t,n,r,i);break e}else for(Pr=Wi(t.stateNode.containerInfo.firstChild),Er=t,nt=!0,vn=null,r=Pk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ks(),n===i){t=ci(e,t,r);break e}tr(e,t,n,r)}t=t.child}return t;case 5:return zk(t),e===null&&Jf(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Gf(n,i)?o=null:a!==null&&Gf(n,a)&&(t.flags|=32),nj(e,t),tr(e,t,o,r),t.child;case 6:return e===null&&Jf(t),null;case 13:return aj(e,t,r);case 4:return cy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hs(t,null,n,r):tr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pn(n,i),K0(e,t,n,i,r);case 7:return tr(e,t,t.pendingProps,r),t.child;case 8:return tr(e,t,t.pendingProps.children,r),t.child;case 12:return tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Qe(Ad,n._currentValue),n._currentValue=o,a!==null)if(wn(a.value,o)){if(a.children===i.children&&!fr.current){t=ci(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ni(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),eg(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(xe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),eg(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}tr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Rs(t,r),i=en(i),n=n(i),t.flags|=1,tr(e,t,n,r),t.child;case 14:return n=t.type,i=pn(n,t.pendingProps),i=pn(n.type,i),H0(e,t,n,i,r);case 15:return tj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:pn(n,i),Xu(e,t),t.tag=1,gr(n)?(e=!0,Nd(t)):e=!1,Rs(t,r),Xk(t,n,i),rg(t,n,i,r),ag(null,t,n,!0,e,r);case 19:return sj(e,t,r);case 22:return rj(e,t,r)}throw Error(xe(156,t.tag))};function wj(e,t){return ZN(e,t)}function pI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(e,t,r,n){return new pI(e,t,r,n)}function Ny(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mI(e){if(typeof e=="function")return Ny(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$v)return 11;if(e===Vv)return 14}return 2}function Zi(e,t){var r=e.alternate;return r===null?(r=Qr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function td(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")Ny(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case bs:return Ta(r.children,i,a,t);case Uv:o=8,i|=8;break;case jf:return e=Qr(12,r,t,i|2),e.elementType=jf,e.lanes=a,e;case Af:return e=Qr(13,r,t,i),e.elementType=Af,e.lanes=a,e;case Cf:return e=Qr(19,r,t,i),e.elementType=Cf,e.lanes=a,e;case zN:return Vp(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case EN:o=10;break e;case TN:o=9;break e;case $v:o=11;break e;case Vv:o=14;break e;case Ti:o=16,n=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=Qr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ta(e,t,r,n){return e=Qr(7,e,n,t),e.lanes=r,e}function Vp(e,t,r,n){return e=Qr(22,e,n,t),e.elementType=zN,e.lanes=r,e.stateNode={isHidden:!1},e}function Ah(e,t,r){return e=Qr(6,e,null,t),e.lanes=r,e}function Ch(e,t,r){return t=Qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hI(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lh(0),this.expirationTimes=lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ky(e,t,r,n,i,a,o,l,c){return e=new hI(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ly(a),e}function fI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Sj(e){if(!e)return Ji;e=e._reactInternals;e:{if(es(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var r=e.type;if(gr(r))return Sk(e,r,t)}return t}function Nj(e,t,r,n,i,a,o,l,c){return e=ky(r,n,!0,e,i,a,o,l,c),e.context=Sj(null),r=e.current,n=ar(),i=Gi(r),a=ni(n,i),a.callback=t??null,Ki(r,a,i),e.current.lanes=i,pc(e,i,n),vr(e,n),e}function Wp(e,t,r,n){var i=t.current,a=ar(),o=Gi(i);return r=Sj(r),t.context===null?t.context=r:t.pendingContext=r,t=ni(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ki(i,t,o),e!==null&&(_n(e,i,o,a),Zu(e,i,o)),o}function Rd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function a_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jy(e,t){a_(e,t),(e=e.alternate)&&a_(e,t)}function gI(){return null}var kj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ay(e){this._internalRoot=e}Kp.prototype.render=Ay.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));Wp(e,t,null,null)};Kp.prototype.unmount=Ay.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ua(function(){Wp(null,e,null,null)}),t[oi]=null}};function Kp(e){this._internalRoot=e}Kp.prototype.unstable_scheduleHydration=function(e){if(e){var t=rk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mi.length&&t!==0&&t<Mi[r].priority;r++);Mi.splice(r,0,e),r===0&&ik(e)}};function Cy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function s_(){}function vI(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Rd(o);a.call(u)}}var o=Nj(t,n,e,0,null,!1,!1,"",s_);return e._reactRootContainer=o,e[oi]=o.current,Ol(e.nodeType===8?e.parentNode:e),Ua(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Rd(c);l.call(u)}}var c=ky(e,0,!1,null,null,!1,!1,"",s_);return e._reactRootContainer=c,e[oi]=c.current,Ol(e.nodeType===8?e.parentNode:e),Ua(function(){Wp(t,c,r,n)}),c}function Gp(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Rd(o);l.call(c)}}Wp(t,o,e,i)}else o=vI(r,t,e,i,n);return Rd(o)}ek=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nl(t.pendingLanes);r!==0&&(Hv(t,r|1),vr(t,pt()),!(De&6)&&(Qs=pt()+500,na()))}break;case 13:Ua(function(){var n=li(e,1);if(n!==null){var i=ar();_n(n,e,1,i)}}),jy(e,1)}};Gv=function(e){if(e.tag===13){var t=li(e,134217728);if(t!==null){var r=ar();_n(t,e,134217728,r)}jy(e,134217728)}};tk=function(e){if(e.tag===13){var t=Gi(e),r=li(e,t);if(r!==null){var n=ar();_n(r,e,t,n)}jy(e,t)}};rk=function(){return Ve};nk=function(e,t){var r=Ve;try{return Ve=e,t()}finally{Ve=r}};Df=function(e,t,r){switch(t){case"input":if(Tf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Dp(n);if(!i)throw Error(xe(90));IN(n),Tf(n,i)}}}break;case"textarea":FN(e,r);break;case"select":t=r.value,t!=null&&Os(e,!!r.multiple,t,!1)}};$N=_y;VN=Ua;var yI={usingClientEntryPoint:!1,Events:[hc,Ns,Dp,qN,UN,_y]},Vo={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xI={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HN(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||gI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Ip=su.inject(xI),Rn=su}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yI;Mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cy(t))throw Error(xe(200));return fI(e,t,null,r)};Mr.createRoot=function(e,t){if(!Cy(e))throw Error(xe(299));var r=!1,n="",i=kj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ky(e,1,!1,null,null,r,!1,n,i),e[oi]=t.current,Ol(e.nodeType===8?e.parentNode:e),new Ay(t)};Mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=HN(t),e=e===null?null:e.stateNode,e};Mr.flushSync=function(e){return Ua(e)};Mr.hydrate=function(e,t,r){if(!Hp(t))throw Error(xe(200));return Gp(null,e,t,!0,r)};Mr.hydrateRoot=function(e,t,r){if(!Cy(e))throw Error(xe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=kj;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Nj(t,null,e,1,r??null,i,!1,a,o),e[oi]=t.current,Ol(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Kp(t)};Mr.render=function(e,t,r){if(!Hp(t))throw Error(xe(200));return Gp(null,e,t,!1,r)};Mr.unmountComponentAtNode=function(e){if(!Hp(e))throw Error(xe(40));return e._reactRootContainer?(Ua(function(){Gp(null,null,e,!1,function(){e._reactRootContainer=null,e[oi]=null})}),!0):!1};Mr.unstable_batchedUpdates=_y;Mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hp(r))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return Gp(e,t,r,!1,n)};Mr.version="18.3.1-next-f1338f8080-20240426";function jj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jj)}catch(e){console.error(e)}}jj(),jN.exports=Mr;var Py=jN.exports,o_=Py;Nf.createRoot=o_.createRoot,Nf.hydrateRoot=o_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}var qi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qi||(qi={}));const l_="popstate";function bI(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return vg("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Dd(i)}return wI(t,r,null,e)}function mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Aj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _I(){return Math.random().toString(36).substr(2,8)}function c_(e,t){return{usr:e.state,key:e.key,idx:t}}function vg(e,t,r,n){return r===void 0&&(r=null),Ul({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mo(t):t,{state:r,key:t&&t.key||n||_I()})}function Dd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function mo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function wI(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=qi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ul({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=qi.Pop;let g=d(),v=g==null?null:g-u;u=g,c&&c({action:l,location:f.location,delta:v})}function h(g,v){l=qi.Push;let b=vg(f.location,g,v);u=d()+1;let _=c_(b,u),S=f.createHref(b);try{o.pushState(_,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}a&&c&&c({action:l,location:f.location,delta:1})}function m(g,v){l=qi.Replace;let b=vg(f.location,g,v);u=d();let _=c_(b,u),S=f.createHref(b);o.replaceState(_,"",S),a&&c&&c({action:l,location:f.location,delta:0})}function y(g){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof g=="string"?g:Dd(g);return b=b.replace(/ $/,"%20"),mt(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let f={get action(){return l},get location(){return e(i,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(l_,p),c=g,()=>{i.removeEventListener(l_,p),c=null}},createHref(g){return t(i,g)},createURL:y,encodeLocation(g){let v=y(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(g){return o.go(g)}};return f}var u_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(u_||(u_={}));function SI(e,t,r){return r===void 0&&(r="/"),NI(e,t,r)}function NI(e,t,r,n){let i=typeof t=="string"?mo(t):t,a=Ey(i.pathname||"/",r);if(a==null)return null;let o=Cj(e);kI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=RI(a);l=II(o[c],u)}return l}function Cj(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(mt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Qi([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(mt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cj(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:zI(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of Pj(a.path))i(a,o,c)}),t}function Pj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Pj(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function kI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:OI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jI=/^:[\w-]+$/,AI=3,CI=2,PI=1,EI=10,TI=-2,d_=e=>e==="*";function zI(e,t){let r=e.split("/"),n=r.length;return r.some(d_)&&(n+=TI),t&&(n+=CI),r.filter(i=>!d_(i)).reduce((i,a)=>i+(jI.test(a)?AI:a===""?PI:EI),n)}function OI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function II(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",p=MI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Qi([a,p.pathname]),pathnameBase:qI(Qi([a,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(a=Qi([a,p.pathnameBase]))}return o}function MI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=FI(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,p)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let f=l[p]||"";o=a.slice(0,a.length-f.length).replace(/(.)\/+$/,"$1")}const y=l[p];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function FI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Aj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function RI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Aj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ey(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function DI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?mo(e):e;return{pathname:r?r.startsWith("/")?r:LI(r,t):t,search:UI(n),hash:$I(i)}}function LI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ph(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ty(e,t){let r=BI(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zy(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=mo(e):(i=Ul({},e),mt(!i.pathname||!i.pathname.includes("?"),Ph("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),Ph("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),Ph("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;i.pathname=h.join("/")}l=p>=0?t[p]:"/"}let c=DI(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Qi=e=>e.join("/").replace(/\/\/+/g,"/"),qI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$I=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ej=["post","put","patch","delete"];new Set(Ej);const WI=["get",...Ej];new Set(WI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}const Oy=x.createContext(null),KI=x.createContext(null),ia=x.createContext(null),Zp=x.createContext(null),aa=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Tj=x.createContext(null);function HI(e,t){let{relative:r}=t===void 0?{}:t;ho()||mt(!1);let{basename:n,navigator:i}=x.useContext(ia),{hash:a,pathname:o,search:l}=Oj(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Qi([n,o])),i.createHref({pathname:c,search:l,hash:a})}function ho(){return x.useContext(Zp)!=null}function Rr(){return ho()||mt(!1),x.useContext(Zp).location}function zj(e){x.useContext(ia).static||x.useLayoutEffect(e)}function Nn(){let{isDataRoute:e}=x.useContext(aa);return e?sM():GI()}function GI(){ho()||mt(!1);let e=x.useContext(Oy),{basename:t,future:r,navigator:n}=x.useContext(ia),{matches:i}=x.useContext(aa),{pathname:a}=Rr(),o=JSON.stringify(Ty(i,r.v7_relativeSplatPath)),l=x.useRef(!1);return zj(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=zy(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Qi([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,o,a,e])}function Oj(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(ia),{matches:i}=x.useContext(aa),{pathname:a}=Rr(),o=JSON.stringify(Ty(i,n.v7_relativeSplatPath));return x.useMemo(()=>zy(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function ZI(e,t){return QI(e,t)}function QI(e,t,r,n){ho()||mt(!1);let{navigator:i}=x.useContext(ia),{matches:a}=x.useContext(aa),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Rr(),d;if(t){var p;let g=typeof t=="string"?mo(t):t;c==="/"||(p=g.pathname)!=null&&p.startsWith(c)||mt(!1),d=g}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=SI(e,{pathname:m}),f=tM(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Qi([c,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Qi([c,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return t&&f?x.createElement(Zp.Provider,{value:{location:$l({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qi.Pop}},f):f}function YI(){let e=aM(),t=VI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:i},r):null,null)}const XI=x.createElement(YI,null);class JI extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(aa.Provider,{value:this.props.routeContext},x.createElement(Tj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eM(e){let{routeContext:t,match:r,children:n}=e,i=x.useContext(Oy);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(aa.Provider,{value:t},n)}function tM(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||mt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:h,errors:m}=r,y=p.route.loader&&h[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let m,y=!1,f=null,g=null;r&&(m=l&&p.route.id?l[p.route.id]:void 0,f=p.route.errorElement||XI,c&&(u<0&&h===0?(oM("route-fallback"),y=!0,g=null):u===h&&(y=!0,g=p.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),b=()=>{let _;return m?_=f:y?_=g:p.route.Component?_=x.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=d,x.createElement(eM,{match:p,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:_})};return r&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?x.createElement(JI,{location:r.location,revalidation:r.revalidation,component:f,error:m,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var Ij=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ij||{}),Mj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mj||{});function rM(e){let t=x.useContext(Oy);return t||mt(!1),t}function nM(e){let t=x.useContext(KI);return t||mt(!1),t}function iM(e){let t=x.useContext(aa);return t||mt(!1),t}function Fj(e){let t=iM(),r=t.matches[t.matches.length-1];return r.route.id||mt(!1),r.route.id}function aM(){var e;let t=x.useContext(Tj),r=nM(),n=Fj();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function sM(){let{router:e}=rM(Ij.UseNavigateStable),t=Fj(Mj.UseNavigateStable),r=x.useRef(!1);return zj(()=>{r.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,$l({fromRouteId:t},a)))},[e,t])}const p_={};function oM(e,t,r){p_[e]||(p_[e]=!0)}function lM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Iy(e){let{to:t,replace:r,state:n,relative:i}=e;ho()||mt(!1);let{future:a,static:o}=x.useContext(ia),{matches:l}=x.useContext(aa),{pathname:c}=Rr(),u=Nn(),d=zy(t,Ty(l,a.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(p),{replace:r,state:n,relative:i}),[u,p,i,r,n]),null}function vt(e){mt(!1)}function cM(e){let{basename:t="/",children:r=null,location:n,navigationType:i=qi.Pop,navigator:a,static:o=!1,future:l}=e;ho()&&mt(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:a,static:o,future:$l({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=mo(n));let{pathname:d="/",search:p="",hash:h="",state:m=null,key:y="default"}=n,f=x.useMemo(()=>{let g=Ey(d,c);return g==null?null:{location:{pathname:g,search:p,hash:h,state:m,key:y},navigationType:i}},[c,d,p,h,m,y,i]);return f==null?null:x.createElement(ia.Provider,{value:u},x.createElement(Zp.Provider,{children:r,value:f}))}function uM(e){let{children:t,location:r}=e;return ZI(yg(t),r)}new Promise(()=>{});function yg(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,i)=>{if(!x.isValidElement(n))return;let a=[...t,i];if(n.type===x.Fragment){r.push.apply(r,yg(n.props.children,a));return}n.type!==vt&&mt(!1),!n.props.index||!n.props.children||mt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yg(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(this,arguments)}function dM(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function pM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mM(e,t){return e.button===0&&(!t||t==="_self")&&!pM(e)}function bg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function hM(e,t){let r=bg(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const fM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gM="6";try{window.__reactRouterVersion=gM}catch{}const vM="startTransition",m_=NN[vM];function yM(e){let{basename:t,children:r,future:n,window:i}=e,a=x.useRef();a.current==null&&(a.current=bI({window:i,v5Compat:!0}));let o=a.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(p=>{u&&m_?m_(()=>c(p)):c(p)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>lM(n),[n]),x.createElement(cM,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const xM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=x.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:p}=t,h=dM(t,fM),{basename:m}=x.useContext(ia),y,f=!1;if(typeof u=="string"&&bM.test(u)&&(y=u,xM))try{let _=new URL(window.location.href),S=u.startsWith("//")?new URL(_.protocol+u):new URL(u),w=Ey(S.pathname,m);S.origin===_.origin&&w!=null?u=w+S.search+S.hash:f=!0}catch{}let g=HI(u,{relative:i}),v=_M(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:p});function b(_){n&&n(_),_.defaultPrevented||v(_)}return x.createElement("a",xg({},h,{href:y||g,onClick:f||a?n:b,ref:r,target:c}))});var h_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(h_||(h_={}));var f_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(f_||(f_={}));function _M(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Nn(),u=Rr(),d=Oj(e,{relative:o});return x.useCallback(p=>{if(mM(p,r)){p.preventDefault();let h=n!==void 0?n:Dd(u)===Dd(d);c(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,e,a,o,l])}function Rj(e){let t=x.useRef(bg(e)),r=x.useRef(!1),n=Rr(),i=x.useMemo(()=>hM(n.search,r.current?null:t.current),[n.search]),a=Nn(),o=x.useCallback((l,c)=>{const u=bg(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),g_=e=>{const t=SM(e);return t.charAt(0).toUpperCase()+t.slice(1)},Dj=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),NM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...kM,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Dj("lucide",i),...!a&&!NM(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const r=x.forwardRef(({className:n,...i},a)=>x.createElement(jM,{ref:a,iconNode:t,className:Dj(`lucide-${wM(g_(e))}`,`lucide-${e}`,n),...i}));return r.displayName=g_(e),r};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],CM=we("archive",AM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vl=we("arrow-left",PM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_g=we("arrow-right",EM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],zM=we("award",TM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],My=we("boxes",OM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Ls=we("building",IM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ys=we("calendar",MM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Lj=we("chart-column",FM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bj=we("check",RM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fy=we("chevron-down",DM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ld=we("chevron-left",LM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wl=we("chevron-right",BM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UM=we("chevron-up",qM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VM=we("circle-alert",$M);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ts=we("circle-check-big",WM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],HM=we("circle-check",KM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZM=we("circle-play",GM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],YM=we("clipboard-check",QM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],JM=we("clipboard",XM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bd=we("clock",eF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],rF=we("credit-card",tF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wg=we("dollar-sign",nF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Kl=we("download",iF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sF=we("earth",aF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lF=we("external-link",oF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xs=we("eye-off",cF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qn=we("eye",uF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Qp=we("file-down",dF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],mF=we("file-spreadsheet",pF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],za=we("file-text",hF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ry=we("funnel",fF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vF=we("globe",gF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xF=we("image",yF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],_F=we("images",bF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],SF=we("info",wF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],kF=we("key",NF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],qj=we("languages",jF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],CF=we("layers",AF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Dy=we("link-2",PF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sg=we("loader-circle",EF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Hl=we("lock",TF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fo=we("mail",zF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Gl=we("map-pin",OF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],MF=we("menu",IF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],RF=we("message-circle",FF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],LF=we("package-check",DF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$a=we("package",BF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yp=we("pen-line",qF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],$F=we("pencil",UF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],v_=we("percent",VF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Uj=we("phone",WF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rn=we("plus",KF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],$j=we("refresh-ccw",HF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Bs=we("refresh-cw",GF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],QF=we("rotate-ccw",ZF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jt=we("save",YF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],JF=we("scale",XF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xp=we("search",eR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],rR=we("send",tR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iR=we("settings",nR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ln=we("shield",aR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],y_=we("sparkles",sR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gc=we("square-pen",oR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],On=we("star",lR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ly=we("tag",cR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nt=we("trash-2",uR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vj=we("triangle-alert",dR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],vc=we("truck",pR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],By=we("upload",mR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],fR=we("unplug",hR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vR=we("user-plus",gR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Va=we("user",yR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wa=we("users",xR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yr=we("x",bR),Wj=x.createContext(),Eh={fr:{name:"Franais",flag:""},en:{name:"English",flag:""},de:{name:"Deutsch",flag:""},it:{name:"Italiano",flag:""},es:{name:"Espaol",flag:""},ro:{name:"Romn",flag:""}},x_="preferredLanguage",b_="appLang",__="fr",_R=({children:e})=>{const[t,r]=x.useState(__);x.useEffect(()=>{try{const i=localStorage.getItem(x_)||localStorage.getItem(b_)||localStorage.getItem("lang"),a=i&&Eh[i]?i:__;r(a),document.documentElement.setAttribute("lang",a),localStorage.setItem("lang",a)}catch{}},[]);const n=i=>{if(Eh[i]){r(i);try{localStorage.setItem(x_,i),localStorage.setItem(b_,i),localStorage.setItem("lang",i),document.documentElement.setAttribute("lang",i),window.dispatchEvent(new CustomEvent("i18n:changed",{detail:i})),window.dispatchEvent(new Event("app:lang-changed"))}catch{}}};return s.jsx(Wj.Provider,{value:{currentLanguage:t,changeLanguage:n,languages:Eh},children:e})},Dr=()=>{const e=x.useContext(Wj);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},wR={fr:{exports_archive_title:"Archive des rapports de stock (mensuel)",exports_archive_empty:"Aucun rapport archiv pour le moment",exports_archive_download:"Tlcharger"},en:{exports_archive_title:"Stock reports archive (monthly)",exports_archive_empty:"No archived reports yet",exports_archive_download:"Download"},de:{exports_archive_title:"Archiv der Lagerberichte (monatlich)",exports_archive_empty:"Noch keine archivierten Berichte",exports_archive_download:"Herunterladen"},it:{exports_archive_title:"Archivio report stock (mensile)",exports_archive_empty:"Nessun report archiviato al momento",exports_archive_download:"Scarica"},es:{exports_archive_title:"Archivo de informes de stock (mensual)",exports_archive_empty:"An no hay informes archivados",exports_archive_download:"Descargar"},ro:{exports_archive_title:"Arhiv rapoarte stoc (lunar)",exports_archive_empty:"Nu exist rapoarte arhivate",exports_archive_download:"Descarc"},pl:{exports_archive_title:"Archiwum raportw stanu magazynu (miesiczne)",exports_archive_empty:"Brak zarchiwizowanych raportw",exports_archive_download:"Pobierz"}},Kj={fr:{page_title:"Rceptions prep-center",page_subtitle:"Consultez les rceptions cres depuis longlet Produits.",report_hint:"Crez vos rceptions depuis Produits  Annonce de rception ; vous pouvez les ajuster ici tant quelles ne sont pas confirmes.",or:"ou",guide_video:" Guide vido",guide_tutorial:" Tutoriel : Guide utilisateur",import_instructions_pdf:"Instructions dimport (PDF)",stock_send_to_prep_instructions_sub:"Consignes denvoi en prparation",guide_download_error_prefix:"Impossible de tlcharger le guide",direct_with_qty:"Direct (Qt : {qty})",fba_mode_title:"Expdier vers Amazon",fba_mode_none:"Ne pas envoyer pour le moment",fba_mode_full:"Envoyer toutes les units vers Amazon",fba_mode_partial:"Envoi partiel",fba_mode_hint:"Ajustez ci-dessous les quantits pour chaque produit  expdier directement.",fba_mode_available:"Units annonces : {qty}",fba_mode_summary_full:"Le client a demand que toutes les units soient envoyes directement  Amazon.",fba_mode_summary_partial:"Le client a demand un envoi partiel vers Amazon.",fba_units_announced:"Marchandises  recevoir",fba_units_to_amazon:"Units  envoyer  Amazon",fba_units_announced_label:"Marchandises  recevoir :",new_receipt:"Nouvelle rception",view_details:"Voir dtails",back_to_list:" Retour  la liste",edit:"Modifier",save:"Enregistrer",saving:"Enregistrement",cancel:"Annuler",add_row:"Ajouter ligne",inventory_open:"Ajouter depuis linventaire",inventory_close:"Fermer linventaire",inventory_title:"Inventaire",inventory_search:"Rechercher nom / SKU / EAN",inventory_empty:"Aucun produit correspondant dans linventaire.",inventory_in_stock:"En stock : {qty}",inventory_add:"Ajouter",inventory_qty_error:"Saisissez une quantit dau moins 1.",add_tracking_number:"Ajouter un numro de suivi",add_fba_id:"Ajouter un ID dexpdition FBA",download_template:"Tlcharger le modle",import_file:"Importer le fichier",save_draft:"Enregistrer le brouillon",send:"Envoyer",actions:"Actions",template_filename:"modele_reception.csv",list_carrier:"Transporteur",list_tracking:"Numro de suivi",list_status:"Statut",list_products:"Produits",list_date:"Date",empty_list_title:"Aucune rception",empty_list_desc:"Crez dabord vos rceptions dans Produits  Annonce de rception, puis grez-les ici.",empty_products_title:"Aucun produit ajout",empty_products_desc:"Utilisez le modle Excel ou ajoutez des lignes manuellement",shipment_details:"Dtails de la Rception",delivery_info:"Informations de Livraison",import_products:"Importer les Produits",products_count:"Produits ({count})",carrier:"Transporteur",select_carrier:"Slectionner un transporteur",other:"Autre",other_carrier:"Autre transporteur",other_carrier_ph:"Nom du transporteur",tracking_id:"Numro de suivi",tracking_ph:"Ex: 1Z999AA1234567890",notes:"Notes (optionnel)",notes_ph:"Notes supplmentaires",date_created:"Date de cration",th_ean_asin:"ASIN / SKU / EAN",th_ean_asin_req:"ASIN / SKU / EAN *",th_name:"Nom du Produit",th_name_req:"Nom du Produit *",th_qty:"Quantit",th_expected_qty:"Marchandises  recevoir",th_received_qty:"Marchandises rceptionnes",th_qty_req:"Quantit *",th_sku:"SKU",th_line_status:"Statut ligne",th_price:"Prix d'Achat",th_send_to_fba:"Send to FBA",fba_direct:"Direct",fba_qty_ph:"Qty",fba_qty_title:"Cantitate trimis direct FBA ( Quantity)",status_draft:"Brouillon",status_submitted:"Envoy",status_partial:"Partiel",status_received:"Reu",status_processed:"Trait",status_cancelled:"Annul",line_status_received:"Rceptionn",line_status_received_hint:"Marqu comme reu",line_status_received_on:"Reu le {date}",line_status_pending:"En attente",line_status_pending_hint:"En attente de rception",line_status_progress:"{received}/{total} reus",qty_discrepancy:"cart: {count}",no_discrepancy:"Aucun cart",drop_text:"Glissez-dposez votre fichier .csv ou .xlsx ici",processing_file:"Traitement du fichier",imported_lines_ok:"{count} lignes importes avec succs",load_error_prefix:"Erreur de chargement",generic_error_prefix:"Erreur",must_have_header_and_row:"Le fichier doit contenir au moins un en-tte et une ligne de donnes",model_must_contain_cols:"Le modle doit contenir les colonnes: {cols}",line_missing_ean:"Ligne {line}: EAN/ASIN manquant",line_missing_name:"Ligne {line}: Nom du produit manquant",line_invalid_qty:"Ligne {line}: Quantit invalide",line_invalid_ean:"Ligne {line}: Format EAN/ASIN invalide",detected_errors:`Erreurs dtectes:
{errors}`,csv_read_error:"Eroare la citirea CSV: {msg}",upload_csv_xlsx_only:"Veuillez tlcharger un fichier .csv ou .xlsx",at_least_one_line:"Au moins une ligne valide est requise",invalid_lines_detected:"{count} ligne(s) invalide(s) dtecte(s)",confirm_send:"Envoyer cette rception? Vous ne pourrez plus la modifier.",draft_saved:"Brouillon sauvegard avec succs",reception_sent:"Rception envoye avec succs",changes_saved:"Modifications enregistres",ph_ean:"B0123456789",ph_name:"Nom du produit",ph_sku:"SKU-001",ph_price:"0.00",units_label:"produits",created_at_label:"Date"},en:{page_title:"Prep-center receiving",page_subtitle:"Review inbound shipments created from the Products tab.",report_hint:"Create receivings from Products  Notify incoming goods; you can adjust tracking and quantities here until staff confirms them.",or:"or",guide_video:" Video Guide",guide_tutorial:" Tutorial: User Guide",import_instructions_pdf:"Import Instructions (PDF)",preparation_request_guide_pdf:"Preparation request guide PDF",stock_send_to_prep_instructions_sub:"Send to preparation instructions",guide_download_error_prefix:"Can't download the guide",direct_with_qty:"Direct (Qty: {qty})",fba_mode_title:"Send to Amazon",fba_mode_none:"Do not send now",fba_mode_full:"Send all units to Amazon",fba_mode_partial:"Partial shipment",fba_mode_hint:"Adjust the quantities below for each product to be shipped directly.",fba_mode_available:"Units announced: {qty}",fba_mode_summary_full:"Client requested all units to be shipped directly to Amazon.",fba_mode_summary_partial:"Client requested a partial shipment to Amazon.",fba_units_announced:"Goods expected",fba_units_to_amazon:"Units to send to Amazon",fba_units_announced_label:"Goods expected:",template_filename:"receiving_template.csv",new_receipt:"New receiving",view_details:"View details",back_to_list:" Back to list",edit:"Edit",save:"Save",saving:"Saving",cancel:"Cancel",add_row:"Add row",inventory_open:"Add products from inventory",inventory_close:"Hide inventory",inventory_title:"Inventory",inventory_search:"Search name / SKU / EAN",inventory_empty:"No matching products in inventory.",inventory_in_stock:"In stock: {qty}",inventory_add:"Add",inventory_qty_error:"Enter a quantity of at least 1.",add_tracking_number:"Add tracking number",add_fba_id:"Add FBA Shipment ID",download_template:"Download template",import_file:"Import file",save_draft:"Save draft",send:"Send",actions:"Actions",list_carrier:"Carrier",list_tracking:"Tracking number",list_status:"Status",list_products:"Products",list_date:"Date",empty_list_title:"No receivings",empty_list_desc:"Create receivings from Products  Notify incoming goods, then review them here.",empty_products_title:"No products added",empty_products_desc:"Use the Excel template or add rows manually",shipment_details:"Receiving Details",delivery_info:"Delivery Information",import_products:"Import Products",products_count:"Products ({count})",carrier:"Carrier",select_carrier:"Select a carrier",other:"Other",other_carrier:"Other carrier",other_carrier_ph:"Carrier name",tracking_id:"Tracking number",tracking_ph:"e.g. 1Z999AA1234567890",notes:"Notes (optional)",notes_ph:"Additional notes",date_created:"Created at",th_ean_asin:"ASIN / SKU / EAN",th_ean_asin_req:"ASIN / SKU / EAN *",th_name:"Product Name",th_name_req:"Product Name *",th_qty:"Quantity",th_expected_qty:"Goods expected",th_received_qty:"Goods received",th_qty_req:"Quantity *",th_sku:"SKU",th_line_status:"Line status",th_price:"Purchase Price",th_send_to_fba:"Send to FBA",fba_direct:"Direct",fba_qty_ph:"Qty",fba_qty_title:"Quantity sent directly to FBA ( Quantity)",status_draft:"Draft",status_submitted:"Submitted",status_partial:"Partially received",status_received:"Received",status_processed:"Processed",status_cancelled:"Cancelled",line_status_received:"Received",line_status_received_hint:"Marked as received",line_status_received_on:"Received on {date}",line_status_pending:"Pending",line_status_pending_hint:"Waiting to be received",line_status_progress:"{received}/{total} received",qty_discrepancy:"Discrepancy: {count}",no_discrepancy:"No discrepancy",drop_text:"Drag & drop your .csv or .xlsx file here",processing_file:"Processing file",imported_lines_ok:"{count} lines imported successfully",load_error_prefix:"Load error",generic_error_prefix:"Error",must_have_header_and_row:"File must contain at least a header and one data row",model_must_contain_cols:"Template must contain columns: {cols}",line_missing_ean:"Line {line}: Missing EAN/ASIN",line_missing_name:"Line {line}: Missing product name",line_invalid_qty:"Line {line}: Invalid quantity",line_invalid_ean:"Line {line}: Invalid EAN/ASIN format",detected_errors:`Detected errors:
{errors}`,csv_read_error:"CSV read error: {msg}",upload_csv_xlsx_only:"Please upload a .csv or .xlsx file",at_least_one_line:"At least one valid row is required",invalid_lines_detected:"{count} invalid row(s) detected",confirm_send:"Send this receiving? You won't be able to edit it afterwards.",draft_saved:"Draft saved successfully",reception_sent:"Receiving sent successfully",changes_saved:"Changes saved",ph_ean:"B0123456789",ph_name:"Product name",ph_sku:"SKU-001",ph_price:"0.00",units_label:"products",created_at_label:"Date"},de:{page_title:"Prep-Center Wareneingnge",page_subtitle:"berprfe die Wareneingnge, die im Tab Produkte angelegt wurden.",report_hint:"Neue Eingnge bitte unter Produkte  Wareneingang ankndigen; hier kannst du sie bearbeiten, bis das Team sie besttigt.",or:"oder",guide_video:" Videoanleitung",guide_tutorial:" Tutorial: Benutzerhandbuch",import_instructions_pdf:"Import-Anleitung (PDF)",preparation_request_guide_pdf:"Vorbereitungsanforderungsleitfaden PDF",stock_send_to_prep_instructions_sub:"Anleitung zum Vorbereitungsversand",guide_download_error_prefix:"Leitfaden kann nicht heruntergeladen werden",direct_with_qty:"Direkt (Menge: {qty})",fba_mode_title:"Zu Amazon senden",fba_mode_none:"Jetzt nicht senden",fba_mode_full:"Alle Einheiten zu Amazon senden",fba_mode_partial:"Teilweise Sendung",fba_mode_hint:"Passe unten die Mengen fr jedes Produkt an, das direkt versendet werden soll.",fba_mode_available:"Gemeldete Einheiten: {qty}",fba_mode_summary_full:"Der Kunde hat angefordert, dass alle Einheiten direkt an Amazon gesendet werden.",fba_mode_summary_partial:"Der Kunde hat eine teilweise Sendung zu Amazon angefordert.",fba_units_announced:"Wareneingang erwartet",fba_units_to_amazon:"Einheiten fr Amazon",fba_units_announced_label:"Wareneingang erwartet:",template_filename:"vorlage_wareneingang.csv",new_receipt:"Neuer Wareneingang",view_details:"Details anzeigen",back_to_list:" Zurck zur Liste",edit:"Bearbeiten",save:"Speichern",saving:"Speichere",cancel:"Abbrechen",add_row:"Zeile hinzufgen",inventory_open:"Produkte aus dem Inventar hinzufgen",inventory_close:"Inventar schlieen",inventory_title:"Inventar",inventory_search:"Name / SKU / EAN suchen",inventory_empty:"Keine passenden Produkte im Inventar.",inventory_in_stock:"Auf Lager: {qty}",inventory_add:"Hinzufgen",inventory_qty_error:"Bitte eine Menge von mindestens 1 eingeben.",add_tracking_number:"Trackingnummer hinzufgen",add_fba_id:"FBA-Sendungs-ID hinzufgen",download_template:"Vorlage herunterladen",import_file:"Datei importieren",save_draft:"Entwurf speichern",send:"Senden",actions:"Aktionen",list_carrier:"Spediteur",list_tracking:"Sendungsnummer",list_status:"Status",list_products:"Produkte",list_date:"Datum",empty_list_title:"Keine Wareneingnge",empty_list_desc:"Erstelle Wareneingnge im Tab Produkte  Wareneingang ankndigen und verwalte sie hier.",empty_products_title:"Keine Produkte hinzugefgt",empty_products_desc:"Verwenden Sie die Excel-Vorlage oder fgen Sie manuell Zeilen hinzu",shipment_details:"Details zum Wareneingang",delivery_info:"Lieferinformationen",import_products:"Produkte importieren",products_count:"Produkte ({count})",carrier:"Spediteur",select_carrier:"Spediteur auswhlen",other:"Andere",other_carrier:"Anderer Spediteur",other_carrier_ph:"Name des Spediteurs",tracking_id:"Sendungsnummer",tracking_ph:"z. B. 1Z999AA1234567890",notes:"Notizen (optional)",notes_ph:"Zustzliche Notizen",date_created:"Erstellt am",th_ean_asin:"ASIN / SKU / EAN",th_ean_asin_req:"ASIN / SKU / EAN *",th_name:"Produktname",th_name_req:"Produktname *",th_qty:"Menge",th_expected_qty:"Wareneingang erwartet",th_received_qty:"Wareneingang erhalten",th_qty_req:"Menge *",th_sku:"SKU",th_line_status:"Linienstatus",th_price:"Einkaufspreis",th_send_to_fba:"An FBA senden",fba_direct:"Direkt",fba_qty_ph:"Menge",fba_qty_title:"Menge direkt an FBA ( Menge)",status_draft:"Entwurf",status_submitted:"Gesendet",status_partial:"Teilweise erhalten",status_received:"Eingegangen",status_processed:"Verarbeitet",status_cancelled:"Storniert",line_status_received:"Erhalten",line_status_received_hint:"Als erhalten markiert",line_status_received_on:"Erhalten am {date}",line_status_pending:"Ausstehend",line_status_pending_hint:"Wartet auf Eingang",line_status_progress:"{received}/{total} erhalten",qty_discrepancy:"Abweichung: {count}",no_discrepancy:"Keine Abweichung",drop_text:"Ziehen Sie Ihre .csv- oder .xlsx-Datei hierher",processing_file:"Datei wird verarbeitet",imported_lines_ok:"{count} Zeilen erfolgreich importiert",load_error_prefix:"Ladefehler",generic_error_prefix:"Fehler",must_have_header_and_row:"Datei muss mindestens Kopfzeile und eine Datenzeile enthalten",model_must_contain_cols:"Vorlage muss folgende Spalten enthalten: {cols}",line_missing_ean:"Zeile {line}: EAN/ASIN fehlt",line_missing_name:"Zeile {line}: Produktname fehlt",line_invalid_qty:"Zeile {line}: Ungltige Menge",line_invalid_ean:"Zeile {line}: Ungltiges EAN/ASIN-Format",detected_errors:`Erkannte Fehler:
{errors}`,csv_read_error:"CSV-Lesefehler: {msg}",upload_csv_xlsx_only:"Bitte laden Sie eine .csv- oder .xlsx-Datei hoch",at_least_one_line:"Mindestens eine gltige Zeile erforderlich",invalid_lines_detected:"{count} ungltige Zeile(n) gefunden",confirm_send:"Diesen Wareneingang senden? Danach ist keine Bearbeitung mehr mglich.",draft_saved:"Entwurf erfolgreich gespeichert",reception_sent:"Wareneingang erfolgreich gesendet",changes_saved:"nderungen gespeichert",ph_ean:"B0123456789",ph_name:"Produktname",ph_sku:"SKU-001",ph_price:"0.00",units_label:"Produkte",created_at_label:"Datum"},it:{page_title:"Ricezioni prep-center",page_subtitle:"Rivedi le ricezioni create dal tab Prodotti.",report_hint:"Crea le ricezioni da Prodotti  Annuncia ricezione; qui puoi modificarle finch non vengono confermate.",template_filename:"modello_ricezione.csv",or:"oppure",guide_video:" Guida video",import_instructions_pdf:"Istruzioni di importazione (PDF)",preparation_request_guide_pdf:"Guida alla richiesta di preparazione PDF",stock_send_to_prep_instructions_sub:"Istruzioni per invio a preparazione",guide_download_error_prefix:"Impossibile scaricare la guida",direct_with_qty:"Diretto (Qt: {qty})",fba_mode_title:"Invia ad Amazon",fba_mode_none:"Non inviare ora",fba_mode_full:"Invia tutte le unit ad Amazon",fba_mode_partial:"Spedizione parziale",fba_mode_hint:"Regola qui sotto le quantit per ogni prodotto da spedire direttamente.",fba_mode_available:"Unit annunciate: {qty}",fba_mode_summary_full:"Il cliente ha richiesto di inviare tutte le unit direttamente ad Amazon.",fba_mode_summary_partial:"Il cliente ha richiesto una spedizione parziale verso Amazon.",fba_units_announced:"Merce da ricevere",fba_units_to_amazon:"Unit da inviare ad Amazon",fba_units_announced_label:"Merce da ricevere:",new_receipt:"Nuova ricezione",view_details:"Vedi dettagli",back_to_list:" Torna allelenco",edit:"Modifica",save:"Salva",saving:"Salvataggio",cancel:"Annulla",add_row:"Aggiungi riga",inventory_open:"Aggiungi prodotti dall'inventario",inventory_close:"Nascondi inventario",inventory_title:"Inventario",inventory_search:"Cerca nome / SKU / EAN",inventory_empty:"Nessun prodotto corrispondente in inventario.",inventory_in_stock:"In stock: {qty}",inventory_add:"Aggiungi",inventory_qty_error:"Inserisci una quantit di almeno 1.",add_tracking_number:"Aggiungi numero di tracking",add_fba_id:"Aggiungi ID spedizione FBA",download_template:"Scarica modello",import_file:"Importa file",save_draft:"Salva bozza",send:"Invia",actions:"Azioni",list_carrier:"Corriere",list_tracking:"Numero di tracking",list_status:"Stato",list_products:"Prodotti",list_date:"Data",empty_list_title:"Nessuna ricezione",empty_list_desc:"Crea una ricezione da Prodotti  Annuncia ricezione e poi gestiscila qui.",empty_products_title:"Nessun prodotto aggiunto",empty_products_desc:"Usa il modello Excel o aggiungi righe manualmente",shipment_details:"Dettagli della Ricezione",delivery_info:"Informazioni di Consegna",import_products:"Importa Prodotti",products_count:"Prodotti ({count})",carrier:"Corriere",select_carrier:"Seleziona un corriere",other:"Altro",other_carrier:"Altro corriere",other_carrier_ph:"Nome del corriere",tracking_id:"Numero di tracking",tracking_ph:"es. 1Z999AA1234567890",notes:"Note (opzionale)",notes_ph:"Note aggiuntive",date_created:"Data creazione",th_ean_asin:"ASIN / SKU / EAN",th_ean_asin_req:"ASIN / SKU / EAN *",th_name:"Nome prodotto",th_name_req:"Nome prodotto *",th_qty:"Quantit",th_expected_qty:"Merce da ricevere",th_received_qty:"Merce ricevuta",th_qty_req:"Quantit *",th_sku:"SKU",th_line_status:"Stato riga",th_price:"Prezzo dacquisto",th_send_to_fba:"Invia a FBA",fba_direct:"Diretto",fba_qty_ph:"Qt",fba_qty_title:"Quantit inviata direttamente a FBA ( Quantit)",status_draft:"Bozza",status_submitted:"Inviato",status_partial:"Ricezione parziale",status_received:"Ricevuto",status_processed:"Elaborato",status_cancelled:"Annullato",line_status_received:"Ricevuto",line_status_received_hint:"Segnato come ricevuto",line_status_received_on:"Ricevuto il {date}",line_status_pending:"In attesa",line_status_pending_hint:"In attesa di ricezione",line_status_progress:"{received}/{total} ricevuti",qty_discrepancy:"Discrepanza: {count}",no_discrepancy:"Nessuna discrepanza",drop_text:"Trascina qui il tuo file .csv o .xlsx",processing_file:"Elaborazione file",imported_lines_ok:"{count} righe importate con successo",load_error_prefix:"Errore di caricamento",generic_error_prefix:"Errore",must_have_header_and_row:"Il file deve contenere almeno unintestazione e una riga dati",model_must_contain_cols:"Il modello deve contenere le colonne: {cols}",line_missing_ean:"Riga {line}: EAN/ASIN mancante",line_missing_name:"Riga {line}: Nome prodotto mancante",line_invalid_qty:"Riga {line}: Quantit non valida",line_invalid_ean:"Riga {line}: Formato EAN/ASIN non valido",detected_errors:`Errori rilevati:
{errors}`,csv_read_error:"Errore lettura CSV: {msg}",upload_csv_xlsx_only:"Carica un file .csv o .xlsx",at_least_one_line:" richiesta almeno una riga valida",invalid_lines_detected:"{count} riga/e non valida/e rilevata/e",confirm_send:"Inviare questa ricezione? Non potrai pi modificarla.",draft_saved:"Bozza salvata con successo",reception_sent:"Ricezione inviata con successo",changes_saved:"Modifiche salvate",ph_ean:"B0123456789",ph_name:"Nome prodotto",ph_sku:"SKU-001",ph_price:"0.00",units_label:"prodotti",created_at_label:"Data"},es:{page_title:"Recepciones del prep-center",page_subtitle:"Revisa las recepciones creadas desde el tab Productos.",report_hint:"Crea recepciones en Productos  Anunciar recepcin; aqu puedes ajustarlas hasta que el equipo las confirme.",template_filename:"plantilla_recepcion.csv",or:"o",guide_video:" Gua en video",guide_tutorial:" Tutorial: Gua de usuario",import_instructions_pdf:"Instrucciones de importacin (PDF)",preparation_request_guide_pdf:"Gua de solicitud de preparacin PDF",stock_send_to_prep_instructions_sub:"Instrucciones para envo a preparacin",guide_download_error_prefix:"No se puede descargar la gua",direct_with_qty:"Directo (Cant.: {qty})",fba_mode_title:"Enviar a Amazon",fba_mode_none:"No enviar ahora",fba_mode_full:"Enviar todas las unidades a Amazon",fba_mode_partial:"Envo parcial",fba_mode_hint:"Ajusta las cantidades abajo para cada producto que quieras enviar directamente.",fba_mode_available:"Unidades anunciadas: {qty}",fba_mode_summary_full:"El cliente solicit enviar todas las unidades directamente a Amazon.",fba_mode_summary_partial:"El cliente solicit un envo parcial hacia Amazon.",fba_units_announced:"Mercanca a recibir",fba_units_to_amazon:"Unidades para enviar a Amazon",fba_units_announced_label:"Mercanca a recibir:",new_receipt:"Nueva recepcin",view_details:"Ver detalles",back_to_list:" Volver a la lista",edit:"Editar",save:"Guardar",saving:"Guardando",cancel:"Cancelar",add_row:"Aadir fila",inventory_open:"Agregar productos del inventario",inventory_close:"Cerrar inventario",inventory_title:"Inventario",inventory_search:"Buscar nombre / SKU / EAN",inventory_empty:"No hay productos coincidentes en el inventario.",inventory_in_stock:"En stock: {qty}",inventory_add:"Agregar",inventory_qty_error:"Introduce una cantidad de al menos 1.",add_tracking_number:"Agregar nmero de seguimiento",add_fba_id:"Agregar ID de envo FBA",download_template:"Descargar plantilla",import_file:"Importar archivo",save_draft:"Guardar borrador",send:"Enviar",actions:"Acciones",list_carrier:"Transportista",list_tracking:"Nmero de seguimiento",list_status:"Estado",list_products:"Productos",list_date:"Fecha",empty_list_title:"Sin recepciones",empty_list_desc:"Crea primero una recepcin en Productos  Anunciar recepcin y luego gestinala aqu.",empty_products_title:"No hay productos aadidos",empty_products_desc:"Usa la plantilla de Excel o aade filas manualmente",shipment_details:"Detalles de la Recepcin",delivery_info:"Informacin de Entrega",import_products:"Importar Productos",products_count:"Productos ({count})",carrier:"Transportista",select_carrier:"Selecciona un transportista",other:"Otro",other_carrier:"Otro transportista",other_carrier_ph:"Nombre del transportista",tracking_id:"Nmero de seguimiento",tracking_ph:"p. ej. 1Z999AA1234567890",notes:"Notas (opcional)",notes_ph:"Notas adicionales",date_created:"Fecha de creacin",th_ean_asin:"ASIN / SKU / EAN",th_ean_asin_req:"ASIN / SKU / EAN *",th_name:"Nombre del producto",th_name_req:"Nombre del producto *",th_qty:"Cantidad",th_expected_qty:"Mercanca a recibir",th_received_qty:"Mercanca recibida",th_qty_req:"Cantidad *",th_sku:"SKU",th_line_status:"Estado de lnea",th_price:"Precio de compra",th_send_to_fba:"Enviar a FBA",fba_direct:"Directo",fba_qty_ph:"Cant.",fba_qty_title:"Cantidad enviada directamente a FBA ( Cantidad)",status_draft:"Borrador",status_submitted:"Enviado",status_partial:"Recepcin parcial",status_received:"Recibido",status_processed:"Procesado",status_cancelled:"Cancelado",line_status_received:"Recibido",line_status_received_hint:"Marcado como recibido",line_status_received_on:"Recibido el {date}",line_status_pending:"Pendiente",line_status_pending_hint:"Esperando recepcin",line_status_progress:"{received}/{total} recibidos",qty_discrepancy:"Diferencia: {count}",no_discrepancy:"Sin diferencias",drop_text:"Arrastra y suelta aqu tu archivo .csv o .xlsx",processing_file:"Procesando archivo",imported_lines_ok:"{count} lneas importadas correctamente",load_error_prefix:"Error de carga",generic_error_prefix:"Error",must_have_header_and_row:"El archivo debe contener al menos un encabezado y una fila de datos",model_must_contain_cols:"La plantilla debe contener las columnas: {cols}",line_missing_ean:"Lnea {line}: Falta EAN/ASIN",line_missing_name:"Lnea {line}: Falta el nombre del producto",line_invalid_qty:"Lnea {line}: Cantidad no vlida",line_invalid_ean:"Lnea {line}: Formato de EAN/ASIN no vlido",detected_errors:`Errores detectados:
{errors}`,csv_read_error:"Error al leer CSV: {msg}",upload_csv_xlsx_only:"Sube un archivo .csv o .xlsx",at_least_one_line:"Se requiere al menos una fila vlida",invalid_lines_detected:"{count} fila(s) no vlidas detectadas",confirm_send:"Enviar esta recepcin? Luego no podrs modificarla.",draft_saved:"Borrador guardado correctamente",reception_sent:"Recepcin enviada correctamente",changes_saved:"Cambios guardados",ph_ean:"B0123456789",ph_name:"Nombre del producto",ph_sku:"SKU-001",ph_price:"0.00",units_label:"productos",created_at_label:"Fecha"},ro:{page_title:"Recepii prep-center",page_subtitle:"Vezi recepiile create din tab-ul Produse.",report_hint:"Creeaz recepii din Produse  Anun recepia; aici le poi modifica pn sunt confirmate de echip.",template_filename:"sablon_receptie.csv",or:"sau",guide_video:" Tutorial: Ghid utilizator",guide_tutorial:" Tutorial: Ghid utilizator",import_instructions_pdf:"Instruciuni import (PDF)",preparation_request_guide_pdf:"Ghid cerere de pregtire PDF",stock_send_to_prep_instructions_sub:"Instruciuni pentru trimitere la pregtire",guide_download_error_prefix:"Nu pot descrca ghidul",direct_with_qty:"Direct (Buc.: {qty})",fba_mode_title:"Trimitere ctre Amazon",fba_mode_none:"Nu trimit acum",fba_mode_full:"Trimit toate unitile n Amazon",fba_mode_partial:"Trimitere parial",fba_mode_hint:"Ajusteaz mai jos cantitile pentru fiecare produs pe care vrei s l expediezi direct.",fba_mode_available:"Uniti anunate: {qty}",fba_mode_summary_full:"Clientul a cerut ca toate unitile s fie expediate direct n Amazon.",fba_mode_summary_partial:"Clientul a cerut o expediere parial n Amazon.",fba_units_announced:"Marf de primit",fba_units_to_amazon:"Uniti pentru Amazon",fba_units_announced_label:"Marf de primit:",new_receipt:"Recepie nou",view_details:"Vezi detalii",back_to_list:" napoi la list",edit:"Modific",save:"Salveaz",saving:"Se salveaz",cancel:"Anuleaz",add_row:"Adaug rnd",inventory_open:"Adaug produse din inventar",inventory_close:"nchide inventarul",inventory_title:"Inventar",inventory_search:"Caut nume / SKU / EAN",inventory_empty:"Nu exist produse potrivite n inventar.",inventory_in_stock:"n stoc: {qty}",inventory_add:"Adaug",inventory_qty_error:"Introdu o cantitate de cel puin 1.",add_tracking_number:"Adaug numr de tracking",add_fba_id:"Adaug ID de expediere FBA",download_template:"Descarc ablon",import_file:"Import fiier",save_draft:"Salveaz ciorna",send:"Trimite",actions:"Aciuni",list_carrier:"Curier",list_tracking:"Numr tracking",list_status:"Stare",list_products:"Produse",list_date:"Data",empty_list_title:"Nicio recepie",empty_list_desc:"Creeaz o recepie n Produse  Anun recepia, apoi urmrete-o aici.",empty_products_title:"Niciun produs adugat",empty_products_desc:"Folosete ablonul Excel sau adaug manual rnduri",shipment_details:"Detalii Recepie",delivery_info:"Informaii Livrare",import_products:"Import Produse",products_count:"Produse ({count})",carrier:"Curier",select_carrier:"Selecteaz un curier",other:"Altul",other_carrier:"Alt curier",other_carrier_ph:"Numele curierului",tracking_id:"Numr de urmrire",tracking_ph:"ex. 1Z999AA1234567890",notes:"Note (opional)",notes_ph:"Note suplimentare",date_created:"Data crerii",th_ean_asin:"ASIN / SKU / EAN",th_ean_asin_req:"ASIN / SKU / EAN *",th_name:"Nume produs",th_name_req:"Nume produs *",th_qty:"Cantitate",th_expected_qty:"Marf de primit",th_received_qty:"Marf recepionat",th_qty_req:"Cantitate *",th_sku:"SKU",th_line_status:"Status linie",th_price:"Pre de achiziie",th_send_to_fba:"Trimite la FBA",fba_direct:"Direct",fba_qty_ph:"Buc.",fba_qty_title:"Cantitate trimis direct la FBA ( Cantitate)",status_draft:"Ciorn",status_submitted:"Trimis",status_partial:"Recepie parial",status_received:"Recepionat",status_processed:"Procesat",status_cancelled:"Anulat",line_status_received:"Recepionat",line_status_received_hint:"Marcat ca recepionat",line_status_received_on:"Recepionat pe {date}",line_status_pending:"n ateptare",line_status_pending_hint:"Ateapt recepia",line_status_progress:"{received}/{total} recepionate",qty_discrepancy:"Diferen: {count}",no_discrepancy:"Fr diferene",drop_text:"Trage i plaseaz aici fiierul .csv sau .xlsx",processing_file:"Se proceseaz fiierul",imported_lines_ok:"{count} rnduri importate cu succes",load_error_prefix:"Eroare la ncrcare",generic_error_prefix:"Eroare",must_have_header_and_row:"Fiierul trebuie s conin cel puin un header i un rnd de date",model_must_contain_cols:"ablonul trebuie s conin coloanele: {cols}",line_missing_ean:"Rndul {line}: lipsete EAN/ASIN",line_missing_name:"Rndul {line}: lipsete numele produsului",line_invalid_qty:"Rndul {line}: cantitate invalid",line_invalid_ean:"Rndul {line}: format EAN/ASIN invalid",detected_errors:`Erori detectate:
{errors}`,csv_read_error:"Eroare la citirea CSV: {msg}",upload_csv_xlsx_only:"Te rog ncarc un fiier .csv sau .xlsx",at_least_one_line:"Este necesar cel puin un rnd valid",invalid_lines_detected:"{count} rnd(uri) invalide",confirm_send:"Trimii aceast recepie? Nu o vei mai putea modifica.",draft_saved:"Ciorn salvat cu succes",reception_sent:"Recepie trimis cu succes",changes_saved:"Modificri salvate",ph_ean:"B0123456789",ph_name:"Nume produs",ph_sku:"SKU-001",ph_price:"0.00",units_label:"produse",created_at_label:"Data"}},SR={home:"Home",services:"Services & Pricing",about:"About",contact:"Contact",blog:"Blog",login:"Login",register:"Register",dashboard:"Dashboard",logout:"Logout",admin:"Admin",authResetTitle:"Set a new password",authResetSubtitle:"Enter your new password below.",authResetNewLabel:"New password",authResetConfirmLabel:"Confirm new password",authResetHint:"Use at least 8 characters and mix upper/lowercase letters, numbers, and symbols for a stronger password.",authResetSave:"Save password",authResetSuccess:"Password updated successfully! You will be redirected to the sign-in page.",authResetErrorLength:"Password must be at least 8 characters.",authResetErrorMismatch:"Passwords do not match.",authSignupGenericError:"Something went wrong. Please contact support.",authAffiliateLabel:"Affiliate code (optional)",authAffiliateHint:"If you received a referral code, enter it here.",authAffiliateInvalid:"Affiliate code not found.",authAffiliateValid:"Code accepted: {label}",getQuote:"Get a Quote",chatWhatsApp:"Chat on WhatsApp",bookZoom:"Book Zoom",readMore:"Read More",learnMore:"Learn More",heroTitle:"Amazon FBA Prep Center France  24h Prep, Labeling & Shipping to EU",heroSubtitle:"24h turnaround, quality control, FNSKU labeling, polybagging & fast shipping to Amazon fulfillment centers in Europe",yearsExperience:"Years Experience",ordersProcessed:"Orders Processed",happyClients:"Happy Clients",averageTurnaround:"Average Turnaround",whyChooseTitle:"Why Choose Prep Center France for Amazon FBA Prep",whyChooseSubtitle:"Professional Amazon FBA prep services in France designed for European sellers",turnaroundTitle:"24h Turnaround",turnaroundDesc:"Fast processing of your products to Amazon FBA fulfillment centers",transparentPricingTitle:"Transparent FBA prep pricing",transparentPricingDesc:"No hidden fees, competitive rates for all Amazon FBA prep services in France",strategicLocationTitle:"Strategic prep center location in France",strategicLocationDesc:"Optimal position for EU-wide Amazon fulfillment center distribution and fast shipping",amazonReadyTitle:"Amazon FBA-ready packaging",amazonReadyDesc:"Expert knowledge of European Amazon FBA requirements and compliance standards",coreServicesTitle:"Our Core Services",coreServicesSubtitle:"Professional Amazon FBA prep and multi-platform fulfillment solutions.",fnskuLabelingTitle:"Photo Storage Subscription",fnskuLabelingDesc:"Cloud storage for product images linked to each ASIN. Upload up to six photos per product directly on the platform, one for each side, stored securely and accessible anytime.",fbmShippingTitle:"FBM Shipping",fbmShippingDesc:"We handle daily orders from Amazon, eBay, Shopify, Vinted, and other platforms. Includes pick & pack, fast shipping, and returns management.",storageTitle:"Storage Solutions",storageDesc:"Secure warehouse storage with digital tracking, permanent access, climate control, 24/7 monitoring, and complete inventory management.",perProduct:"per product",perOrder:"per order",perPalletMonth:"per pallet/month",sixSidePhotos:"6-side product photo upload",linkedToAsin:"Linked to each ASIN in your account",secureCloudStorage:"Secure cloud storage",instantDashboardAccess:"Instant access from your dashboard",howItWorksTitle:"How It Works",howItWorksSubtitle:"Simple 6-step process from arrival to Amazon FC",receptionStep:"Reception",receptionDesc:"Your products arrive at our facility",qualityControlStep:"Quality Control",qualityControlDesc:"Quality control and inspection process",labelingStep:"Labeling",labelingDesc:"FNSKU/EAN labeling application",polybaggingStep:"Polybagging",polybaggingDesc:"Polybagging and protective packaging",shippingStep:"Shipping",shippingDesc:"Fast dispatch to Amazon FCs",confirmStep:"Confirm",confirmDesc:"Delivery confirmation and reporting",benefitsTitle:"Why European Sellers Choose Us",benefitsSubtitle:"Advantages that make the difference for your Amazon FBA business",euDistributionTitle:"EU-Wide Distribution",euDistributionDesc:"Strategic location in France for fast shipping to all European Amazon fulfillment centers",complianceTitle:"Compliance Expertise",complianceDesc:"Deep knowledge of Amazon FBA requirements and European regulations",qualityAssuranceTitle:"Quality Assurance",qualityAssuranceDesc:"Rigorous quality control process with photo documentation",transparentPricingBenefitTitle:"Transparent Pricing",transparentPricingBenefitDesc:"No hidden fees, competitive rates with clear pricing structure",testimonialsTitle:"What Our Clients Say",testimonialsSubtitle:"Trusted by global Amazon sellers",testimonial1Text:"Prep Center France transformed our FBA operations. 24h turnaround is incredible!",testimonial1Name:"Marcus Weber",testimonial1Company:"Weber Electronics",testimonial2Text:"Professional service, transparent pricing. Our go-to prep center in Europe.",testimonial2Name:"Sophie Martin",testimonial2Company:"Martin Home & Garden",testimonial3Text:"Excellent quality control and fast processing. Highly recommended for EU sellers.",testimonial3Name:"Alessandro Rossi",testimonial3Company:"Rossi Fashion",carriersTitle:"Trusted Shipping Partners",carriersSubtitle:"We work with leading carriers for reliable delivery",privateLabelTitle:"Private Label & Multi-Platform Services",privateLabelSubtitle:"Complete fulfillment solutions for your brand across all platforms",privateLabelPartnershipTitle:"Private Label Partnership",customPackaging:"Custom packaging and branding",productSourcing:"Product sourcing consultation",qualityCompliance:"Quality control and compliance",endToEndFulfillment:"End-to-end fulfillment solutions",multiPlatformTitle:"Multi-Platform FBM",amazonFbmFulfillment:"Amazon FBM fulfillment",ebayProcessing:"eBay order processing",shopifyIntegration:"Shopify integration",customWebsiteFulfillment:"Custom website fulfillment",getStartedTitle:"Get Started Today",getStartedSubtitle:"Contact us for a personalized quote and consultation",callUsTitle:"Call Us",callUsDesc:"Speak directly with our team",whatsappTitle:"WhatsApp",whatsappDesc:"Quick chat for instant answers",emailTitle:"Email",emailDesc:"Send us your requirements",startChat:"Start Chat",ctaTitle:"Ready to Streamline Your Amazon FBA Operations in Europe?",ctaSubtitle:"Get started with professional Amazon FBA prep services in France. 24h turnaround times, quality control, FNSKU labeling and fast shipping to European Amazon fulfillment centers.",receptionInspection:"Reception & inspection",fnskuLabeling:"Photo storage subscription",polybagging:"Polybagging",qualityControl:"Quality control",pickPack:"Pick & pack",multiPlatform:"Multi-platform",sameDayShipping:"Same-day shipping",returnsHandling:"Returns handling",secureStorage:"Secure storage",inventoryTracking:"Inventory tracking",climateControlled:"Climate controlled",monitoring24h:"24/7 monitoring"},NR={home:"Accueil",services:"Services et Tarifs",about:" Propos",contact:"Contact",blog:"Blog",login:"Connexion",register:"Inscription",dashboard:"Tableau de Bord",logout:"Dconnexion",admin:"Admin",authResetTitle:"Dfinir un nouveau mot de passe",authResetSubtitle:"Saisissez votre nouveau mot de passe ci-dessous.",authResetNewLabel:"Nouveau mot de passe",authResetConfirmLabel:"Confirmez le nouveau mot de passe",authResetHint:"Utilisez au moins 8 caractres et mlangez lettres majuscules/minuscules, chiffres et symboles pour un mot de passe plus robuste.",authResetSave:"Enregistrer le mot de passe",authResetSuccess:"Mot de passe mis  jour avec succs ! Vous serez redirig vers la page de connexion.",authResetErrorLength:"Le mot de passe doit contenir au moins 8 caractres.",authResetErrorMismatch:"Les mots de passe ne correspondent pas.",authSignupGenericError:"Une erreur sest produite. Veuillez contacter le support.",authAffiliateLabel:"Code affili (optionnel)",authAffiliateHint:"Si vous avez reu un code partenaire, saisissez-le ici.",authAffiliateInvalid:"Code affili introuvable.",authAffiliateValid:"Code reconnu : {label}",getQuote:"Obtenir un Devis",chatWhatsApp:"Chat WhatsApp",bookZoom:"Rserver Zoom",readMore:"Lire Plus",learnMore:"En Savoir Plus",heroTitle:"Centre de Prparation Amazon FBA France  Prparation, tiquetage et Expdition 24h vers UE",heroSubtitle:"Traitement 24h, contrle qualit, tiquetage FNSKU, emballage plastique et expdition rapide vers les centres de fulfillment Amazon en Europe",yearsExperience:"Annes d'Exprience",ordersProcessed:"Commandes Traites",happyClients:"Clients Satisfaits",averageTurnaround:"Dlai Moyen",whyChooseTitle:"Pourquoi Choisir Prep Center France pour la Prparation Amazon FBA",whyChooseSubtitle:"Services professionnels de prparation Amazon FBA en France conus pour les vendeurs europens",turnaroundTitle:"Traitement 24h",turnaroundDesc:"Traitement rapide de vos produits vers les centres de fulfillment Amazon FBA",transparentPricingTitle:"Tarification transparente pour la prparation FBA",transparentPricingDesc:"Pas de frais cachs, tarifs comptitifs pour tous les services de prparation Amazon FBA en France",strategicLocationTitle:"Emplacement stratgique du centre de prparation en France",strategicLocationDesc:"Position optimale pour la distribution dans toute l'UE et l'expdition rapide vers les centres de fulfillment Amazon",amazonReadyTitle:"Emballage prt pour Amazon FBA",amazonReadyDesc:"Connaissance experte des exigences Amazon FBA europennes et des normes de conformit",coreServicesTitle:"Nos Services Principaux",coreServicesSubtitle:"Solutions professionnelles de prparation Amazon FBA et de fulfillment multi-plateforme.",fnskuLabelingTitle:"Abonnement stockage photos",fnskuLabelingDesc:"Stockage cloud pour les images produits relies  chaque ASIN. Tlchargez jusqu' six photos par produit directement sur la plateforme, une par face, stockes en toute scurit et accessibles  tout moment.",fbmShippingTitle:"Expdition FBM",fbmShippingDesc:"Nous grons les commandes quotidiennes d'Amazon, eBay, Shopify, Vinted et d'autres plateformes. Inclus : pick & pack, expdition rapide et gestion des retours.",storageTitle:"Solutions de Stockage",storageDesc:"Stockage en entrept scuris avec suivi numrique, accs permanent, espace climatis, surveillance 24/7 et gestion complte des stocks.",perProduct:"par produit",perOrder:"par commande",perPalletMonth:"par palette/mois",sixSidePhotos:"Tlchargement photo 6 faces",linkedToAsin:"Associ  chaque ASIN de votre compte",secureCloudStorage:"Stockage cloud scuris",instantDashboardAccess:"Accs instantan depuis votre tableau de bord",howItWorksTitle:"Comment a Marche",howItWorksSubtitle:"Processus simple en 6 tapes de l'arrive au centre Amazon FC",receptionStep:"Rception",receptionDesc:"Vos produits arrivent dans notre installation",qualityControlStep:"Contrle Qualit",qualityControlDesc:"Processus de contrle qualit et d'inspection",labelingStep:"tiquetage",labelingDesc:"Application d'tiquetage FNSKU/EAN",polybaggingStep:"Emballage Plastique",polybaggingDesc:"Emballage plastique et emballage de protection",shippingStep:"Expdition",shippingDesc:"Expdition rapide vers les centres Amazon FC",confirmStep:"Confirmation",confirmDesc:"Confirmation de livraison et rapport",benefitsTitle:"Pourquoi les Vendeurs Europens Nous Choisissent",benefitsSubtitle:"Avantages qui font la diffrence pour votre business Amazon FBA",euDistributionTitle:"Distribution dans toute l'UE",euDistributionDesc:"Emplacement stratgique en France pour une expdition rapide vers tous les centres de fulfillment Amazon europens",complianceTitle:"Expertise en Conformit",complianceDesc:"Connaissance approfondie des exigences Amazon FBA et des rglementations europennes",qualityAssuranceTitle:"Assurance Qualit",qualityAssuranceDesc:"Processus rigoureux de contrle qualit avec documentation photographique",transparentPricingBenefitTitle:"Tarification Transparente",transparentPricingBenefitDesc:"Pas de frais cachs, tarifs comptitifs avec structure de prix claire",testimonialsTitle:"Ce Que Disent Nos Clients",testimonialsSubtitle:"Fait confiance par les vendeurs Amazon mondiaux",testimonial1Text:"Prep Center France a transform nos oprations FBA. Le dlai de 24h est incroyable !",testimonial1Name:"Marcus Weber",testimonial1Company:"Weber Electronics",testimonial2Text:"Service professionnel, tarification transparente. Notre centre de prparation de rfrence en Europe.",testimonial2Name:"Sophie Martin",testimonial2Company:"Martin Home & Garden",testimonial3Text:"Excellent contrle qualit et traitement rapide. Hautement recommand pour les vendeurs UE.",testimonial3Name:"Alessandro Rossi",testimonial3Company:"Rossi Fashion",carriersTitle:"Partenaires de Transport Fiables",carriersSubtitle:"Nous travaillons avec des transporteurs leaders pour une livraison fiable",privateLabelTitle:"Services Private Label et Multi-Plateformes",privateLabelSubtitle:"Solutions de fulfillment compltes pour votre marque sur toutes les plateformes",privateLabelPartnershipTitle:"Partenariat Private Label",customPackaging:"Emballage et branding personnaliss",productSourcing:"Consultation sourcing produits",qualityCompliance:"Contrle qualit et conformit",endToEndFulfillment:"Solutions de fulfillment de bout en bout",multiPlatformTitle:"FBM Multi-Plateformes",amazonFbmFulfillment:"Fulfillment Amazon FBM",ebayProcessing:"Traitement des commandes eBay",shopifyIntegration:"Intgration Shopify",customWebsiteFulfillment:"Fulfillment de sites web personnaliss",getStartedTitle:"Commencez Aujourd'hui",getStartedSubtitle:"Contactez-nous pour un devis personnalis et une consultation",callUsTitle:"Appelez-Nous",callUsDesc:"Parlez directement avec notre quipe",whatsappTitle:"WhatsApp",whatsappDesc:"Chat rapide pour des rponses instantanes",emailTitle:"Email",emailDesc:"Envoyez-nous vos exigences",startChat:"Commencer le Chat",ctaTitle:"Prt  Optimiser Vos Oprations Amazon FBA en Europe ?",ctaSubtitle:"Commencez avec des services professionnels de prparation Amazon FBA en France. Dlais de traitement 24h, contrle qualit, tiquetage FNSKU et expdition rapide vers les centres de fulfillment Amazon europens.",receptionInspection:"Rception et inspection",fnskuLabeling:"Abonnement stockage photos",polybagging:"Emballage plastique",qualityControl:"Contrle qualit",pickPack:"Prparation et emballage",multiPlatform:"Multi-plateformes",sameDayShipping:"Expdition le jour mme",returnsHandling:"Gestion des retours",secureStorage:"Stockage scuris",inventoryTracking:"Suivi d'inventaire",climateControlled:"Climatis",monitoring24h:"Surveillance 24h/24"},kR={home:"Startseite",services:"Services & Preise",about:"ber Uns",contact:"Kontakt",blog:"Blog",login:"Anmelden",register:"Registrieren",dashboard:"Dashboard",logout:"Abmelden",admin:"Admin",authResetTitle:"Neues Passwort festlegen",authResetSubtitle:"Gib unten dein neues Passwort ein.",authResetNewLabel:"Neues Passwort",authResetConfirmLabel:"Neues Passwort besttigen",authResetHint:"Verwende mindestens 8 Zeichen und kombiniere Gro-/Kleinbuchstaben, Zahlen und Sonderzeichen fr ein strkeres Passwort.",authResetSave:"Passwort speichern",authResetSuccess:"Passwort erfolgreich aktualisiert! Du wirst zur Anmeldeseite weitergeleitet.",authResetErrorLength:"Das Passwort muss mindestens 8 Zeichen lang sein.",authResetErrorMismatch:"Die Passwrter stimmen nicht berein.",authSignupGenericError:"Es ist ein Fehler aufgetreten. Bitte kontaktiere den Support.",authAffiliateLabel:"Affiliate-Code (optional)",authAffiliateHint:"Wenn du einen Referral-Code hast, gib ihn hier ein.",authAffiliateInvalid:"Affiliate-Code nicht gefunden.",authAffiliateValid:"Code erkannt: {label}",getQuote:"Angebot Erhalten",chatWhatsApp:"WhatsApp Chat",bookZoom:"Zoom Buchen",readMore:"Mehr Lesen",learnMore:"Mehr Erfahren",heroTitle:"Amazon FBA Prep Center Frankreich  24h Vorbereitung, Etikettierung & Versand in die EU",heroSubtitle:"24h Bearbeitung, Qualittskontrolle, FNSKU-Etikettierung, Polyverpackung und schneller Versand zu Amazon Fulfillment-Zentren in Europa",yearsExperience:"Jahre Erfahrung",ordersProcessed:"Bestellungen Bearbeitet",happyClients:"Zufriedene Kunden",averageTurnaround:"Durchschnittliche Bearbeitung",whyChooseTitle:"Warum Prep Center France fr Amazon FBA Prep whlen",whyChooseSubtitle:"Professionelle Amazon FBA Prep-Services in Frankreich fr europische Verkufer",turnaroundTitle:"24h Bearbeitung",turnaroundDesc:"Schnelle Bearbeitung Ihrer Produkte zu Amazon FBA Fulfillment-Zentren",transparentPricingTitle:"Transparente FBA Prep-Preise",transparentPricingDesc:"Keine versteckten Gebhren, wettbewerbsfhige Preise fr alle Amazon FBA Prep-Services in Frankreich",strategicLocationTitle:"Strategischer Standort des Prep Centers in Frankreich",strategicLocationDesc:"Optimale Position fr EU-weite Distribution und schnellen Versand zu Amazon Fulfillment-Zentren",amazonReadyTitle:"Amazon FBA-bereite Verpackung",amazonReadyDesc:"Expertenwissen ber europische Amazon FBA-Anforderungen und Compliance-Standards",coreServicesTitle:"Unsere Kernservices",coreServicesSubtitle:"Professionelle Amazon-FBA-Prep- und Multiplattform-Fulfillment-Lsungen.",fnskuLabelingTitle:"Foto-Speicherabonnement",fnskuLabelingDesc:"Cloud-Speicher fr Produktbilder, die jedem ASIN zugeordnet sind. Lade bis zu sechs Fotos pro Produkt direkt in die Plattform hoch, je eine pro Seite, sicher gespeichert und jederzeit abrufbar.",fbmShippingTitle:"FBM-Versand",fbmShippingDesc:"Wir bearbeiten tgliche Bestellungen von Amazon, eBay, Shopify, Vinted und anderen Plattformen. Enthalten sind Pick & Pack, schneller Versand und Retourenmanagement.",storageTitle:"Lagerlsungen",storageDesc:"Sichere Lagerhaltung mit digitalem Tracking, permanentem Zugriff, klimatisierten Bereichen, 24/7-berwachung und vollstndigem Bestandsmanagement.",perProduct:"pro Produkt",perOrder:"pro Bestellung",perPalletMonth:"pro Palette/Monat",sixSidePhotos:"6-seitiger Foto-Upload",linkedToAsin:"Verknpft mit jedem ASIN in Ihrem Konto",secureCloudStorage:"Sicherer Cloud-Speicher",instantDashboardAccess:"Sofortiger Zugriff im Dashboard",howItWorksTitle:"Wie Es Funktioniert",howItWorksSubtitle:"Einfacher 6-Schritte-Prozess von der Ankunft bis zum Amazon FC",receptionStep:"Empfang",receptionDesc:"Ihre Produkte kommen in unserer Einrichtung an",qualityControlStep:"Qualittskontrolle",qualityControlDesc:"Qualittskontrolle und Inspektionsprozess",labelingStep:"Etikettierung",labelingDesc:"FNSKU/EAN-Etikettierung",polybaggingStep:"Polyverpackung",polybaggingDesc:"Polyverpackung und Schutzverpackung",shippingStep:"Versand",shippingDesc:"Schneller Versand zu Amazon FCs",confirmStep:"Besttigung",confirmDesc:"Lieferbesttigung und Berichterstattung",benefitsTitle:"Warum Europische Verkufer Uns Whlen",benefitsSubtitle:"Vorteile, die den Unterschied fr Ihr Amazon FBA-Geschft machen",euDistributionTitle:"EU-weite Distribution",euDistributionDesc:"Strategischer Standort in Frankreich fr schnellen Versand zu allen europischen Amazon Fulfillment-Zentren",complianceTitle:"Compliance-Expertise",complianceDesc:"Tiefes Wissen ber Amazon FBA-Anforderungen und europische Vorschriften",qualityAssuranceTitle:"Qualittssicherung",qualityAssuranceDesc:"Rigoroser Qualittskontrollprozess mit Fotodokumentation",transparentPricingBenefitTitle:"Transparente Preisgestaltung",transparentPricingBenefitDesc:"Keine versteckten Gebhren, wettbewerbsfhige Preise mit klarer Preisstruktur",testimonialsTitle:"Was Unsere Kunden Sagen",testimonialsSubtitle:"Vertraut von globalen Amazon-Verkufern",testimonial1Text:"Prep Center France hat unsere FBA-Operationen transformiert. 24h Bearbeitung ist unglaublich!",testimonial1Name:"Marcus Weber",testimonial1Company:"Weber Electronics",testimonial2Text:"Professioneller Service, transparente Preise. Unser bevorzugtes Prep Center in Europa.",testimonial2Name:"Sophie Martin",testimonial2Company:"Martin Home & Garden",testimonial3Text:"Ausgezeichnete Qualittskontrolle und schnelle Bearbeitung. Sehr empfehlenswert fr EU-Verkufer.",testimonial3Name:"Alessandro Rossi",testimonial3Company:"Rossi Fashion",carriersTitle:"Vertrauenswrdige Versandpartner",carriersSubtitle:"Wir arbeiten mit fhrenden Spediteuren fr zuverlssige Lieferung",privateLabelTitle:"Private Label & Multi-Plattform Services",privateLabelSubtitle:"Komplette Fulfillment-Lsungen fr Ihre Marke auf allen Plattformen",privateLabelPartnershipTitle:"Private Label Partnerschaft",customPackaging:"Individuelle Verpackung und Branding",productSourcing:"Produktbeschaffungs-Beratung",qualityCompliance:"Qualittskontrolle und Compliance",endToEndFulfillment:"End-to-End Fulfillment-Lsungen",multiPlatformTitle:"Multi-Plattform FBM",amazonFbmFulfillment:"Amazon FBM Fulfillment",ebayProcessing:"eBay Bestellabwicklung",shopifyIntegration:"Shopify Integration",customWebsiteFulfillment:"Benutzerdefinierte Website-Fulfillment",getStartedTitle:"Heute Beginnen",getStartedSubtitle:"Kontaktieren Sie uns fr ein personalisiertes Angebot und eine Beratung",callUsTitle:"Rufen Sie Uns An",callUsDesc:"Sprechen Sie direkt mit unserem Team",whatsappTitle:"WhatsApp",whatsappDesc:"Schneller Chat fr sofortige Antworten",emailTitle:"Email",emailDesc:"Senden Sie uns Ihre Anforderungen",startChat:"Chat Starten",ctaTitle:"Bereit, Ihre Amazon FBA-Operationen in Europa zu Optimieren?",ctaSubtitle:"Starten Sie mit professionellen Amazon FBA Prep-Services in Frankreich. 24h Bearbeitungszeiten, Qualittskontrolle, FNSKU-Etikettierung und schneller Versand zu europischen Amazon Fulfillment-Zentren.",receptionInspection:"Empfang & Inspektion",fnskuLabeling:"Foto-Speicherabonnement",polybagging:"Polyverpackung",qualityControl:"Qualittskontrolle",pickPack:"Kommissionierung & Verpackung",multiPlatform:"Multi-Plattform",sameDayShipping:"Versand am selben Tag",returnsHandling:"Retouren-Bearbeitung",secureStorage:"Sichere Lagerung",inventoryTracking:"Bestandsverfolgung",climateControlled:"Klimatisiert",monitoring24h:"24/7 berwachung"},jR={home:"Home",services:"Servizi e Prezzi",about:"Chi Siamo",contact:"Contatto",blog:"Blog",login:"Accedi",register:"Registrati",dashboard:"Dashboard",logout:"Esci",admin:"Admin",authResetTitle:"Imposta una nuova password",authResetSubtitle:"Inserisci qui sotto la nuova password.",authResetNewLabel:"Nuova password",authResetConfirmLabel:"Conferma nuova password",authResetHint:"Usa almeno 8 caratteri e combina maiuscole/minuscole, numeri e simboli per una password pi sicura.",authResetSave:"Salva password",authResetSuccess:"Password aggiornata con successo! Verrai reindirizzato alla pagina di accesso.",authResetErrorLength:"La password deve contenere almeno 8 caratteri.",authResetErrorMismatch:"Le password non coincidono.",authSignupGenericError:"Qualcosa non ha funzionato correttamente. Contatta il supporto.",authAffiliateLabel:"Codice affiliato (opzionale)",authAffiliateHint:"Se hai ricevuto un codice da un partner, inseriscilo qui.",authAffiliateInvalid:"Codice affiliato non trovato.",authAffiliateValid:"Codice riconosciuto: {label}",getQuote:"Richiedi Preventivo",chatWhatsApp:"Chat WhatsApp",bookZoom:"Prenota Zoom",readMore:"Leggi di Pi",learnMore:"Scopri di Pi",heroTitle:"Centro di Preparazione Amazon FBA Francia  Preparazione, Etichettatura e Spedizione 24h verso UE",heroSubtitle:"Elaborazione 24h, controllo qualit, etichettatura FNSKU, imballaggio plastico e spedizione veloce ai centri di fulfillment Amazon in Europa",yearsExperience:"Anni di Esperienza",ordersProcessed:"Ordini Elaborati",happyClients:"Clienti Soddisfatti",averageTurnaround:"Elaborazione Media",whyChooseTitle:"Perch Scegliere Prep Center France per la Preparazione Amazon FBA",whyChooseSubtitle:"Servizi professionali di preparazione Amazon FBA in Francia progettati per venditori europei",turnaroundTitle:"Elaborazione 24h",turnaroundDesc:"Elaborazione veloce dei tuoi prodotti verso i centri di fulfillment Amazon FBA",transparentPricingTitle:"Prezzi trasparenti per la preparazione FBA",transparentPricingDesc:"Nessun costo nascosto, tariffe competitive per tutti i servizi di preparazione Amazon FBA in Francia",strategicLocationTitle:"Posizione strategica del centro di preparazione in Francia",strategicLocationDesc:"Posizione ottimale per la distribuzione in tutta l'UE e spedizione veloce ai centri di fulfillment Amazon",amazonReadyTitle:"Imballaggio pronto per Amazon FBA",amazonReadyDesc:"Conoscenza esperta dei requisiti Amazon FBA europei e standard di conformit",coreServicesTitle:"I Nostri Servizi Principali",coreServicesSubtitle:"Soluzioni professionali di prep Amazon FBA e fulfillment multipiattaforma.",fnskuLabelingTitle:"Abbonamento archivio foto",fnskuLabelingDesc:"Archivio cloud per le immagini dei prodotti collegate a ogni ASIN. Carica fino a sei foto per prodotto direttamente sulla piattaforma, una per ogni lato, conservate in sicurezza e disponibili in qualsiasi momento.",fbmShippingTitle:"Spedizione FBM",fbmShippingDesc:"Gestiamo gli ordini quotidiani provenienti da Amazon, eBay, Shopify, Vinted e altre piattaforme. Include pick & pack, spedizioni rapide e gestione dei resi.",storageTitle:"Soluzioni di Stoccaggio",storageDesc:"Stoccaggio sicuro in magazzino con tracciamento digitale, accesso permanente, controllo del clima, monitoraggio 24/7 e gestione completa dell'inventario.",perProduct:"per prodotto",perOrder:"per ordine",perPalletMonth:"per pallet/mese",sixSidePhotos:"Caricamento foto a 6 lati",linkedToAsin:"Collegato a ogni ASIN nel tuo account",secureCloudStorage:"Archivio cloud sicuro",instantDashboardAccess:"Accesso immediato dal tuo dashboard",howItWorksTitle:"Come Funziona",howItWorksSubtitle:"Processo semplice in 6 passaggi dall'arrivo al centro Amazon FC",receptionStep:"Ricezione",receptionDesc:"I tuoi prodotti arrivano nella nostra struttura",qualityControlStep:"Controllo Qualit",qualityControlDesc:"Processo di controllo qualit e ispezione",labelingStep:"Etichettatura",labelingDesc:"Applicazione etichettatura FNSKU/EAN",polybaggingStep:"Imballaggio Plastico",polybaggingDesc:"Imballaggio plastico e imballaggio protettivo",shippingStep:"Spedizione",shippingDesc:"Spedizione veloce ai centri Amazon FC",confirmStep:"Conferma",confirmDesc:"Conferma di consegna e reportistica",benefitsTitle:"Perch i Venditori Europei Ci Scelgono",benefitsSubtitle:"Vantaggi che fanno la differenza per il tuo business Amazon FBA",euDistributionTitle:"Distribuzione in tutta l'UE",euDistributionDesc:"Posizione strategica in Francia per spedizione veloce a tutti i centri di fulfillment Amazon europei",complianceTitle:"Expertise in Conformit",complianceDesc:"Conoscenza approfondita dei requisiti Amazon FBA e regolamenti europei",qualityAssuranceTitle:"Garanzia di Qualit",qualityAssuranceDesc:"Processo rigoroso di controllo qualit con documentazione fotografica",transparentPricingBenefitTitle:"Prezzi Trasparenti",transparentPricingBenefitDesc:"Nessun costo nascosto, tariffe competitive con struttura prezzi chiara",testimonialsTitle:"Cosa Dicono i Nostri Clienti",testimonialsSubtitle:"Fidato da venditori Amazon globali",testimonial1Text:"Prep Center France ha trasformato le nostre operazioni FBA. L'elaborazione 24h  incredibile!",testimonial1Name:"Marcus Weber",testimonial1Company:"Weber Electronics",testimonial2Text:"Servizio professionale, prezzi trasparenti. Il nostro centro di preparazione di riferimento in Europa.",testimonial2Name:"Sophie Martin",testimonial2Company:"Martin Home & Garden",testimonial3Text:"Eccellente controllo qualit e elaborazione veloce. Altamente raccomandato per venditori UE.",testimonial3Name:"Alessandro Rossi",testimonial3Company:"Rossi Fashion",carriersTitle:"Partner di Spedizione Fidati",carriersSubtitle:"Lavoriamo con corrieri leader per consegne affidabili",privateLabelTitle:"Servizi Private Label e Multi-Piattaforma",privateLabelSubtitle:"Soluzioni di fulfillment complete per il tuo brand su tutte le piattaforme",privateLabelPartnershipTitle:"Partnership Private Label",customPackaging:"Imballaggio e branding personalizzati",productSourcing:"Consulenza sourcing prodotti",qualityCompliance:"Controllo qualit e conformit",endToEndFulfillment:"Soluzioni di fulfillment end-to-end",multiPlatformTitle:"FBM Multi-Piattaforma",amazonFbmFulfillment:"Fulfillment Amazon FBM",ebayProcessing:"Elaborazione ordini eBay",shopifyIntegration:"Integrazione Shopify",customWebsiteFulfillment:"Fulfillment siti web personalizzati",getStartedTitle:"Inizia Oggi",getStartedSubtitle:"Contattaci per un preventivo personalizzato e una consulenza",callUsTitle:"Chiamaci",callUsDesc:"Parla direttamente con il nostro team",whatsappTitle:"WhatsApp",whatsappDesc:"Chat veloce per risposte immediate",emailTitle:"Email",emailDesc:"Inviaci i tuoi requisiti",startChat:"Inizia Chat",ctaTitle:"Pronto a Ottimizzare le Tue Operazioni Amazon FBA in Europa?",ctaSubtitle:"Inizia con servizi professionali di preparazione Amazon FBA in Francia. Tempi di elaborazione 24h, controllo qualit, etichettatura FNSKU e spedizione veloce ai centri di fulfillment Amazon europei.",receptionInspection:"Ricezione e ispezione",fnskuLabeling:"Abbonamento archivio foto",polybagging:"Imballaggio plastico",qualityControl:"Controllo qualit",pickPack:"Prelievo e imballaggio",multiPlatform:"Multi-piattaforma",sameDayShipping:"Spedizione stesso giorno",returnsHandling:"Gestione resi",secureStorage:"Stoccaggio sicuro",inventoryTracking:"Tracciamento inventario",climateControlled:"Climatizzato",monitoring24h:"Monitoraggio 24/7"},AR={home:"Inicio",services:"Servicios y Precios",about:"Acerca de",contact:"Contacto",blog:"Blog",login:"Iniciar Sesin",register:"Registrarse",dashboard:"Panel",logout:"Cerrar Sesin",admin:"Admin",authResetTitle:"Define una nueva contrasea",authResetSubtitle:"Introduce tu nueva contrasea a continuacin.",authResetNewLabel:"Nueva contrasea",authResetConfirmLabel:"Confirmar nueva contrasea",authResetHint:"Utiliza al menos 8 caracteres y combina maysculas/minsculas, nmeros y smbolos para una contrasea ms segura.",authResetSave:"Guardar contrasea",authResetSuccess:"Contrasea actualizada correctamente! Sers redirigido a la pgina de inicio de sesin.",authResetErrorLength:"La contrasea debe tener al menos 8 caracteres.",authResetErrorMismatch:"Las contraseas no coinciden.",authSignupGenericError:"Algo no funcion correctamente. Por favor, contacta con soporte.",authAffiliateLabel:"Cdigo de afiliado (opcional)",authAffiliateHint:"Si recibiste un cdigo de un socio, introdcelo aqu.",authAffiliateInvalid:"Cdigo de afiliado no encontrado.",authAffiliateValid:"Cdigo reconocido: {label}",getQuote:"Obtener Cotizacin",chatWhatsApp:"Chat WhatsApp",bookZoom:"Reservar Zoom",readMore:"Leer Ms",learnMore:"Saber Ms",heroTitle:"Centro de Preparacin Amazon FBA Francia  Preparacin, Etiquetado y Envo 24h a UE",heroSubtitle:"Procesamiento 24h, control de calidad, etiquetado FNSKU, embolsado y envo rpido a centros de fulfillment Amazon en Europa",yearsExperience:"Aos de Experiencia",ordersProcessed:"Pedidos Procesados",happyClients:"Clientes Satisfechos",averageTurnaround:"Procesamiento Promedio",whyChooseTitle:"Por Qu Elegir Prep Center France para Preparacin Amazon FBA",whyChooseSubtitle:"Servicios profesionales de preparacin Amazon FBA en Francia diseados para vendedores europeos",turnaroundTitle:"Procesamiento 24h",turnaroundDesc:"Procesamiento rpido de tus productos a centros de fulfillment Amazon FBA",transparentPricingTitle:"Precios transparentes para preparacin FBA",transparentPricingDesc:"Sin tarifas ocultas, precios competitivos para todos los servicios de preparacin Amazon FBA en Francia",strategicLocationTitle:"Ubicacin estratgica del centro de preparacin en Francia",strategicLocationDesc:"Posicin ptima para distribucin en toda la UE y envo rpido a centros de fulfillment Amazon",amazonReadyTitle:"Empaquetado listo para Amazon FBA",amazonReadyDesc:"Conocimiento experto de requisitos Amazon FBA europeos y estndares de cumplimiento",coreServicesTitle:"Nuestros Servicios Principales",coreServicesSubtitle:"Soluciones profesionales de preparacin Amazon FBA y fulfillment multiplataforma.",fnskuLabelingTitle:"Suscripcin de almacenamiento de fotos",fnskuLabelingDesc:"Almacenamiento en la nube para imgenes de producto vinculadas a cada ASIN. Sube hasta seis fotos por producto directamente en la plataforma, una por cada lado, guardadas de forma segura y accesibles en cualquier momento.",fbmShippingTitle:"Envo FBM",fbmShippingDesc:"Gestionamos pedidos diarios de Amazon, eBay, Shopify, Vinted y otras plataformas. Incluye pick & pack, envos rpidos y gestin de devoluciones.",storageTitle:"Soluciones de Almacenamiento",storageDesc:"Almacenaje seguro con seguimiento digital, acceso permanente, control de clima, monitorizacin 24/7 y gestin completa del inventario.",perProduct:"por producto",perOrder:"por pedido",perPalletMonth:"por pallet/mes",sixSidePhotos:"Carga de fotos en 6 lados",linkedToAsin:"Vinculado a cada ASIN en tu cuenta",secureCloudStorage:"Almacenamiento en la nube seguro",instantDashboardAccess:"Acceso instantneo desde tu panel",howItWorksTitle:"Cmo Funciona",howItWorksSubtitle:"Proceso simple de 6 pasos desde llegada hasta centro Amazon FC",receptionStep:"Recepcin",receptionDesc:"Tus productos llegan a nuestras instalaciones",qualityControlStep:"Control de Calidad",qualityControlDesc:"Proceso de control de calidad e inspeccin",labelingStep:"Etiquetado",labelingDesc:"Aplicacin de etiquetado FNSKU/EAN",polybaggingStep:"Embolsado",polybaggingDesc:"Embolsado y empaquetado protector",shippingStep:"Envo",shippingDesc:"Envo rpido a centros Amazon FC",confirmStep:"Confirmacin",confirmDesc:"Confirmacin de entrega e informes",benefitsTitle:"Por Qu los Vendedores Europeos Nos Eligen",benefitsSubtitle:"Ventajas que marcan la diferencia para tu negocio Amazon FBA",euDistributionTitle:"Distribucin en toda la UE",euDistributionDesc:"Ubicacin estratgica en Francia para envo rpido a todos los centros de fulfillment Amazon europeos",complianceTitle:"Experiencia en Cumplimiento",complianceDesc:"Conocimiento profundo de requisitos Amazon FBA y regulaciones europeas",qualityAssuranceTitle:"Garanta de Calidad",qualityAssuranceDesc:"Proceso riguroso de control de calidad con documentacin fotogrfica",transparentPricingBenefitTitle:"Precios Transparentes",transparentPricingBenefitDesc:"Sin tarifas ocultas, precios competitivos con estructura de precios clara",testimonialsTitle:"Lo Que Dicen Nuestros Clientes",testimonialsSubtitle:"Confiado por vendedores Amazon globales",testimonial1Text:"Prep Center France transform nuestras operaciones FBA. El procesamiento 24h es increble!",testimonial1Name:"Marcus Weber",testimonial1Company:"Weber Electronics",testimonial2Text:"Servicio profesional, precios transparentes. Nuestro centro de preparacin de referencia en Europa.",testimonial2Name:"Sophie Martin",testimonial2Company:"Martin Home & Garden",testimonial3Text:"Excelente control de calidad y procesamiento rpido. Altamente recomendado para vendedores UE.",testimonial3Name:"Alessandro Rossi",testimonial3Company:"Rossi Fashion",carriersTitle:"Socios de Envo Confiables",carriersSubtitle:"Trabajamos con transportistas lderes para entrega confiable",privateLabelTitle:"Servicios Private Label y Multi-Plataforma",privateLabelSubtitle:"Soluciones de fulfillment completas para tu marca en todas las plataformas",privateLabelPartnershipTitle:"Asociacin Private Label",customPackaging:"Empaquetado y branding personalizado",productSourcing:"Consultora de sourcing de productos",qualityCompliance:"Control de calidad y cumplimiento",endToEndFulfillment:"Soluciones de fulfillment end-to-end",multiPlatformTitle:"FBM Multi-Plataforma",amazonFbmFulfillment:"Fulfillment Amazon FBM",ebayProcessing:"Procesamiento de pedidos eBay",shopifyIntegration:"Integracin Shopify",customWebsiteFulfillment:"Fulfillment de sitios web personalizados",getStartedTitle:"Comienza Hoy",getStartedSubtitle:"Contctanos para una cotizacin personalizada y consulta",callUsTitle:"Llmanos",callUsDesc:"Habla directamente con nuestro equipo",whatsappTitle:"WhatsApp",whatsappDesc:"Chat rpido para respuestas instantneas",emailTitle:"Email",emailDesc:"Envanos tus requisitos",startChat:"Iniciar Chat",ctaTitle:"Listo para Optimizar tus Operaciones Amazon FBA en Europa?",ctaSubtitle:"Comienza con servicios profesionales de preparacin Amazon FBA en Francia. Tiempos de procesamiento 24h, control de calidad, etiquetado FNSKU y envo rpido a centros de fulfillment Amazon europeos.",receptionInspection:"Recepcin e inspeccin",fnskuLabeling:"Suscripcin de almacenamiento de fotos",polybagging:"Embolsado",qualityControl:"Control de calidad",pickPack:"Picking y empaquetado",multiPlatform:"Multi-plataforma",sameDayShipping:"Envo mismo da",returnsHandling:"Manejo de devoluciones",secureStorage:"Almacenamiento seguro",inventoryTracking:"Seguimiento de inventario",climateControlled:"Climatizado",monitoring24h:"Monitoreo 24/7"},CR={home:"Acas",services:"Servicii i Preuri",about:"Despre Noi",contact:"Contact",blog:"Blog",login:"Autentificare",register:"nregistrare",dashboard:"Panou",logout:"Deconectare",admin:"Admin",authResetTitle:"Seteaz o parol nou",authResetSubtitle:"Introdu noua parol mai jos.",authResetNewLabel:"Parol nou",authResetConfirmLabel:"Confirm parola nou",authResetHint:"Folosete cel puin 8 caractere i combin litere mari/mici, cifre i simboluri pentru o parol mai puternic.",authResetSave:"Salveaz parola",authResetSuccess:"Parola a fost actualizat! Vei fi redirecionat() ctre pagina de autentificare.",authResetErrorLength:"Parola trebuie s aib cel puin 8 caractere.",authResetErrorMismatch:"Parolele nu coincid.",authSignupGenericError:"Ceva nu a funcionat corect. V rugm s contactai suportul.",authAffiliateLabel:"Cod afiliat (opional)",authAffiliateHint:"Dac ai primit un cod de la un partener, introdu-l aici.",authAffiliateInvalid:"Codul de afiliat nu exist.",authAffiliateValid:"Cod valid: {label}",getQuote:"Obine Ofert",chatWhatsApp:"Chat WhatsApp",bookZoom:"Rezerv Zoom",readMore:"Citete Mai Mult",learnMore:"Afl Mai Mult",heroTitle:"Centru de Preparare Amazon FBA Frana  Preparare, Etichetare i Expediere 24h ctre UE",heroSubtitle:"Procesare 24h, control calitate, etichetare FNSKU, ambalare i expediere rapid ctre centrele de fulfillment Amazon din Europa",yearsExperience:"Ani de Experien",ordersProcessed:"Comenzi Procesate",happyClients:"Clieni Mulumii",averageTurnaround:"Procesare Medie",whyChooseTitle:"De Ce s Alegi Prep Center France pentru Prepararea Amazon FBA",whyChooseSubtitle:"Servicii profesionale de preparare Amazon FBA n Frana proiectate pentru vnztorii europeni",turnaroundTitle:"Procesare 24h",turnaroundDesc:"Procesare rapid a produselor tale ctre centrele de fulfillment Amazon FBA",transparentPricingTitle:"Preuri transparente pentru prepararea FBA",transparentPricingDesc:"Fr taxe ascunse, tarife competitive pentru toate serviciile de preparare Amazon FBA din Frana",strategicLocationTitle:"Locaia strategic a centrului de preparare din Frana",strategicLocationDesc:"Poziie optim pentru distribuia n toat UE i expediere rapid ctre centrele de fulfillment Amazon",amazonReadyTitle:"Ambalare gata pentru Amazon FBA",amazonReadyDesc:"Cunotine experte despre cerinele Amazon FBA europene i standardele de conformitate",coreServicesTitle:"Serviciile Noastre Principale",coreServicesSubtitle:"Soluii profesionale de pregtire Amazon FBA i fulfillment multi-platform.",fnskuLabelingTitle:"Abonament stocare foto",fnskuLabelingDesc:"Stocare n cloud pentru imaginile produselor legate de fiecare ASIN. Poi ncrca pn la ase fotografii per produs direct n platform, cte una pentru fiecare parte, pstrate n siguran i accesibile oricnd.",fbmShippingTitle:"Expediere FBM",fbmShippingDesc:"Gestionm zilnic comenzile din Amazon, eBay, Shopify, Vinted i alte platforme. Include pick & pack, expediere rapid i administrarea retururilor.",storageTitle:"Soluii de Depozitare",storageDesc:"Depozitare sigur cu urmrire digital i acces permanent. Spaiu climatizat, monitorizare 24/7 i administrare complet a inventarului.",perProduct:"per produs",perOrder:"per comand",perPalletMonth:"per palet/lun",sixSidePhotos:"ncrcare foto pe 6 fee",linkedToAsin:"Legat de fiecare ASIN din contul tu",secureCloudStorage:"Stocare n cloud securizat",instantDashboardAccess:"Acces instant din panoul tu",howItWorksTitle:"Cum Funcioneaz",howItWorksSubtitle:"Proces simplu n 6 pai de la sosire la centrul Amazon FC",receptionStep:"Recepie",receptionDesc:"Produsele tale sosesc la facilitatea noastr",qualityControlStep:"Control Calitate",qualityControlDesc:"Proces de control calitate i inspecie",labelingStep:"Etichetare",labelingDesc:"Aplicarea etichetrii FNSKU/EAN",polybaggingStep:"Ambalare",polybaggingDesc:"Ambalare i mpachetare protectoare",shippingStep:"Expediere",shippingDesc:"Expediere rapid ctre centrele Amazon FC",confirmStep:"Confirmare",confirmDesc:"Confirmarea livrrii i raportare",benefitsTitle:"De Ce Vnztorii Europeni Ne Aleg",benefitsSubtitle:"Avantaje care fac diferena pentru afacerea ta Amazon FBA",euDistributionTitle:"Distribuie n toat UE",euDistributionDesc:"Locaie strategic n Frana pentru expediere rapid ctre toate centrele de fulfillment Amazon europene",complianceTitle:"Expertiz n Conformitate",complianceDesc:"Cunotine profunde despre cerinele Amazon FBA i reglementrile europene",qualityAssuranceTitle:"Asigurarea Calitii",qualityAssuranceDesc:"Proces riguros de control calitate cu documentaie fotografic",transparentPricingBenefitTitle:"Preuri Transparente",transparentPricingBenefitDesc:"Fr taxe ascunse, tarife competitive cu structur de preuri clar",testimonialsTitle:"Ce Spun Clienii Notri",testimonialsSubtitle:"ncrederea vnztorilor Amazon globali",testimonial1Text:"Prep Center France ne-a transformat operaiunile FBA. Procesarea 24h este incredibil!",testimonial1Name:"Marcus Weber",testimonial1Company:"Weber Electronics",testimonial2Text:"Serviciu profesional, preuri transparente. Centrul nostru de preparare de referin din Europa.",testimonial2Name:"Sophie Martin",testimonial2Company:"Martin Home & Garden",testimonial3Text:"Control de calitate excelent i procesare rapid. Foarte recomandat pentru vnztorii UE.",testimonial3Name:"Alessandro Rossi",testimonial3Company:"Rossi Fashion",carriersTitle:"Parteneri de Expediere de ncredere",carriersSubtitle:"Lucrm cu transportatori de top pentru livrare fiabil",privateLabelTitle:"Servicii Private Label i Multi-Platform",privateLabelSubtitle:"Soluii complete de fulfillment pentru brandul tu pe toate platformele",privateLabelPartnershipTitle:"Parteneriat Private Label",customPackaging:"Ambalare i branding personalizate",productSourcing:"Consultan sourcing produse",qualityCompliance:"Control calitate i conformitate",endToEndFulfillment:"Soluii de fulfillment end-to-end",multiPlatformTitle:"FBM Multi-Platform",amazonFbmFulfillment:"Fulfillment Amazon FBM",ebayProcessing:"Procesarea comenzilor eBay",shopifyIntegration:"Integrare Shopify",customWebsiteFulfillment:"Fulfillment site-uri web personalizate",getStartedTitle:"ncepe Astzi",getStartedSubtitle:"Contacteaz-ne pentru o ofert personalizat i consultan",callUsTitle:"Sun-ne",callUsDesc:"Vorbete direct cu echipa noastr",whatsappTitle:"WhatsApp",whatsappDesc:"Chat rapid pentru rspunsuri instantanee",emailTitle:"Email",emailDesc:"Trimite-ne cerinele tale",startChat:"ncepe Chat",ctaTitle:"Gata s Optimizezi Operaiunile Amazon FBA n Europa?",ctaSubtitle:"ncepe cu servicii profesionale de preparare Amazon FBA n Frana. Timpi de procesare 24h, control calitate, etichetare FNSKU i expediere rapid ctre centrele de fulfillment Amazon europene.",receptionInspection:"Recepie i inspecie",fnskuLabeling:"Abonament stocare foto",polybagging:"Ambalare",qualityControl:"Control calitate",pickPack:"Picking i mpachetare",multiPlatform:"Multi-platform",sameDayShipping:"Expediere n aceeai zi",returnsHandling:"Gestionarea retururilor",secureStorage:"Depozitare sigur",inventoryTracking:"Urmrirea inventarului",climateControlled:"Climatizat",monitoring24h:"Monitorizare 24/7"},PR={common:{greeting:"Hi, {name}!",subtitle:"Client portal: view reports and manage your account.",signOut:"Sign out",cancel:"Cancel",accessDeniedTitle:"Access denied",accessDeniedDesc:"You do not have permission to view this section.",groups:{operations:"Operations",account:"My account"},loading:"Loading",calculating:"Calculating",na:"N/A",yes:"Yes",no:"No",supportError:"Something went wrong. Please contact support."},sidebar:{activity:"Activity",fba:"FBA",fbm:"FBM",stock:"Products",returns:"Returns",exports:"Exports",profile:"Profile",billing:"Billing details",invoices:"My invoices",integrations:"Integrations",affiliates:"Affiliates",security:"Security",reports:"Reports"},billing:{title:"Billing details",addProfile:"Add Profile",flash:{created:"Profile created successfully",updated:"Profile updated successfully",deleted:"Profile deleted successfully",deleteConfirm:"Are you sure you want to delete this billing profile?",errorSave:"Error while saving the profile",errorDelete:"Error while deleting the profile"},form:{new:"New billing profile",edit:"Edit profile",type:"Profile type",individual:"Individual",company:"Company",firstName:"First name *",lastName:"Last name *",companyName:"Company name *",vat:"VAT number",sirenSiret:"SIREN/SIRET",country:"Country *",address:"Address *",city:"City *",postalCode:"Postal code *",phone:"Phone",default:"Set as default profile",cancel:"Cancel",save:"Save",saving:"Saving",update:"Update",validVatFailed:"VAT validation failed: {reason}",vatFormatInvalid:"Invalid VAT format for this country"},list:{noneTitle:"No billing profiles",noneDesc:"Add your first billing profile to receive invoices.",add:"Add profile",defaultBadge:"Default",labels:{vat:"VAT",sirenSiret:"SIREN/SIRET",tel:"Tel"}}},invoices:{title:"My invoices",total:"Total: {n} invoices",flashError:"Could not load invoices.",filters:{search:"Search",searchPh:"Invoice number or description",status:"Status",period:"Period",all:"All",last30:"Last 30 days",last90:"Last 90 days",thisYear:"This year",paid:"Paid",pending:"Pending",overdue:"Overdue",cancelled:"Cancelled"},card:{invoice:"Invoice #{no}",date:"Date",due:"Due",vat:"VAT: {vat}",amount:"{amount} HT",view:"View",download:"Download",noFile:"No file"},empty:{noneFound:"No invoices found",noneYet:"No invoices available yet",tipFound:"Try adjusting your filters.",tipYet:"Your invoices will appear here after your first order."},errors:{download:"Error while downloading the invoice.",view:"Could not generate a view link."}},profile:{title:"Personal details",edit:"Edit",cancel:"Cancel",save:"Save changes",saving:"Saving",flashOk:"Profile updated successfully.",flashErr:"Error while updating the profile.",fields:{firstName:"First name",lastName:"Last name",email:"Email",emailNote:"Email cannot be changed here. Contact support if you need to update it.",phone:"Phone",country:"Country",language:"Preferred language",phonePh:"+33 6 12 34 56 78"},languages:{en:"English",ro:"Romn",fr:"Franais",de:"Deutsch",it:"Italiano",es:"Espaol"},countries:{RO:"Romania",FR:"France",DE:"Germany",IT:"Italy",ES:"Spain"}},security:{title:"Security",flash:{pwdMismatch:"Passwords do not match.",pwdTooShort:"Password must be at least 8 characters long.",pwdOk:"Password changed successfully.",pwdErr:"Error while changing the password."},changePwd:{title:"Change password",new:"New password",newPh:"Minimum 8 characters",confirm:"Confirm new password",confirmPh:"Re-type the new password",toggle:{show:"Show",hide:"Hide"},submit:"Change password",changing:"Changing"},accountInfo:{title:"Account information",emailVerified:"Email verified:",verified:"Verified",unverified:"Unverified",lastSignIn:"Last sign-in:",createdAt:"Account created:"},tips:{title:"Security tips",t1:"Use a unique, complex password for this account.",t2:"Enable two-factor authentication for maximum security (if available).",t3:"Never share your login credentials with anyone.",t4:"Always sign out when using public or shared computers."}},SupabaseClientActivity:{fbaTitle:"FBA",fbmTitle:"FBM",thead:{date:"Date",service:"Service",unitPrice:"Unit price",units:"Unit",ordersUnits:"Orders/Units",total:"Total",adminNotes:"Admin notes"},noRecords:"No records.",totals:"Totals",chartTitle:"FBA  FBM  Other daily totals",range:{m1:"1 month",m3:"3 months",all:"All time"},tooltip:{date:"Date"},companyMissing:"Your account is not linked to a company yet. Please contact support to activate it.",otherTitle:"Other"},ClientFBAReport:{title:"FBA Report",readonly:"Read-only view.",monthLabel:"Month:",currentMonth:"Current month",noDataMonth:"No data for the selected month."},ClientFBMReport:{title:"FBM Report",readonly:"Read-only view.",monthLabel:"Month:",currentMonth:"Current month",noDataMonth:"No data for the selected month."},ClientStock:{title:"Products",desc:"Manage inbound-ready products, Amazon data, and prep submissions from one place.",month:{label:"Month:",current:"Current month"},search:{field:{EAN:"EAN",NAME:"Product name",ASIN_SKU:"ASIN / SKU"},placeholder:{EAN:"Search by EAN",NAME:"Search by product name",ASIN_SKU:"Search by ASIN or SKU"}},stockFilter:{label:"Stock:",in:"In stock",out:"Out of stock",all:"All"},quickSort:{label:"Quick sort:",prep:"Prep-center stock",amazon:"Amazon inventory"},productSearchPlaceholder:"Search by name / ASIN / SKU",cta:{sendToPrep:"Send to Prep (Amazon)",announceReception:"Notify incoming goods"},receptionForm:{carrierOther:"Carrier name",carrierPlaceholder:"Select carrier",tracking:"Tracking ID",trackingAdd:"Add tracking ID",trackingHide:"Hide extra tracking IDs",trackingManage:"Manage all",trackingCount:"{count} tracking ID(s)",trackingNone:"No tracking IDs yet",notes:"Notes",destinationLabel:"Amazon destination country",destinationHint:"Use this country for prep requests and receptions."},actions:{selectAllOnPage:"Select all on page",sendToPrep:"Send to preparation",needSelection:"Select at least one product."},thead:{sel:"",ean:"EAN",qty:"Qty",name:"Product name",asinSku:"ASIN / SKU",link:"Product link",purchasePrice:"Purchase price",value:"Value",save:"Save"},link:{add:`Add
Link`,open:`Open
Link`,edit:`Edit
Link`,label:"Product link",cancel:"Cancel",save:"Save"},table:{loading:"Loading",empty:"No data for current filters.",saving:"Saving",saved:"Saved successfully.",savedNameAdminOnly:"Saved (name is admin-only).",nothingToSave:"Nothing to save."},pager:{rows:"Rows:",prev:"",next:"",pageXofY:"Page {x} / {y}"},totals:{label:"Totals (current filters)  Quantity: <strong>{qty}</strong>  Value: <strong>{value} </strong>"},recent:{title:"Recent preparation requests",thead:{date:"Date",country:"Country",fbaShipmentId:"FBA Shipment ID",trackIds:"Track IDs",status:"Status",actions:"Actions"},none:"No requests yet.",caption:"Monitor what was sent from Prep Center and edit drafts until they are approved.",actions:{edit:"Edit draft",view:"View request"}},drawer:{title:"Send to preparation",close:"Close",destCountry:"Destination country",line:"Line {n}",ean:"EAN",asin:"ASIN",remove:"Remove",asinSkuReq:"ASIN/SKU (required)",unitsToSend:"Units to send (max {max})",cancel:"Cancel",send:"Send request",errors:{noLines:"There are no lines in this request. Add at least one product.",asinSkuMissing:"Line {n}: ASIN/SKU missing (please fill at least one).",qtyZero:"Line {n}: quantity cannot be 0 or empty.",qtyExceeds:"Line {n}: units ({u}) exceed available stock ({max}).",createFailed:"Failed to create preparation draft."},success:"Request sent to preparation.",handle:{showMore:"+{n} more",showLess:"show less"}},countries:{FR:"France",DE:"Germany",IT:"Italy",ES:"Spain",RO:"Romania",GB:"United Kingdom",UK:"United Kingdom"},guides:{button:"Instructions",error:"Cannot open guide ({lang}): {msg}"},priceColumn:{label:"Purchase price ()",placeholder:"0.00",show:"Show price column",hide:"Hide price column",note:"Optional column that helps stock reports include total value. Fill purchase prices only if you need it in exports.",save:"Save price"},quickAdd:{title:"Manual inventory intake",subtitle:"Add placeholders manually or upload the template with EAN/ASIN, product name and optional purchase price. When Amazon syncs the listing, the quantity will update automatically.",manualTitle:"Manual entry",eanLabel:"EAN/ASIN *",nameLabel:"Product Name *",addLine:"Add line",uploadTitle:"Import from XLSX/CSV",uploadHint:"Required columns: EAN/ASIN and Product Name. Purchase price is optional.",template:"Download template",previewTitle:"Pending lines",empty:"No pending lines yet.",remove:"Remove",addInventory:"Add to inventory",errors:{missingFields:"Fill code and product name before adding the line.",invalidCode:"Enter a valid EAN or ASIN.",fileType:"Please upload a .xlsx or .csv file.",fileHeaders:"Missing required columns. Expected headers: EAN/ASIN, Product Name.",fileRows:"No valid rows were detected in the file.",save:"Unable to add products: {msg}",invalidPrice:"Enter a valid price (e.g. 12.50)."},success:"{count} placeholders added to inventory.",priceLabel:"Purchase price () (optional)"},copyInline:"Copy",copyBubble:"Code copied",copyError:"Unable to copy code.",inventory:{title:"Inventory",subtitle:`Inventory
Fulfilled by and quantity`,available:"Available (FBA)",inbound:"Inbound",unfulfillable:"Unfulfillable",reserved:"Reserved"},sales:{heading:"30-day sales",all:"All markets",last30:"Last 30 days",total:"Total units",empty:"No orders in this period.",updated:"Refreshed {time}",status:{payment:"Payment Complete",refund:"Refund applied",shipped:"Shipped (seller)",pending:"Pending / Awaiting verification"}},receptionFba:{title:"Send to Amazon",none:"Do not send now",full:"Send all units to Amazon",partial:"Partial shipment",noSelection:"Select products to configure the partial shipment.",available:"Units announced: {qty}",availableLabel:"Units announced",toAmazonLabel:"Units to send to Amazon"},createProduct:{button:"Create product",title:"Create product",subtitle:"Bootstrap inbound-ready products even if they are not on Amazon yet.",simpleTab:"Simple form",advancedTab:"Advanced form",cancel:"Cancel",submit:"Save product",saving:"Saving",success:"Product created successfully.",fields:{name:"Product name",asin:"ASIN",sku:"SKU",ean:"EAN / UPC",qty:"Initial quantity",price:"Purchase price ()",link:"Product link",supplierName:"Supplier name",supplierNumber:"Supplier num",supplierUrl:"Supplier URL",supplierPrice:"Supplier price",manufacturer:"Manufacturer",manufacturerNumber:"Manufacturer number",productExtId:"Product external ID",shipTemplate:"Ship template",approxPriceEbay:"Approx. eBay price",approxPriceFbm:"Approx. FBM price",weightValue:"Weight value",unitsCount:"Units count",packageWidth:"Package width",packageHeight:"Package height",packageLength:"Package length",notes:"Notes"},advancedSections:{supplier:"Supplier",product:"Product data"}},photos:{button:"Photos",statusAvailable:"Photos available ({count})",statusUnavailable:"Photos unavailable"},photosModal:{title:"Photos  {name}",count:"{current} / {max} images uploaded",disclaimer:"For using the photo storage service on the platform, a monthly fee of 3 applies starting from the first upload. This keeps the images available as long as the product stays in inventory. If I upload the photos for you, an extra 1 is charged for each set of 6 images per product. If you upload the photos yourself, only the 3 monthly fee applies. The service is optional, and the photos can be sent for free via WhatsApp on request.",uploadCta:"Drag & drop or click to upload (max {slots} more)",uploading:"Uploading",downloadAll:"Download all",download:"Download",remove:"Remove",loading:"Loading photos",empty:"No photos uploaded yet.",previewUnavailable:"Preview unavailable",errors:{load:"Failed to load photos.",limit:"Photo limit reached. Remove an image before uploading another.",tooLarge:'"{name}" exceeds the 4 MB limit per photo. Please upload smaller files.',upload:"Failed to upload photo.",delete:"Failed to delete photo.",zip:"Failed to download archive."}}},ClientReturns:{title:"Returns",readonly:"Read-only view.",thead:{date:"Date",asin:"ASIN",qty:"Quantity",type:"Return type",status:"Status",adminNotes:"Admin notes"},noRecords:"No records."},ClientExports:{title:"Exports",desc:"Download Excel reports for FBA, FBM, Stock, or Returns. Choose a date range.",reportType:"Report type",from:"From (inclusive)",to:"To (inclusive)",btn:"Export {kind} (.xlsx)",generating:"Generating",footnote:"* The report includes a TOTAL row; numeric columns are summed.",alerts:{noCompany:"No company is set for this account.",failed:"Export failed."},kinds:{FBA:"FBA",FBM:"FBM",Stock:"Stock",Returns:"Returns"},archive:{title:"Stock reports archive (monthly)",loading:"Loading archive",empty:"No monthly stock reports yet.",label:"Stock PrepCenter France {month} {year}",meta:"{items} items  Total: {total}  HT  Generated: {date}",download:"Download"}},ClientBalanceBar:{title:"Balance",current:"Current balance: {amount} HT",prepayment:"Prepayment: {amount} HT",outstanding:"Outstanding balance: {amount} HT"},ClientDeals:{button:"View negotiated offers",title:"Negotiated offers",loading:"Loading",empty:"No active offers.",showAll:"Show all",hide:"Hide"},ClientIntegrations:{title:"Integrations",desc:"Connect your Amazon Seller Central account to synchronize inventory automatically.",notice:"Configure {clientId} and {redirect} in `.env` to enable the authorize button.",marketplaceLabel:"Marketplace",connectButton:"Connect Amazon",instructions:"After authorizing the app in Seller Central you will return to the portal. Tokens are stored securely and used only for your account.",listTitle:"Connected accounts",listDesc:"You can revoke access at any time. The last sync is displayed below.",refresh:"Refresh",empty:"No integrations yet.",confirmDisconnect:"Disconnect this Amazon account?",flashRemoved:"Integration removed.",actions:{disconnect:"Disconnect"},regions:{eu:"Amazon EU",na:"Amazon North America",jp:"Amazon Japan"},status:{active:"Connected",error:"Error",pending:"Pending"},fields:{added:"Added: {date}",lastSync:"Last sync: {date}",lastError:"Last error:"},card:{marketplaceAlt:"Marketplace: {id}"}},ClientAffiliates:{title:"Affiliate program",subtitle:"Invite other sellers and earn the commission configured by our team.",actions:{refresh:"Refresh"},flash:{requestSent:"Request sent successfully. We'll reply soon.",requestError:"Could not send the request. Please try again."},codeCard:{title:"Your affiliate code",copy:"Copy code",copied:"Copied!",active:"Active",inactive:"Paused"},rules:{title:"Payout rules",percent:"You earn {percent}% from every invoice paid by your referrals.",threshold:"Below {threshold}: {below}%. Above: {above}%.",fixed:"Once a referred client reaches {threshold}, you receive {amount} once.",missing:"We are preparing the payout rules."},stats:{title:"Performance",clients:"Affiliated clients",billed:"Billed total",payout:"Estimated payout"},members:{title:"Clients linked to your code",empty:"No one has used your code yet.",billed:"Billed",payout:"Your share",hint:"The list updates automatically when we assign or remove clients."},request:{title:"Request your affiliate code",desc:"Tell us how you plan to promote Prep Center. We review each request manually.",preferred:"Preferred code",preferredPh:"E.g. ADRIAN10",generate:"Suggest code",preferredHint:"Optional. Leave blank if you want us to generate a short code.",notes:"Message to our team",notesPh:"Share details about your audience or community",submitting:"Sending",submit:"Send request",footer:"We reply by email within 1-2 business days.",pendingTitle:"Your request is being reviewed",details:"Preferred code: {code}"},status:{pending:"Your request is under review. We'll email you once it's approved.",review:"We are validating your request. Expect feedback soon.",approved:"Approved. We will activate your code shortly.",needCode:"Request an affiliate code to start earning commissions."}},reportsMenu:{shipments:"Prep-center shipments",receiving:"Prep-center receiving"},ClientPrepShipments:{title:"Prep-center shipments",desc:"Monitor the status of shipments prepared in our warehouse.",table:{title:"Recent preparation requests",empty:"No shipments yet.",actions:"Actions",edit:"Edit draft",view:"View request"},drawer:{pendingTitle:"Preparation request (Pending  editable)",readonlyTitle:"Preparation request (Read-only)",date:"Date",country:"Destination",status:"Status",shipment:"FBA Shipment ID",product:"Product name",units:"Units",actions:"Actions",remove:"Remove",addManual:"Add new item",selectProduct:"Select product",selectStock:"Select a product from stock.",qtyError:"Quantity must be at least 1.",stockError:"Quantity exceeds available stock ({qty}).",line:"Line",cancel:"Cancel",add:"Add",inventoryTitle:"Inventory",inventorySearch:"Search name / SKU / EAN",inventoryEmpty:"No matching products found.",inStock:"In stock: {qty}",close:"Close",save:"Save changes",empty:"No items in this request.",locked:"Request is no longer editable (status changed)."}},ClientOtherReport:{title:"Other services",readonly:"Read-only view of additional services.",monthLabel:"Month:",currentMonth:"Current month",noDataMonth:"No entries for this month.",serviceNames:{photoSubscription:"Photo storage subscription",manualPhoto:"Manual photo capture"}}},ER={common:{greeting:"Salut, {name}!",subtitle:"Portal clieni: vezi rapoarte i gestioneaz-i contul.",signOut:"Ieire",groups:{operations:"Operaiuni",account:"Contul meu"},loading:"Se ncarc",calculating:"Se calculeaz",na:"",yes:"Da",no:"Nu",supportError:"A aprut o eroare. Te rugm s contactezi suportul.",cancel:"Anuleaz",accessDeniedTitle:"Acces interzis",accessDeniedDesc:"Nu ai permisiunea s vezi aceast seciune."},sidebar:{activity:"Activitate",fba:"FBA",fbm:"FBM",stock:"Produse",returns:"Retururi",exports:"Exporturi",profile:"Profil",billing:"Date de facturare",invoices:"Facturile mele",integrations:"Integrri",affiliates:"Afiliai",security:"Securitate",reports:"Rapoarte"},billing:{title:"Date de facturare",addProfile:"Adaug profil",flash:{created:"Profilul a fost creat cu succes",updated:"Profilul a fost actualizat cu succes",deleted:"Profilul a fost ters cu succes",deleteConfirm:"Eti sigur c vrei s tergi acest profil de facturare?",errorSave:"Eroare la salvarea profilului",errorDelete:"Eroare la tergerea profilului"},form:{new:"Profil nou de facturare",edit:"Editeaz profil",type:"Tip profil",individual:"Persoan fizic",company:"Firm",firstName:"Prenume *",lastName:"Nume *",companyName:"Denumire firm *",vat:"Numr VAT",sirenSiret:"SIREN/SIRET",country:"ar *",address:"Adres *",city:"Ora *",postalCode:"Cod potal *",phone:"Telefon",default:"Seteaz ca profil implicit",cancel:"Anuleaz",save:"Salveaz",saving:"Se salveaz",update:"Actualizeaz",validVatFailed:"Validare VAT euat: {reason}",vatFormatInvalid:"Format VAT invalid pentru aceast ar"},list:{noneTitle:"Niciun profil de facturare",noneDesc:"Adaug primul profil pentru a putea primi facturi.",add:"Adaug profil",defaultBadge:"Implicit",labels:{vat:"VAT",sirenSiret:"SIREN/SIRET",tel:"Tel"}}},invoices:{title:"Facturile mele",total:"Total: {n} facturi",flashError:"Nu am putut ncrca facturile.",filters:{search:"Cutare",searchPh:"Numr factur sau descriere",status:"Stare",period:"Perioad",all:"Toate",last30:"Ultimele 30 de zile",last90:"Ultimele 90 de zile",thisYear:"Anul acesta",paid:"Pltit",pending:"n ateptare",overdue:"Restant",cancelled:"Anulat"},card:{invoice:"Factura #{no}",date:"Data",due:"Scadena",vat:"TVA: {vat}",amount:"{amount} HT",view:"Vezi",download:"Descarc",noFile:"Fr fiier"},empty:{noneFound:"Nu am gsit facturi",noneYet:"nc nu exist facturi",tipFound:"ncearc s ajustezi filtrele.",tipYet:"Facturile tale vor aprea aici dup prima comand."},errors:{download:"Eroare la descrcarea facturii.",view:"Nu am putut genera linkul de vizualizare."}},profile:{title:"Date personale",edit:"Editeaz",cancel:"Anuleaz",save:"Salveaz modificrile",saving:"Se salveaz",flashOk:"Profil actualizat cu succes.",flashErr:"Eroare la actualizarea profilului.",fields:{firstName:"Prenume",lastName:"Nume",email:"Email",emailNote:"Emailul nu poate fi schimbat aici. Scrie-ne dac vrei s-l actualizm.",phone:"Telefon",country:"ar",language:"Limb preferat",phonePh:"+33 6 12 34 56 78"},languages:{en:"English",ro:"Romn",fr:"Franais",de:"Deutsch",it:"Italiano",es:"Espaol"},countries:{RO:"Romnia",FR:"Frana",DE:"Germania",IT:"Italia",ES:"Spania"}},security:{title:"Securitate",flash:{pwdMismatch:"Parolele nu coincid.",pwdTooShort:"Parola trebuie s aib cel puin 8 caractere.",pwdOk:"Parola a fost schimbat.",pwdErr:"Eroare la schimbarea parolei."},changePwd:{title:"Schimb parola",new:"Parol nou",newPh:"Minim 8 caractere",confirm:"Confirm parola nou",confirmPh:"Rescrie parola nou",toggle:{show:"Arat",hide:"Ascunde"},submit:"Schimb parola",changing:"Se modific"},accountInfo:{title:"Informaii cont",emailVerified:"Email verificat:",verified:"Verificat",unverified:"Neverificat",lastSignIn:"Ultima autentificare:",createdAt:"Cont creat:"},tips:{title:"Sfaturi de securitate",t1:"Folosete o parol unic i complex pentru acest cont.",t2:"Activeaz autentificarea n doi pai dac este disponibil.",t3:"Nu partaja niciodat datele de autentificare.",t4:"Deconecteaz-te cnd foloseti calculatoare publice sau partajate."}},SupabaseClientActivity:{fbaTitle:"FBA",fbmTitle:"FBM",thead:{date:"Data",service:"Serviciu",unitPrice:"Pre unitar",units:"Unitate",ordersUnits:"Comenzi/Uniti",total:"Total",adminNotes:"Note admin"},noRecords:"Nu exist nregistrri.",totals:"Totaluri",chartTitle:"FBA  FBM  Altele  totaluri zilnice",range:{m1:"1 lun",m3:"3 luni",all:"Tot istoricul"},tooltip:{date:"Data"},companyMissing:"Contul tu nu este nc asociat unei companii. Scrie-ne pentru activare.",otherTitle:"Altele"},ClientFBAReport:{title:"Raport FBA",readonly:"Vizualizare doar n citire.",monthLabel:"Luna:",currentMonth:"Luna curent",noDataMonth:"Nu exist date pentru luna selectat."},ClientFBMReport:{title:"Raport FBM",readonly:"Vizualizare doar n citire.",monthLabel:"Luna:",currentMonth:"Luna curent",noDataMonth:"Nu exist date pentru luna selectat."},ClientStock:{title:"Produse",desc:"Gestioneaz produsele, datele Amazon i solicitrile de pregtire dintr-un singur loc.",month:{label:"Luna:",current:"Luna curent"},search:{field:{EAN:"EAN",NAME:"Denumire produs",ASIN_SKU:"ASIN / SKU"},placeholder:{EAN:"Caut dup EAN",NAME:"Caut dup denumire",ASIN_SKU:"Caut dup ASIN sau SKU"}},stockFilter:{label:"Stoc:",in:"n stoc",out:"Fr stoc",all:"Toate"},quickSort:{label:"Sortare rapid:",prep:"Stoc prep-center",amazon:"Stoc Amazon"},productSearchPlaceholder:"Caut dup nume / ASIN / SKU",cta:{sendToPrep:"Trimite n Prep (Amazon)",announceReception:"Anun recepia"},receptionForm:{carrierOther:"Numele curierului",carrierPlaceholder:"Selecteaz curierul",tracking:"Tracking ID",trackingAdd:"Adaug tracking ID",trackingHide:"Ascunde ID-urile suplimentare",trackingManage:"Gestioneaz toate",trackingCount:"{count} coduri tracking",trackingNone:"Fr coduri tracking",notes:"Notie",destinationLabel:"ara de destinaie Amazon",destinationHint:"Vom folosi aceast ar pentru recepii i cereri de prep."},actions:{selectAllOnPage:"Selecteaz toate de pe pagin",sendToPrep:"Trimite la pregtire",needSelection:"Selecteaz cel puin un produs."},thead:{sel:"",ean:"EAN",qty:"Cant.",name:"Denumire produs",asinSku:"ASIN / SKU",link:"Link produs",purchasePrice:"Pre achiziie",value:"Valoare",save:"Salveaz"},link:{add:`Adaug
Link`,open:`Deschide
Link`,edit:`Editeaz
Link`,label:"Link produs",cancel:"Anuleaz",save:"Salveaz"},table:{loading:"Se ncarc",empty:"Nicio nregistrare pentru filtrele curente.",saving:"Se salveaz",saved:"Salvat cu succes.",savedNameAdminOnly:"Salvat (denumirea este doar pentru admin).",nothingToSave:"Nu e nimic de salvat."},pager:{rows:"Rnduri:",prev:"",next:"",pageXofY:"Pagina {x} / {y}"},totals:{label:"Totaluri (filtre curente)  Cantitate: <strong>{qty}</strong>  Valoare: <strong>{value} </strong>"},recent:{title:"Cereri recente de pregtire",thead:{date:"Data",country:"ara",fbaShipmentId:"FBA Shipment ID",trackIds:"Coduri tracking",status:"Stare",actions:"Aciuni"},none:"Nu exist cereri nc.",caption:"Monitorizeaz ce trimitem din depozit i modific cererile ct timp sunt neconfirmate.",actions:{edit:"Editeaz cererea",view:"Vezi cererea"}},drawer:{title:"Trimite la pregtire",close:"nchide",destCountry:"ara de destinaie",line:"Linia {n}",ean:"EAN",asin:"ASIN",remove:"terge",asinSkuReq:"ASIN/SKU (obligatoriu)",unitsToSend:"Uniti de trimis (max {max})",cancel:"Anuleaz",send:"Trimite cererea",errors:{noLines:"Nu exist linii n aceast cerere. Adaug cel puin un produs.",asinSkuMissing:"Linia {n}: lipsete ASIN/SKU (completeaz cel puin unul).",qtyZero:"Linia {n}: cantitatea nu poate fi 0 sau goal.",qtyExceeds:"Linia {n}: unitile ({u}) depesc stocul disponibil ({max}).",createFailed:"Crearea draftului de pregtire a euat."},success:"Cererea a fost trimis la pregtire.",handle:{showMore:"+{n} n plus",showLess:"arat mai puin"}},countries:{FR:"Frana",DE:"Germania",IT:"Italia",ES:"Spania",RO:"Romnia",GB:"Regatul Unit",UK:"Regatul Unit"},guides:{button:"Instruciuni",error:"Nu pot deschide ghidul ({lang}): {msg}"},priceColumn:{label:"Pre achiziie ()",placeholder:"0.00",show:"Afieaz coloana de pre",hide:"Ascunde coloana de pre",note:"Coloan opional pentru a avea valoarea stocului n rapoarte. Completeaz-o doar dac vrei suma n exporturi.",save:"Salveaz preul"},quickAdd:{title:"Adugare manual n stoc",subtitle:"Adaug produse provizorii manual sau import ablonul cu EAN/ASIN i nume produs; preul de achiziie este opional. Cnd listingul apare din Amazon, cantitile se sincronizeaz automat dac produsul are acelai ASIN sau EAN.",manualTitle:"Adugare manual",eanLabel:"EAN/ASIN *",nameLabel:"Nume produs *",addLine:"Adaug linia",uploadTitle:"Import din XLSX/CSV",uploadHint:"Coloane obligatorii: EAN/ASIN i Nume produs. Preul de achiziie este opional.",template:"Descarc ablonul",previewTitle:"Linii n ateptare",empty:"Nu exist linii n ateptare.",remove:"terge",addInventory:"Adaug n stoc",errors:{missingFields:"Completeaz codul i numele produsului nainte s adaugi linia.",invalidCode:"Introdu un EAN sau ASIN valid.",fileType:"ncarc un fiier .xlsx sau .csv.",fileHeaders:"Lipsesc coloanele obligatorii: EAN/ASIN i Nume produs.",fileRows:"Nu s-au gsit linii valide n fiier.",save:"Nu pot aduga produsele: {msg}",invalidPrice:"Introdu un pre valid (ex. 12.50)."},success:"{count} produse provizorii adugate n stoc.",priceLabel:"Pre de achiziie ()  opional"},copyInline:"Copiat",copyBubble:"Cod copiat",copyError:"Nu pot copia codul.",inventory:{title:"Inventar",subtitle:`Inventar
Tip fulfillment i cantitate`,available:"Disponibil (FBA)",inbound:"n tranzit",unfulfillable:"Nerealizabil",reserved:"Rezervat"},sales:{heading:"Vnzri (30 zile)",all:"Toate pieele",last30:"Ultimele 30 de zile",total:"Uniti totale",empty:"Nu exist comenzi n aceast perioad.",updated:"Actualizat {time}",status:{payment:"Plat confirmat",refund:"Rambursate",shipped:"Expediate (seller)",pending:"n ateptare / verificare"}},receptionFba:{title:"Trimitere ctre Amazon",none:"Nu trimit acum",full:"Trimit toate unitile n Amazon",partial:"Trimitere parial",noSelection:"Selecteaz produse pentru a configura cantitile pariale.",available:"Uniti anunate: {qty}",availableLabel:"Uniti anunate",toAmazonLabel:"Uniti ctre Amazon"},createProduct:{button:"Creeaz produs",title:"Creeaz produs",subtitle:"Adaug produse pregtite pentru inbound chiar dac nu exist nc n Amazon.",simpleTab:"Formular simplu",advancedTab:"Formular avansat",cancel:"Anuleaz",submit:"Salveaz produsul",saving:"Se salveaz",success:"Produs creat cu succes.",fields:{name:"Nume produs",asin:"ASIN",sku:"SKU",ean:"EAN / UPC",qty:"Cantitate iniial",price:"Pre de achiziie ()",link:"Link produs",supplierName:"Furnizor",supplierNumber:"Cod furnizor",supplierUrl:"URL furnizor",supplierPrice:"Pre furnizor",manufacturer:"Productor",manufacturerNumber:"Cod productor",productExtId:"ID extern",shipTemplate:"ablon livrare",approxPriceEbay:"Pre eBay estimat",approxPriceFbm:"Pre FBM estimat",weightValue:"Greutate",unitsCount:"Numr uniti",packageWidth:"Lime colet",packageHeight:"nlime colet",packageLength:"Lungime colet",notes:"Note"},advancedSections:{supplier:"Furnizor",product:"Date produs"}},photos:{button:"Foto",statusAvailable:"Foto disponibile ({count})",statusUnavailable:"Foto indisponibile"},photosModal:{title:"Foto  {name}",count:"{current} / {max} imagini ncrcate",disclaimer:"Pentru utilizarea serviciului de stocare a pozelor pe platform se aplic o tax lunar de 3 , ncepnd din momentul primei ncrcri. Aceasta permite pstrarea imaginilor att timp ct produsul rmne n inventar. n cazul n care pozele sunt ncrcate de mine, se adaug o tax de 1  pentru fiecare set de 6 imagini per produs. Dac pozele sunt ncrcate direct de tine, se aplic doar taxa lunar de 3 . Serviciul este opional, iar pozele pot fi trimise gratuit prin WhatsApp la cerere.",uploadCta:"Trage fiierele sau apas pentru a ncrca (maxim {slots} n plus)",uploading:"ncrcare",downloadAll:"Descarc tot",download:"Descarc",remove:"terge",loading:"Se ncarc pozele",empty:"Nu exist nc poze ncrcate.",previewUnavailable:"Previzualizare indisponibil",errors:{load:"Nu s-au putut ncrca pozele.",limit:"Limita de poze a fost atins. terge o imagine nainte de a aduga alta.",tooLarge:'"{name}" depete limita de 4 MB per poz. ncarc fiiere mai mici.',upload:"ncrcarea pozei a euat.",delete:"tergerea pozei a euat.",zip:"Descrcarea arhivei a euat."}}},ClientReturns:{title:"Retururi",readonly:"Vizualizare doar n citire.",thead:{date:"Data",asin:"ASIN",qty:"Cantitate",type:"Tip retur",status:"Stare",adminNotes:"Note admin"},noRecords:"Nu exist nregistrri."},ClientExports:{title:"Exporturi",desc:"Descarc rapoarte Excel pentru FBA, FBM, Stoc sau Retururi. Alege intervalul.",reportType:"Tip raport",from:"De la (inclusiv)",to:"Pn la (inclusiv)",btn:"Export {kind} (.xlsx)",generating:"Se genereaz",footnote:"* Raportul include un rnd TOTAL; coloanele numerice sunt nsumate.",alerts:{noCompany:"Acest cont nu are setat compania.",failed:"Export euat."},kinds:{FBA:"FBA",FBM:"FBM",Stock:"Stoc",Returns:"Retururi"},archive:{title:"Arhiv rapoarte de stoc (lunar)",loading:"ncrcm arhiva",empty:"Nu exist nc rapoarte lunare.",label:"Stoc PrepCenter France {month} {year}",meta:"{items} produse  Total: {total}  HT  Generat: {date}",download:"Descarc"}},ClientBalanceBar:{title:"Sold",current:"Sold curent: {amount} HT",prepayment:"Avans: {amount} HT",outstanding:"Restan: {amount} HT"},ClientDeals:{button:"Vezi ofertele negociate",title:"Oferte negociate",loading:"Se ncarc",empty:"Nicio ofert activ.",showAll:"Vezi tot",hide:"Ascunde"},ClientIntegrations:{title:"Integrri",desc:"Conecteaz contul Amazon Seller Central pentru a sincroniza automat stocul.",notice:"Configureaz {clientId} i {redirect} n `.env` pentru a activa butonul de autorizare.",marketplaceLabel:"Marketplace",connectButton:"Conecteaz Amazon",instructions:"Dup autorizarea aplicaiei n Seller Central vei fi redirecionat n portal. Token-urile sunt stocate n siguran.",listTitle:"Conturi conectate",listDesc:"Poi revoca oricnd accesul. Ultima sincronizare este afiat mai jos.",refresh:"Actualizeaz",empty:"Nicio integrare nc.",confirmDisconnect:"Deconectezi acest cont Amazon?",flashRemoved:"Integrarea a fost eliminat.",actions:{disconnect:"Deconecteaz"},regions:{eu:"Amazon UE",na:"Amazon America de Nord",jp:"Amazon Japonia"},status:{active:"Conectat",error:"Eroare",pending:"n ateptare"},fields:{added:"Adugat: {date}",lastSync:"Ultima sincronizare: {date}",lastError:"Ultima eroare:"},card:{marketplaceAlt:"Marketplace: {id}"}},ClientAffiliates:{title:"Program de afiliere",subtitle:"Invit ali selleri i ctig comisionul stabilit de echipa noastr.",actions:{refresh:"Actualizeaz"},flash:{requestSent:"Cererea a fost trimis. Revenim curnd.",requestError:"Nu am putut trimite cererea. ncearc din nou."},codeCard:{title:"Codul tu de afiliat",copy:"Copiaz codul",copied:"Copiat!",active:"Activ",inactive:"Pauzat"},rules:{title:"Reguli de plat",percent:"Primeti {percent}% din fiecare factur pltit de recomandrile tale.",threshold:"Sub {threshold}: {below}%. Peste: {above}%.",fixed:"Cnd un client recomandat ajunge la {threshold}, primeti {amount} o singur dat.",missing:"Regulile de plat vor fi adugate n curnd."},stats:{title:"Performan",clients:"Clieni afiliai",billed:"Total facturat",payout:"Estimare comision"},members:{title:"Clieni legai de codul tu",empty:"nc nu a folosit nimeni codul tu.",billed:"Facturat",payout:"Partea ta",hint:"Lista se actualizeaz automat cnd asignm sau eliminm clieni."},request:{title:"Solicit codul tu de afiliat",desc:"Spune-ne cum vrei s promovezi Prep Center. Fiecare cerere este analizat manual.",preferred:"Cod preferat",preferredPh:"Ex: ADRIAN10",generate:"Propune cod",preferredHint:"Opional. Las gol dac vrei s generm noi un cod scurt.",notes:"Mesaj pentru echip",notesPh:"Scrie cteva detalii despre audien / comunitate",submitting:"Se trimite",submit:"Trimite cererea",footer:"Revenim prin email n 1-2 zile lucrtoare.",pendingTitle:"Cererea ta este n analiz",details:"Cod preferat: {code}"},status:{pending:"Cererea este n analiz. Te anunm pe email cnd este aprobat.",review:"Verificm cererea ta. Primeti feedback n scurt timp.",approved:"Aprobat. i activm codul n curnd.",needCode:"Solicit un cod de afiliat ca s ncepi s ctigi comisioane."}},reportsMenu:{shipments:"Expedieri prep-center",receiving:"Recepii prep-center"},ClientPrepShipments:{title:"Expedieri prep-center",desc:"Monitorizeaz statusul expedierilor pregtite n depozit.",table:{title:"Solicitri de pregtire recente",empty:"Nu exist expedieri nc.",actions:"Aciuni",edit:"Editeaz cererea",view:"Vezi cererea"},drawer:{pendingTitle:"Cerere de pregtire (n ateptare  editabil)",readonlyTitle:"Cerere de pregtire (doar citire)",date:"Data",country:"Destinaie",status:"Stare",shipment:"ID transport FBA",product:"Produs",units:"Uniti",actions:"Aciuni",remove:"terge",addManual:"Adaug articol",selectProduct:"Selecteaz produs",selectStock:"Selecteaz un produs din inventar.",qtyError:"Cantitatea trebuie s fie minim 1.",stockError:"Cantitatea depete stocul disponibil ({qty}).",line:"Linia",cancel:"Anuleaz",add:"Adaug",inventoryTitle:"Inventar",inventorySearch:"Caut dup nume / SKU / EAN",inventoryEmpty:"Nu exist produse potrivite.",inStock:"n stoc: {qty}",close:"nchide",save:"Salveaz modificrile",empty:"Nu exist articole n aceast cerere.",locked:"Cererea nu mai poate fi editat."}},ClientOtherReport:{title:"Servicii diverse",readonly:"Vizualizare doar pentru citire a taxelor suplimentare.",monthLabel:"Luna:",currentMonth:"Luna curent",noDataMonth:"Nu exist nregistrri n aceast lun.",serviceNames:{photoSubscription:"Abonament stocare fotografii",manualPhoto:"Fotografiere manual"}}},TR={common:{greeting:"Salut, {name} !",subtitle:"Portail client : consultez vos rapports et grez votre compte.",signOut:"Dconnexion",groups:{operations:"Oprations",account:"Mon compte"},loading:"Chargement",calculating:"Calcul en cours",na:"N/A",yes:"Oui",no:"Non",supportError:"Une erreur est survenue. Merci de contacter le support.",cancel:"Annuler",accessDeniedTitle:"Accs refus",accessDeniedDesc:"Vous n'avez pas lautorisation d'accder  cette section."},sidebar:{activity:"Activit",fba:"FBA",fbm:"FBM",stock:"Produits",returns:"Retours",exports:"Exports",profile:"Profil",billing:"Coordonnes de facturation",invoices:"Mes factures",integrations:"Intgrations",affiliates:"Affilis",security:"Scurit",reports:"Rapports"},billing:{title:"Coordonnes de facturation",addProfile:"Ajouter un profil",flash:{created:"Profil cr avec succs",updated:"Profil mis  jour avec succs",deleted:"Profil supprim avec succs",deleteConfirm:"Voulez-vous vraiment supprimer ce profil de facturation ?",errorSave:"Erreur lors de lenregistrement du profil",errorDelete:"Erreur lors de la suppression du profil"},form:{new:"Nouveau profil de facturation",edit:"Modifier le profil",type:"Type de profil",individual:"Particulier",company:"Entreprise",firstName:"Prnom *",lastName:"Nom *",companyName:"Raison sociale *",vat:"N de TVA",sirenSiret:"SIREN/SIRET",country:"Pays *",address:"Adresse *",city:"Ville *",postalCode:"Code postal *",phone:"Tlphone",default:"Dfinir comme profil par dfaut",cancel:"Annuler",save:"Enregistrer",saving:"Enregistrement",update:"Mettre  jour",validVatFailed:"chec de la validation TVA : {reason}",vatFormatInvalid:"Format de TVA invalide pour ce pays"},list:{noneTitle:"Aucun profil de facturation",noneDesc:"Ajoutez votre premier profil pour recevoir des factures.",add:"Ajouter un profil",defaultBadge:"Par dfaut",labels:{vat:"TVA",sirenSiret:"SIREN/SIRET",tel:"Tl"}}},invoices:{title:"Mes factures",total:"Total : {n} factures",flashError:"Impossible de charger les factures.",filters:{search:"Recherche",searchPh:"Numro de facture ou description",status:"Statut",period:"Priode",all:"Toutes",last30:"30 derniers jours",last90:"90 derniers jours",thisYear:"Cette anne",paid:"Paye",pending:"En attente",overdue:"En retard",cancelled:"Annule"},card:{invoice:"Facture n{no}",date:"Date",due:"chance",vat:"TVA : {vat} ",amount:"{amount} ",view:"Voir",download:"Tlcharger",noFile:"Aucun fichier"},empty:{noneFound:"Aucune facture trouve",noneYet:"Pas encore de factures",tipFound:"Essayez dajuster vos filtres.",tipYet:"Vos factures apparatront aprs votre premire commande."},errors:{download:"Erreur lors du tlchargement de la facture.",view:"Impossible de gnrer un lien de visualisation."}},profile:{title:"Informations personnelles",edit:"Modifier",cancel:"Annuler",save:"Enregistrer les modifications",saving:"Enregistrement",flashOk:"Profil mis  jour avec succs.",flashErr:"Erreur lors de la mise  jour du profil.",fields:{firstName:"Prnom",lastName:"Nom",email:"Email",emailNote:"Lemail ne peut pas tre modifi ici. Contactez le support pour le mettre  jour.",phone:"Tlphone",country:"Pays",language:"Langue prfre",phonePh:"+33 6 12 34 56 78"},languages:{en:"English",ro:"Romn",fr:"Franais",de:"Deutsch",it:"Italiano",es:"Espaol"},countries:{RO:"Roumanie",FR:"France",DE:"Allemagne",IT:"Italie",ES:"Espagne"}},security:{title:"Scurit",flash:{pwdMismatch:"Les mots de passe ne correspondent pas.",pwdTooShort:"Le mot de passe doit contenir au moins 8 caractres.",pwdOk:"Mot de passe modifi avec succs.",pwdErr:"Erreur lors du changement de mot de passe."},changePwd:{title:"Changer le mot de passe",new:"Nouveau mot de passe",newPh:"Minimum 8 caractres",confirm:"Confirmer le nouveau mot de passe",confirmPh:"Saisir  nouveau le nouveau mot de passe",toggle:{show:"Afficher",hide:"Masquer"},submit:"Changer le mot de passe",changing:"Modification"},accountInfo:{title:"Informations du compte",emailVerified:"Email vrifi :",verified:"Vrifi",unverified:"Non vrifi",lastSignIn:"Dernire connexion :",createdAt:"Compte cr :"},tips:{title:"Conseils de scurit",t1:"Utilisez un mot de passe unique et complexe pour ce compte.",t2:"Activez lauthentification  deux facteurs si disponible.",t3:"Ne partagez jamais vos identifiants.",t4:"Dconnectez-vous sur les ordinateurs publics ou partags."}},SupabaseClientActivity:{fbaTitle:"FBA",fbmTitle:"FBM",thead:{date:"Date",service:"Service",unitPrice:"Prix unitaire",units:"Unit",ordersUnits:"Commandes/Units",total:"Total",adminNotes:"Notes admin"},noRecords:"Aucun enregistrement.",totals:"Totaux",chartTitle:"FBA  FBM  Autres  totaux quotidiens",range:{m1:"1 mois",m3:"3 mois",all:"Depuis le dbut"},tooltip:{date:"Date"},companyMissing:"Votre compte nest pas encore li  une socit. Contactez le support pour lactiver.",otherTitle:"Autres"},ClientFBAReport:{title:"Rapport FBA",readonly:"Vue en lecture seule.",monthLabel:"Mois :",currentMonth:"Mois en cours",noDataMonth:"Aucune donne pour le mois slectionn."},ClientFBMReport:{title:"Rapport FBM",readonly:"Vue en lecture seule.",monthLabel:"Mois :",currentMonth:"Mois en cours",noDataMonth:"Aucune donne pour le mois slectionn."},ClientStock:{title:"Produits",desc:"Grez vos produits, les donnes Amazon et les envois en prparation au mme endroit.",month:{label:"Mois :",current:"Mois en cours"},search:{field:{EAN:"EAN",NAME:"Nom du produit",ASIN_SKU:"ASIN / SKU"},placeholder:{EAN:"Rechercher par EAN",NAME:"Rechercher par nom de produit",ASIN_SKU:"Rechercher par ASIN ou SKU"}},stockFilter:{label:"Stock :",in:"En stock",out:"Rupture",all:"Tous"},quickSort:{label:"Tri rapide :",prep:"Stock prep-center",amazon:"Stock Amazon"},productSearchPlaceholder:"Rechercher par nom / ASIN / SKU",cta:{sendToPrep:"Envoyer en prparation (Amazon)",announceReception:"Annoncer une rception"},receptionForm:{carrierOther:"Nom du transporteur",carrierPlaceholder:"Slectionner le transporteur",tracking:"Numro de suivi",trackingAdd:"Ajouter un numro de suivi",trackingHide:"Masquer les numros supplmentaires",trackingManage:"Grer tous les numros",trackingCount:"{count} numros de suivi",trackingNone:"Aucun numro de suivi",notes:"Notes",destinationLabel:"Pays de destination Amazon",destinationHint:"Nous utiliserons ce pays pour les demandes et rceptions."},actions:{selectAllOnPage:"Slectionner tout sur la page",sendToPrep:"Envoyer en prparation",needSelection:"Slectionnez au moins un produit."},thead:{sel:"",ean:"EAN",qty:"Qt",name:"Nom du produit",asinSku:"ASIN / SKU",link:"Lien produit",purchasePrice:"Prix dachat",value:"Valeur",save:"Enregistrer"},link:{add:`Ajouter
Lien`,open:`Ouvrir
Lien`,edit:`Modifier
Lien`,label:"Lien produit",cancel:"Annuler",save:"Enregistrer"},table:{loading:"Chargement",empty:"Aucune donne pour les filtres actuels.",saving:"Enregistrement",saved:"Enregistr avec succs.",savedNameAdminOnly:"Enregistr (le nom est rserv  ladmin).",nothingToSave:"Rien  enregistrer."},pager:{rows:"Lignes :",prev:"",next:"",pageXofY:"Page {x} / {y}"},totals:{label:"Totaux (filtres actuels)  Quantit : <strong>{qty}</strong>  Valeur : <strong>{value} </strong>"},recent:{title:"Demandes de prparation rcentes",thead:{date:"Date",country:"Pays",fbaShipmentId:"ID expdition FBA",trackIds:"IDs de suivi",status:"Statut",actions:"Actions"},none:"Aucune demande pour le moment.",caption:"Suivez vos envois prpars et modifiez les brouillons tant quils sont en attente.",actions:{edit:"Modifier le brouillon",view:"Voir la demande"}},drawer:{title:"Envoyer en prparation",close:"Fermer",destCountry:"Pays de destination",line:"Ligne {n}",ean:"EAN",asin:"ASIN",remove:"Supprimer",asinSkuReq:"ASIN/SKU (obligatoire)",unitsToSend:"Units  envoyer (max {max})",cancel:"Annuler",send:"Envoyer la demande",errors:{noLines:"Aucune ligne dans cette demande. Ajoutez au moins un produit.",asinSkuMissing:"Ligne {n} : ASIN/SKU manquant (renseignez au moins un champ).",qtyZero:"Ligne {n} : la quantit ne peut pas tre 0 ou vide.",qtyExceeds:"Ligne {n} : units ({u}) suprieures au stock disponible ({max}).",createFailed:"chec de cration du brouillon de prparation."},success:"Demande envoye en prparation.",handle:{showMore:"+{n} de plus",showLess:"voir moins"}},countries:{FR:"France",DE:"Allemagne",IT:"Italie",ES:"Espagne",RO:"Roumanie",GB:"Royaume-Uni",UK:"Royaume-Uni"},guides:{button:"Instructions",error:"Impossible douvrir le guide ({lang}) : {msg}"},priceColumn:{label:"Prix d'achat ()",placeholder:"0.00",show:"Afficher la colonne prix",hide:"Masquer la colonne prix",note:"Colonne facultative pour ajouter la valeur du stock dans les rapports.  remplir uniquement si vous souhaitez afficher le montant dans les exports.",save:"Enregistrer le prix"},quickAdd:{title:"Ajout manuel au stock",subtitle:"Ajoutez des produits provisoires manuellement ou importez le modle avec EAN/ASIN et nom du produit ; le prix dachat est optionnel. Lorsque la fiche Amazon remonte, la quantit se synchronise automatiquement.",manualTitle:"Saisie manuelle",eanLabel:"EAN/ASIN *",nameLabel:"Nom du produit *",addLine:"Ajouter la ligne",uploadTitle:"Importer depuis XLSX/CSV",uploadHint:"Colonnes requises : EAN/ASIN et Nom du produit. Le prix dachat est optionnel.",template:"Tlcharger le modle",previewTitle:"Lignes en attente",empty:"Aucune ligne en attente pour linstant.",remove:"Supprimer",addInventory:"Ajouter au stock",errors:{missingFields:"Indiquez le code et le nom du produit avant dajouter la ligne.",invalidCode:"Saisissez un EAN ou ASIN valide.",fileType:"Tlversez un fichier .xlsx ou .csv.",fileHeaders:"Colonnes obligatoires manquantes : EAN/ASIN et Nom du produit.",fileRows:"Aucune ligne valide dtecte dans le fichier.",save:"Impossible dajouter les produits : {msg}",invalidPrice:"Saisissez un prix valide (ex. 12,50)."},success:"{count} lignes provisoires ajoutes au stock.",priceLabel:"Prix dachat ()  optionnel"},copyInline:"Copi",copyBubble:"Code copi",copyError:"Impossible de copier le code.",inventory:{title:"Stock",subtitle:`Inventaire
Mode de fulfillment et quantit`,available:"Disponible (FBA)",inbound:"En transit",unfulfillable:"Non ralisable",reserved:"Rserv"},sales:{heading:"Ventes sur 30 jours",all:"Tous les marchs",last30:"30 derniers jours",total:"Units totales",empty:"Aucune commande sur cette priode.",updated:"Actualis {time}",status:{payment:"Paiement confirm",refund:"Rembourses",shipped:"Expdies (vendeur)",pending:"En attente / vrification"}},receptionFba:{title:"Expdier vers Amazon",none:"Ne pas envoyer pour le moment",full:"Envoyer toutes les units vers Amazon",partial:"Envoi partiel",noSelection:"Slectionnez des produits pour configurer lenvoi partiel.",available:"Units annonces : {qty}",availableLabel:"Units annonces",toAmazonLabel:"Units vers Amazon"},createProduct:{button:"Crer un produit",title:"Crer un produit",subtitle:"Ajoutez des produits prts  entrer au dpt, mme sans fiche Amazon.",simpleTab:"Formulaire simple",advancedTab:"Formulaire avanc",cancel:"Annuler",submit:"Enregistrer le produit",saving:"Enregistrement",success:"Produit cr avec succs.",fields:{name:"Nom du produit",asin:"ASIN",sku:"SKU",ean:"EAN / UPC",qty:"Quantit initiale",price:"Prix dachat ()",link:"Lien produit",supplierName:"Fournisseur",supplierNumber:"Rfrence fournisseur",supplierUrl:"URL fournisseur",supplierPrice:"Prix fournisseur",manufacturer:"Fabricant",manufacturerNumber:"Rf. fabricant",productExtId:"ID externe",shipTemplate:"Modle dexpdition",approxPriceEbay:"Prix eBay approx.",approxPriceFbm:"Prix FBM approx.",weightValue:"Poids",unitsCount:"Nombre dunits",packageWidth:"Largeur colis",packageHeight:"Hauteur colis",packageLength:"Longueur colis",notes:"Notes"},advancedSections:{supplier:"Fournisseur",product:"Donnes produit"}},photos:{button:"Photos",statusAvailable:"Photos disponibles ({count})",statusUnavailable:"Photos indisponibles"},photosModal:{title:"Photos  {name}",count:"{current} / {max} images importes",disclaimer:"Pour utiliser le service de stockage des photos sur la plateforme, une redevance mensuelle de 3  sapplique  partir de la premire mise en ligne. Cela maintient les images disponibles tant que le produit reste en inventaire. Si je tlcharge les photos pour vous, un supplment de 1  est factur pour chaque lot de 6 images par produit. Si vous les importez vous-mme, seule la redevance mensuelle de 3  sapplique. Ce service est optionnel et les photos peuvent tre envoyes gratuitement via WhatsApp sur demande.",uploadCta:"Glissez-dposez ou cliquez pour importer (max {slots} supplmentaires)",uploading:"Tlversement",downloadAll:"Tlcharger tout",download:"Tlcharger",remove:"Supprimer",loading:"Chargement des photos",empty:"Aucune photo importe pour le moment.",previewUnavailable:"Aperu indisponible",errors:{load:"Impossible de charger les photos.",limit:"Limite de photos atteinte. Supprimez une image avant den ajouter une autre.",tooLarge:'"{name}" dpasse la limite de 4 Mo par photo. Importez des fichiers plus petits.',upload:"chec du tlversement.",delete:"chec de la suppression.",zip:"chec du tlchargement de larchive."}}},ClientReturns:{title:"Retours",readonly:"Vue en lecture seule.",thead:{date:"Date",asin:"ASIN",qty:"Quantit",type:"Type de retour",status:"Statut",adminNotes:"Notes admin"},noRecords:"Aucun enregistrement."},ClientExports:{title:"Exports",desc:"Tlchargez des rapports Excel pour FBA, FBM, Stock ou Retours. Choisissez une priode.",reportType:"Type de rapport",from:"Du (inclus)",to:"Au (inclus)",btn:"Exporter {kind} (.xlsx)",generating:"Gnration",footnote:"* Le rapport inclut une ligne TOTAL ; les colonnes numriques sont additionnes.",alerts:{noCompany:"Aucune socit nest dfinie pour ce compte.",failed:"chec de lexport."},kinds:{FBA:"FBA",FBM:"FBM",Stock:"Stock",Returns:"Retours"},archive:{title:"Archive des rapports de stock (mensuel)",loading:"Chargement de larchive",empty:"Aucun rapport mensuel pour linstant.",label:"Stock PrepCenter France {month} {year}",meta:"{items} articles  Total : {total}  HT  Gnr le {date}",download:"Tlcharger"}},ClientBalanceBar:{title:"Solde",current:"Solde actuel : {amount} ",prepayment:"Acompte : {amount} ",outstanding:"Solde restant : {amount} "},ClientDeals:{button:"Afficher les offres ngocies",title:"Offres ngocies",loading:"Chargement",empty:"Aucune offre active.",showAll:"Voir tout",hide:"Masquer"},ClientIntegrations:{title:"Intgrations",desc:"Connectez votre compte Amazon Seller Central pour synchroniser automatiquement vos stocks.",notice:"Configurez {clientId} et {redirect} dans `.env` pour activer le bouton dautorisation.",marketplaceLabel:"Marketplace",connectButton:"Connecter Amazon",instructions:"Aprs avoir autoris lapplication dans Seller Central, vous serez redirig vers le portail. Les jetons sont stocks en toute scurit.",listTitle:"Comptes connects",listDesc:"Vous pouvez rvoquer laccs  tout moment. La dernire synchronisation est affiche ci-dessous.",refresh:"Rafrachir",empty:"Aucune intgration pour le moment.",confirmDisconnect:"Dconnecter ce compte Amazon ?",flashRemoved:"Intgration supprime.",actions:{disconnect:"Dconnecter"},regions:{eu:"Amazon UE",na:"Amazon Amrique du Nord",jp:"Amazon Japon"},status:{active:"Connect",error:"Erreur",pending:"En attente"},fields:{added:"Ajout : {date}",lastSync:"Dernire synchro : {date}",lastError:"Dernire erreur :"},card:{marketplaceAlt:"Marketplace : {id}"}},reportsMenu:{shipments:"Expditions prep-center",receiving:"Rceptions prep-center"},ClientPrepShipments:{title:"Expditions prep-center",desc:"Suivez ltat des expditions prpares dans notre entrept.",table:{title:"Demandes de prparation rcentes",empty:"Aucune expdition pour le moment.",actions:"Actions",edit:"Modifier le brouillon",view:"Voir la demande"},drawer:{pendingTitle:"Demande de prparation (en attente  modifiable)",readonlyTitle:"Demande de prparation (lecture seule)",date:"Date",country:"Destination",status:"Statut",shipment:"ID FBA",product:"Produit",units:"Units",actions:"Actions",remove:"Supprimer",addManual:"Ajouter un article",selectProduct:"Slectionnez un produit",selectStock:"Slectionnez un produit din stoc.",qtyError:"Cantitatea trebuie s fie cel puin 1.",stockError:"Cantitatea depete stocul disponibil ({qty}).",line:"Linia",cancel:"Anuleaz",add:"Adaug",inventoryTitle:"Inventar",inventorySearch:"Caut nume / SKU / EAN",inventoryEmpty:"Nu exist produse potrivite.",inStock:"n stoc: {qty}",close:"nchide",save:"Salveaz modificrile",empty:"Nu exist articole n aceast cerere.",locked:"Cererea nu mai poate fi editat."}},ClientOtherReport:{title:"Autres services",readonly:"Vue en lecture seule des frais additionnels.",monthLabel:"Mois :",currentMonth:"Mois en cours",noDataMonth:"Aucune entre pour ce mois.",serviceNames:{photoSubscription:"Abonnement stockage photos",manualPhoto:"Prise de photos manuelle"}}},zR={common:{greeting:"Hallo, {name}!",subtitle:"Kundenportal: Berichte anzeigen und Ihr Konto verwalten.",signOut:"Abmelden",groups:{operations:"Operationen",account:"Mein Konto"},loading:"Wird geladen",calculating:"Wird berechnet",na:"k. A.",yes:"Ja",no:"Nein",supportError:"Es ist ein Fehler aufgetreten. Bitte kontaktiere den Support.",cancel:"Abbrechen",accessDeniedTitle:"Zugriff verweigert",accessDeniedDesc:"Sie besitzen keine Berechtigung fr diesen Bereich."},sidebar:{activity:"Aktivitt",fba:"FBA",fbm:"FBM",stock:"Produkte",returns:"Retouren",exports:"Exporte",profile:"Profil",billing:"Rechnungsdaten",invoices:"Meine Rechnungen",integrations:"Integrationen",affiliates:"Affiliates",security:"Sicherheit",reports:"Berichte"},billing:{title:"Rechnungsdaten",addProfile:"Profil hinzufgen",flash:{created:"Profil erfolgreich erstellt",updated:"Profil erfolgreich aktualisiert",deleted:"Profil erfolgreich gelscht",deleteConfirm:"Mchten Sie dieses Rechnungsprofil wirklich lschen?",errorSave:"Fehler beim Speichern des Profils",errorDelete:"Fehler beim Lschen des Profils"},form:{new:"Neues Rechnungsprofil",edit:"Profil bearbeiten",type:"Profiltyp",individual:"Privatperson",company:"Unternehmen",firstName:"Vorname *",lastName:"Nachname *",companyName:"Firmenname *",vat:"USt-IdNr.",sirenSiret:"SIREN/SIRET",country:"Land *",address:"Adresse *",city:"Stadt *",postalCode:"PLZ *",phone:"Telefon",default:"Als Standardprofil festlegen",cancel:"Abbrechen",save:"Speichern",saving:"Wird gespeichert",update:"Aktualisieren",validVatFailed:"USt-IdNr.-Prfung fehlgeschlagen: {reason}",vatFormatInvalid:"Ungltiges USt-Format fr dieses Land"},list:{noneTitle:"Keine Rechnungsprofile",noneDesc:"Fgen Sie Ihr erstes Profil hinzu, um Rechnungen zu erhalten.",add:"Profil hinzufgen",defaultBadge:"Standard",labels:{vat:"USt",sirenSiret:"SIREN/SIRET",tel:"Tel."}}},invoices:{title:"Meine Rechnungen",total:"Summe: {n} Rechnungen",flashError:"Rechnungen konnten nicht geladen werden.",filters:{search:"Suche",searchPh:"Rechnungsnummer oder Beschreibung",status:"Status",period:"Zeitraum",all:"Alle",last30:"Letzte 30 Tage",last90:"Letzte 90 Tage",thisYear:"Dieses Jahr",paid:"Bezahlt",pending:"Offen",overdue:"berfllig",cancelled:"Storniert"},card:{invoice:"Rechnung #{no}",date:"Datum",due:"Fllig",vat:"MwSt.: {vat} ",amount:"{amount} ",view:"Ansehen",download:"Download",noFile:"Keine Datei"},empty:{noneFound:"Keine Rechnungen gefunden",noneYet:"Noch keine Rechnungen vorhanden",tipFound:"Passen Sie Ihre Filter an.",tipYet:"Nach Ihrer ersten Bestellung erscheinen hier Rechnungen."},errors:{download:"Fehler beim Herunterladen der Rechnung.",view:"Ansichtslink konnte nicht erstellt werden."}},profile:{title:"Persnliche Daten",edit:"Bearbeiten",cancel:"Abbrechen",save:"nderungen speichern",saving:"Wird gespeichert",flashOk:"Profil erfolgreich aktualisiert.",flashErr:"Fehler beim Aktualisieren des Profils.",fields:{firstName:"Vorname",lastName:"Nachname",email:"E-Mail",emailNote:"E-Mail kann hier nicht gendert werden. Support kontaktieren, wenn eine nderung ntig ist.",phone:"Telefon",country:"Land",language:"Bevorzugte Sprache",phonePh:"+49 170 0000000"},languages:{en:"English",ro:"Romn",fr:"Franais",de:"Deutsch",it:"Italiano",es:"Espaol"},countries:{RO:"Rumnien",FR:"Frankreich",DE:"Deutschland",IT:"Italien",ES:"Spanien"}},security:{title:"Sicherheit",flash:{pwdMismatch:"Passwrter stimmen nicht berein.",pwdTooShort:"Passwort muss mindestens 8 Zeichen lang sein.",pwdOk:"Passwort erfolgreich gendert.",pwdErr:"Fehler beim ndern des Passworts."},changePwd:{title:"Passwort ndern",new:"Neues Passwort",newPh:"Mindestens 8 Zeichen",confirm:"Neues Passwort besttigen",confirmPh:"Neues Passwort erneut eingeben",toggle:{show:"Anzeigen",hide:"Verbergen"},submit:"Passwort ndern",changing:"Wird gendert"},accountInfo:{title:"Kontoinformationen",emailVerified:"E-Mail verifiziert:",verified:"Verifiziert",unverified:"Nicht verifiziert",lastSignIn:"Letzte Anmeldung:",createdAt:"Konto erstellt:"},tips:{title:"Sicherheitstipps",t1:"Verwenden Sie ein einzigartiges, komplexes Passwort.",t2:"Aktivieren Sie nach Mglichkeit Zwei-Faktor-Authentifizierung.",t3:"Geben Sie Ihre Zugangsdaten niemals weiter.",t4:"Melden Sie sich auf ffentlichen/ gemeinsamen Computern immer ab."}},SupabaseClientActivity:{fbaTitle:"FBA",fbmTitle:"FBM",thead:{date:"Datum",service:"Service",unitPrice:"Stckpreis",units:"Einheit",ordersUnits:"Bestellungen/Einheiten",total:"Summe",adminNotes:"Admin-Notizen"},noRecords:"Keine Eintrge.",totals:"Summen",chartTitle:"FBA  FBM  Sonstiges  Tagesumstze",range:{m1:"1 Monat",m3:"3 Monate",all:"Gesamter Zeitraum"},tooltip:{date:"Datum"},companyMissing:"Ihr Konto ist noch keiner Firma zugeordnet. Bitte Support zur Aktivierung kontaktieren.",otherTitle:"Sonstiges"},ClientFBAReport:{title:"FBA-Bericht",readonly:"Nur Leseansicht.",monthLabel:"Monat:",currentMonth:"Aktueller Monat",noDataMonth:"Keine Daten fr den gewhlten Monat."},ClientFBMReport:{title:"FBM-Bericht",readonly:"Nur Leseansicht.",monthLabel:"Monat:",currentMonth:"Aktueller Monat",noDataMonth:"Keine Daten fr den gewhlten Monat."},ClientStock:{title:"Produkte",desc:"Verwalten Sie Produkte, Amazon-Daten und Prep-Anfragen an einem Ort.",month:{label:"Monat:",current:"Aktueller Monat"},search:{field:{EAN:"EAN",NAME:"Produktname",ASIN_SKU:"ASIN / SKU"},placeholder:{EAN:"Nach EAN suchen",NAME:"Nach Produktname suchen",ASIN_SKU:"Nach ASIN oder SKU suchen"}},stockFilter:{label:"Bestand:",in:"Verfgbar",out:"Nicht vorrtig",all:"Alle"},quickSort:{label:"Schnellsortierung:",prep:"Prep-Center-Bestand",amazon:"Amazon-Bestand"},productSearchPlaceholder:"Nach Name / ASIN / SKU suchen",cta:{sendToPrep:"An Prep-Center senden (Amazon)",announceReception:"Wareneingang ankndigen"},receptionForm:{carrierOther:"Name des Transporteurs",carrierPlaceholder:"Versanddienst whlen",tracking:"Tracking-ID",trackingAdd:"Tracking-ID hinzufgen",trackingHide:"Zustzliche IDs ausblenden",trackingManage:"Alle verwalten",trackingCount:"{count} Tracking-IDs",trackingNone:"Keine Tracking-IDs",notes:"Notizen",destinationLabel:"Amazon-Zielland",destinationHint:"Wir verwenden dieses Land fr Anlieferungen und Prep-Anfragen."},actions:{selectAllOnPage:"Alle auf der Seite auswhlen",sendToPrep:"Zur Vorbereitung senden",needSelection:"Mindestens ein Produkt auswhlen."},thead:{sel:"",ean:"EAN",qty:"Menge",name:"Produktname",asinSku:"ASIN / SKU",link:"Produktlink",purchasePrice:"Einkaufspreis",value:"Wert",save:"Speichern"},link:{add:`Link
Hinzuf.`,open:`Link
ffnen`,edit:`Link
Bearb.`,label:"Produktlink",cancel:"Abbrechen",save:"Speichern"},table:{loading:"Wird geladen",empty:"Keine Daten fr die aktuellen Filter.",saving:"Wird gespeichert",saved:"Erfolgreich gespeichert.",savedNameAdminOnly:"Gespeichert (Name nur fr Admin).",nothingToSave:"Nichts zu speichern."},pager:{rows:"Zeilen:",prev:"",next:"",pageXofY:"Seite {x} / {y}"},totals:{label:"Summen (aktuelle Filter)  Menge: <strong>{qty}</strong>  Wert: <strong>{value} </strong>"},recent:{title:"Aktuelle Vorbereitungsanfragen",thead:{date:"Datum",country:"Land",fbaShipmentId:"FBA Shipment ID",trackIds:"Tracking-IDs",status:"Status",actions:"Aktionen"},none:"Noch keine Anfragen.",caption:"berwachen Sie vorbereitete Sendungen und bearbeiten Sie Entwrfe, solange sie nicht besttigt sind.",actions:{edit:"Entwurf bearbeiten",view:"Anfrage ansehen"}},drawer:{title:"Zur Vorbereitung senden",close:"Schlieen",destCountry:"Zielland",line:"Zeile {n}",ean:"EAN",asin:"ASIN",remove:"Entfernen",asinSkuReq:"ASIN/SKU (erforderlich)",unitsToSend:"Zu sendende Einheiten (max {max})",cancel:"Abbrechen",send:"Anfrage senden",errors:{noLines:"Keine Zeilen in dieser Anfrage. Fgen Sie mindestens ein Produkt hinzu.",asinSkuMissing:"Zeile {n}: ASIN/SKU fehlt (mindestens eines angeben).",qtyZero:"Zeile {n}: Menge darf nicht 0 oder leer sein.",qtyExceeds:"Zeile {n}: Einheiten ({u}) berschreiten verfgbaren Bestand ({max}).",createFailed:"Erstellung des Entwurfs fehlgeschlagen."},success:"Anfrage zur Vorbereitung gesendet.",handle:{showMore:"+{n} mehr",showLess:"weniger anzeigen"}},countries:{FR:"Frankreich",DE:"Deutschland",IT:"Italien",ES:"Spanien",RO:"Rumnien",GB:"Vereinigtes Knigreich",UK:"Vereinigtes Knigreich"},guides:{button:"Anleitungen",error:"Leitfaden kann nicht geffnet werden ({lang}): {msg}"},priceColumn:{label:"Einkaufspreis ()",placeholder:"0.00",show:"Preisspalte anzeigen",hide:"Preisspalte ausblenden",note:"Optionale Spalte, damit die Bestandsberichte eine Wertsumme enthalten. Nur ausfllen, wenn der Betrag auch in den Exporten erscheinen soll.",save:"Preis speichern"},quickAdd:{title:"Manuelle Bestandsaufnahme",subtitle:"Lege Platzhalter manuell an oder importiere die Vorlage mit EAN/ASIN und Produktname; der Einkaufspreis ist optional. Sobald Amazon den Artikel liefert, aktualisiert sich die Menge automatisch.",manualTitle:"Manuelle Eingabe",eanLabel:"EAN/ASIN *",nameLabel:"Produktname *",addLine:"Zeile hinzufgen",uploadTitle:"Import aus XLSX/CSV",uploadHint:"Pflichtspalten: EAN/ASIN und Produktname. Der Einkaufspreis ist optional.",template:"Vorlage herunterladen",previewTitle:"Ausstehende Zeilen",empty:"Noch keine ausstehenden Zeilen.",remove:"Entfernen",addInventory:"Zum Bestand hinzufgen",errors:{missingFields:"Gib Code und Produktname ein, bevor du die Zeile hinzufgst.",invalidCode:"Gib eine gltige EAN oder ASIN ein.",fileType:"Bitte lade eine .xlsx- oder .csv-Datei hoch.",fileHeaders:"Pflichtspalten fehlen: EAN/ASIN und Produktname.",fileRows:"Keine gltigen Zeilen in der Datei gefunden.",save:"Produkte konnten nicht hinzugefgt werden: {msg}",invalidPrice:"Gib einen gltigen Preis ein (z.B. 12,50)."},success:"{count} Platzhalter zum Bestand hinzugefgt.",priceLabel:"Einkaufspreis () (optional)"},copyInline:"Kopiert",copyBubble:"Code kopiert",copyError:"Code kann nicht kopiert werden.",inventory:{title:"Bestand",subtitle:`Bestand
Fulfillment-Typ & Menge`,available:"Verfgbar (FBA)",inbound:"Eingehend",unfulfillable:"Nicht erfllbar",reserved:"Reserviert"},sales:{heading:"Verkufe (30 Tage)",all:"Alle Mrkte",last30:"Letzte 30 Tage",total:"Gesamteinheiten",empty:"Keine Bestellungen in diesem Zeitraum.",updated:"Aktualisiert {time}",status:{payment:"Zahlung besttigt",refund:"Rckerstattet",shipped:"Versendet (Seller)",pending:"Ausstehend / Prfung"}},receptionFba:{title:"Zu Amazon senden",none:"Jetzt nicht senden",full:"Alle Einheiten zu Amazon senden",partial:"Teilweise Sendung",noSelection:"Whle Produkte aus, um die Teilsendung zu konfigurieren.",available:"Gemeldete Einheiten: {qty}",availableLabel:"Gemeldete Einheiten",toAmazonLabel:"Einheiten fr Amazon"},createProduct:{button:"Produkt erstellen",title:"Produkt erstellen",subtitle:"Lege eingangsbereite Produkte an, auch ohne Amazon-Listing.",simpleTab:"Einfaches Formular",advancedTab:"Erweitertes Formular",cancel:"Abbrechen",submit:"Produkt speichern",saving:"Speichere",success:"Produkt erfolgreich erstellt.",fields:{name:"Produktname",asin:"ASIN",sku:"SKU",ean:"EAN / UPC",qty:"Startmenge",price:"Einkaufspreis ()",link:"Produktlink",supplierName:"Lieferant",supplierNumber:"Lieferant-Nr.",supplierUrl:"Lieferant-URL",supplierPrice:"Lieferantenpreis",manufacturer:"Hersteller",manufacturerNumber:"Hersteller-Nr.",productExtId:"Externes Produkt-ID",shipTemplate:"Versandvorlage",approxPriceEbay:"ca. eBay-Preis",approxPriceFbm:"ca. FBM-Preis",weightValue:"Gewicht",unitsCount:"Einheitenanzahl",packageWidth:"Paketbreite",packageHeight:"Pakethhe",packageLength:"Paketlnge",notes:"Notizen"},advancedSections:{supplier:"Lieferant",product:"Produktdaten"}},photos:{button:"Fotos",statusAvailable:"Fotos verfgbar ({count})",statusUnavailable:"Keine Fotos verfgbar"},photosModal:{title:"Fotos  {name}",count:"{current} / {max} Bilder hochgeladen",disclaimer:"Fr die Nutzung des Fotostorage-Dienstes auf der Plattform fllt ab dem ersten Upload eine monatliche Gebhr von 3  an. Dadurch bleiben die Bilder verfgbar, solange sich das Produkt im Bestand befindet. Wenn ich die Fotos fr dich hochlade, wird pro Satz von 6 Bildern je Produkt eine zustzliche Gebhr von 1  berechnet. Wenn du die Bilder selbst hochldst, gilt nur die monatliche Gebhr von 3 . Der Dienst ist optional und die Fotos knnen auf Wunsch kostenlos per WhatsApp gesendet werden.",uploadCta:"Dateien hier ablegen oder klicken zum Hochladen (max. {slots} weitere)",uploading:"Wird hochgeladen",downloadAll:"Alles herunterladen",download:"Herunterladen",remove:"Entfernen",loading:"Fotos werden geladen",empty:"Noch keine Fotos hochgeladen.",previewUnavailable:"Vorschau nicht verfgbar",errors:{load:"Fotos konnten nicht geladen werden.",limit:"Fotolimit erreicht. Entferne ein Bild, bevor du ein weiteres hochldst.",tooLarge:'"{name}" berschreitet die Grenze von 4 MB pro Foto. Bitte lade kleinere Dateien hoch.',upload:"Foto konnte nicht hochgeladen werden.",delete:"Foto konnte nicht gelscht werden.",zip:"Archiv konnte nicht heruntergeladen werden."}}},ClientReturns:{title:"Retouren",readonly:"Nur Leseansicht.",thead:{date:"Datum",asin:"ASIN",qty:"Menge",type:"Retourenart",status:"Status",adminNotes:"Admin-Notizen"},noRecords:"Keine Eintrge."},ClientExports:{title:"Exporte",desc:"Excel-Berichte fr FBA, FBM, Bestand oder Retouren herunterladen. Zeitraum whlen.",reportType:"Berichtstyp",from:"Von (inkl.)",to:"Bis (inkl.)",btn:"{kind} exportieren (.xlsx)",generating:"Wird erstellt",footnote:"* Der Bericht enthlt eine ZEILE GESAMT; numerische Spalten werden aufsummiert.",alerts:{noCompany:"Fr dieses Konto ist keine Firma hinterlegt.",failed:"Export fehlgeschlagen."},kinds:{FBA:"FBA",FBM:"FBM",Stock:"Bestand",Returns:"Retouren"},archive:{title:"Archiv Lagerberichte (monatlich)",loading:"Archiv wird geladen",empty:"Noch keine monatlichen Lagerberichte.",label:"Bestand PrepCenter France {month} {year}",meta:"{items} Positionen  Summe: {total}  HT  Erstellt am {date}",download:"Herunterladen"}},ClientBalanceBar:{title:"Saldo",current:"Aktueller Saldo: {amount} ",prepayment:"Vorauszahlung: {amount} ",outstanding:"Offener Saldo: {amount} "},ClientDeals:{button:"Verhandelte Angebote anzeigen",title:"Verhandelte Angebote",loading:"Ldt",empty:"Keine aktiven Angebote.",showAll:"Alle anzeigen",hide:"Weniger anzeigen"},ClientIntegrations:{title:"Integrationen",desc:"Verbinde dein Amazon Seller Central-Konto, um Bestnde automatisch zu synchronisieren.",notice:"Konfiguriere {clientId} und {redirect} in `.env`, um den Autorisierungs-Button zu aktivieren.",marketplaceLabel:"Marketplace",connectButton:"Amazon verbinden",instructions:"Nachdem du die App in Seller Central autorisiert hast, wirst du zurck ins Portal geleitet. Tokens werden sicher gespeichert.",listTitle:"Verbundene Konten",listDesc:"Du kannst den Zugriff jederzeit widerrufen. Die letzte Synchronisierung wird unten angezeigt.",refresh:"Aktualisieren",empty:"Noch keine Integrationen.",confirmDisconnect:"Diesen Amazon-Account trennen?",flashRemoved:"Integration entfernt.",actions:{disconnect:"Trennen"},regions:{eu:"Amazon EU",na:"Amazon Nordamerika",jp:"Amazon Japan"},status:{active:"Verbunden",error:"Fehler",pending:"Ausstehend"},fields:{added:"Hinzugefgt: {date}",lastSync:"Letzte Synchronisierung: {date}",lastError:"Letzter Fehler:"},card:{marketplaceAlt:"Marketplace: {id}"}},reportsMenu:{shipments:"Prep-Center Sendungen",receiving:"Prep-Center Wareneingang"},ClientPrepShipments:{title:"Prep-Center Sendungen",desc:"berwache den Status der in unserem Lager vorbereiteten Sendungen.",table:{title:"Aktuelle Vorbereitungsvorgnge",empty:"Noch keine Sendungen.",actions:"Aktionen",edit:"Entwurf bearbeiten",view:"Anfrage ansehen"},drawer:{pendingTitle:"Vorbereitungsauftrag (ausstehend  bearbeitbar)",readonlyTitle:"Vorbereitungsauftrag (nur lesen)",date:"Datum",country:"Ziel",status:"Status",shipment:"FBA Sendungs-ID",product:"Produkt",units:"Einheiten",actions:"Aktionen",remove:"Entfernen",addManual:"Artikel hinzufgen",selectProduct:"Produkt auswhlen",selectStock:"Whle ein Produkt aus dem Lager.",qtyError:"Menge muss mindestens 1 sein.",stockError:"Menge berschreitet verfgbaren Bestand ({qty}).",line:"Position",cancel:"Abbrechen",add:"Hinzufgen",inventoryTitle:"Inventar",inventorySearch:"Suche nach Name / SKU / EAN",inventoryEmpty:"Keine passenden Produkte.",inStock:"Auf Lager: {qty}",close:"Schlieen",save:"nderungen speichern",empty:"Keine Artikel in dieser Anfrage.",locked:"Anfrage kann nicht mehr bearbeitet werden."}},ClientOtherReport:{title:"Weitere Leistungen",readonly:"Nur-Lese-Ansicht der zustzlichen Leistungen.",monthLabel:"Monat:",currentMonth:"Aktueller Monat",noDataMonth:"Keine Eintrge fr diesen Monat.",serviceNames:{photoSubscription:"Foto-Speicher-Abonnement",manualPhoto:"Manuelle Produktfotografie"}}},OR={common:{greeting:"Ciao, {name}!",subtitle:"Portale clienti: visualizza i report e gestisci il tuo account.",signOut:"Esci",groups:{operations:"Operazioni",account:"Il mio account"},loading:"Caricamento",calculating:"Calcolo in corso",na:"N/D",yes:"S",no:"No",supportError:"Si  verificato un errore. Contatta il supporto.",cancel:"Annulla",accessDeniedTitle:"Accesso negato",accessDeniedDesc:"Non hai i permessi per visualizzare questa sezione."},sidebar:{activity:"Attivit",fba:"FBA",fbm:"FBM",stock:"Prodotti",returns:"Resi",exports:"Esportazioni",profile:"Profilo",billing:"Dati di fatturazione",invoices:"Le mie fatture",integrations:"Integrazioni",affiliates:"Affiliazioni",security:"Sicurezza",reports:"Report"},billing:{title:"Dati di fatturazione",addProfile:"Aggiungi profilo",flash:{created:"Profilo creato con successo",updated:"Profilo aggiornato con successo",deleted:"Profilo eliminato con successo",deleteConfirm:"Eliminare questo profilo di fatturazione?",errorSave:"Errore durante il salvataggio del profilo",errorDelete:"Errore durante leliminazione del profilo"},form:{new:"Nuovo profilo di fatturazione",edit:"Modifica profilo",type:"Tipo di profilo",individual:"Privato",company:"Azienda",firstName:"Nome *",lastName:"Cognome *",companyName:"Ragione sociale *",vat:"Partita IVA",sirenSiret:"SIREN/SIRET",country:"Paese *",address:"Indirizzo *",city:"Citt *",postalCode:"CAP *",phone:"Telefono",default:"Imposta come profilo predefinito",cancel:"Annulla",save:"Salva",saving:"Salvataggio",update:"Aggiorna",validVatFailed:"Verifica IVA non riuscita: {reason}",vatFormatInvalid:"Formato IVA non valido per questo Paese"},list:{noneTitle:"Nessun profilo di fatturazione",noneDesc:"Aggiungi il tuo primo profilo per ricevere fatture.",add:"Aggiungi profilo",defaultBadge:"Predefinito",labels:{vat:"IVA",sirenSiret:"SIREN/SIRET",tel:"Tel"}}},invoices:{title:"Le mie fatture",total:"Totale: {n} fatture",flashError:"Impossibile caricare le fatture.",filters:{search:"Cerca",searchPh:"Numero fattura o descrizione",status:"Stato",period:"Periodo",all:"Tutte",last30:"Ultimi 30 giorni",last90:"Ultimi 90 giorni",thisYear:"Questanno",paid:"Pagata",pending:"In sospeso",overdue:"Scaduta",cancelled:"Annullata"},card:{invoice:"Fattura #{no}",date:"Data",due:"Scadenza",vat:"IVA: {vat} ",amount:"{amount} ",view:"Visualizza",download:"Scarica",noFile:"Nessun file"},empty:{noneFound:"Nessuna fattura trovata",noneYet:"Nessuna fattura disponibile",tipFound:"Prova a modificare i filtri.",tipYet:"Le fatture appariranno dopo il primo ordine."},errors:{download:"Errore durante il download della fattura.",view:"Impossibile generare il link di visualizzazione."}},profile:{title:"Dati personali",edit:"Modifica",cancel:"Annulla",save:"Salva modifiche",saving:"Salvataggio",flashOk:"Profilo aggiornato con successo.",flashErr:"Errore durante laggiornamento del profilo.",fields:{firstName:"Nome",lastName:"Cognome",email:"Email",emailNote:"Lemail non pu essere modificata qui. Contatta il supporto per laggiornamento.",phone:"Telefono",country:"Paese",language:"Lingua preferita",phonePh:"+39 333 000 0000"},languages:{en:"English",ro:"Romn",fr:"Franais",de:"Deutsch",it:"Italiano",es:"Espaol"},countries:{RO:"Romania",FR:"Francia",DE:"Germania",IT:"Italia",ES:"Spagna"}},security:{title:"Sicurezza",flash:{pwdMismatch:"Le password non coincidono.",pwdTooShort:"La password deve contenere almeno 8 caratteri.",pwdOk:"Password modificata con successo.",pwdErr:"Errore durante la modifica della password."},changePwd:{title:"Cambia password",new:"Nuova password",newPh:"Minimo 8 caratteri",confirm:"Conferma nuova password",confirmPh:"Ripeti la nuova password",toggle:{show:"Mostra",hide:"Nascondi"},submit:"Cambia password",changing:"Modifica in corso"},accountInfo:{title:"Informazioni account",emailVerified:"Email verificata:",verified:"Verificata",unverified:"Non verificata",lastSignIn:"Ultimo accesso:",createdAt:"Account creato:"},tips:{title:"Suggerimenti di sicurezza",t1:"Usa una password unica e complessa.",t2:"Abilita lautenticazione a due fattori se disponibile.",t3:"Non condividere mai le credenziali.",t4:"Esci sempre quando usi computer pubblici o condivisi."}},SupabaseClientActivity:{fbaTitle:"FBA",fbmTitle:"FBM",thead:{date:"Data",service:"Servizio",unitPrice:"Prezzo unitario",units:"Unit",ordersUnits:"Ordini/Unit",total:"Totale",adminNotes:"Note admin"},noRecords:"Nessun record.",totals:"Totali",chartTitle:"FBA  FBM  Altro  totali giornalieri",range:{m1:"1 mese",m3:"3 mesi",all:"Tutto il periodo"},tooltip:{date:"Data"},companyMissing:"Il tuo account non  ancora collegato a unazienda. Contatta il supporto per lattivazione.",otherTitle:"Altro"},ClientFBAReport:{title:"Report FBA",readonly:"Solo visualizzazione.",monthLabel:"Mese:",currentMonth:"Mese corrente",noDataMonth:"Nessun dato per il mese selezionato."},ClientFBMReport:{title:"Report FBM",readonly:"Solo visualizzazione.",monthLabel:"Mese:",currentMonth:"Mese corrente",noDataMonth:"Nessun dato per il mese selezionato."},ClientStock:{title:"Prodotti",desc:"Gestisci prodotti, dati Amazon e richieste di prep da un unico hub.",month:{label:"Mese:",current:"Mese corrente"},search:{field:{EAN:"EAN",NAME:"Nome prodotto",ASIN_SKU:"ASIN / SKU"},placeholder:{EAN:"Cerca per EAN",NAME:"Cerca per nome prodotto",ASIN_SKU:"Cerca per ASIN o SKU"}},stockFilter:{label:"Magazzino:",in:"Disponibile",out:"Esaurito",all:"Tutti"},quickSort:{label:"Ordinamento rapido:",prep:"Stock prep-center",amazon:"Stock Amazon"},productSearchPlaceholder:"Cerca per nome / ASIN / SKU",cta:{sendToPrep:"Invia al Prep (Amazon)",announceReception:"Annuncia una ricezione"},receptionForm:{carrierOther:"Nome del corriere",carrierPlaceholder:"Seleziona il corriere",tracking:"Tracking ID",trackingAdd:"Aggiungi tracking ID",trackingHide:"Nascondi le ID aggiuntive",trackingManage:"Gestisci tutte",trackingCount:"{count} codici tracking",trackingNone:"Nessun codice tracking",notes:"Note",destinationLabel:"Paese di destinazione Amazon",destinationHint:"Useremo questo paese per le richieste e le ricezioni."},actions:{selectAllOnPage:"Seleziona tutti nella pagina",sendToPrep:"Invia alla preparazione",needSelection:"Seleziona almeno un prodotto."},thead:{sel:"",ean:"EAN",qty:"Qt",name:"Nome prodotto",asinSku:"ASIN / SKU",link:"Link prodotto",purchasePrice:"Prezzo dacquisto",value:"Valore",save:"Salva"},link:{add:`Aggiungi
Link`,open:`Apri
Link`,edit:`Modifica
Link`,label:"Link prodotto",cancel:"Annulla",save:"Salva"},table:{loading:"Caricamento",empty:"Nessun dato per i filtri correnti.",saving:"Salvataggio",saved:"Salvato con successo.",savedNameAdminOnly:"Salvato (nome solo per admin).",nothingToSave:"Niente da salvare."},pager:{rows:"Righe:",prev:"",next:"",pageXofY:"Pagina {x} / {y}"},totals:{label:"Totali (filtri correnti)  Quantit: <strong>{qty}</strong>  Valore: <strong>{value} </strong>"},recent:{title:"Richieste di preparazione recenti",thead:{date:"Data",country:"Paese",fbaShipmentId:"ID spedizione FBA",trackIds:"Codici tracking",status:"Stato",actions:"Azioni"},none:"Nessuna richiesta.",caption:"Monitora le spedizioni preparate e modifica i draft finch restano in attesa.",actions:{edit:"Modifica bozza",view:"Visualizza richiesta"}},drawer:{title:"Invia alla preparazione",close:"Chiudi",destCountry:"Paese di destinazione",line:"Riga {n}",ean:"EAN",asin:"ASIN",remove:"Rimuovi",asinSkuReq:"ASIN/SKU (obbligatorio)",unitsToSend:"Unit da inviare (max {max})",cancel:"Annulla",send:"Invia richiesta",errors:{noLines:"Nessuna riga in questa richiesta. Aggiungi almeno un prodotto.",asinSkuMissing:"Riga {n}: manca ASIN/SKU (compila almeno uno).",qtyZero:"Riga {n}: quantit non pu essere 0 o vuota.",qtyExceeds:"Riga {n}: unit ({u}) oltre il magazzino disponibile ({max}).",createFailed:"Creazione bozza di preparazione non riuscita."},success:"Richiesta inviata alla preparazione.",handle:{showMore:"+{n} in pi",showLess:"mostra meno"}},countries:{FR:"Francia",DE:"Germania",IT:"Italia",ES:"Spagna",RO:"Romania",GB:"Regno Unito",UK:"Regno Unito"},guides:{button:"Istruzioni",error:"Impossibile aprire la guida ({lang}): {msg}"},priceColumn:{label:"Prezzo di acquisto ()",placeholder:"0.00",show:"Mostra colonna prezzo",hide:"Nascondi colonna prezzo",note:"Colonna facoltativa per ottenere il valore di magazzino nei report. Compilala solo se vuoi che l'importo compaia negli export.",save:"Salva prezzo"},quickAdd:{title:"Caricamento manuale inventario",subtitle:"Aggiungi prodotti segnaposto manualmente o importa il modello con EAN/ASIN e nome prodotto; il prezzo di acquisto  opzionale. Quando Amazon sincronizza la scheda, la quantit si aggiorna automaticamente.",manualTitle:"Inserimento manuale",eanLabel:"EAN/ASIN *",nameLabel:"Nome prodotto *",addLine:"Aggiungi riga",uploadTitle:"Importa da XLSX/CSV",uploadHint:"Colonne obbligatorie: EAN/ASIN e Nome prodotto. Il prezzo di acquisto  opzionale.",template:"Scarica il modello",previewTitle:"Righe in attesa",empty:"Nessuna riga in attesa.",remove:"Rimuovi",addInventory:"Aggiungi all'inventario",errors:{missingFields:"Compila codice e nome prodotto prima di aggiungere la riga.",invalidCode:"Inserisci un EAN o ASIN valido.",fileType:"Carica un file .xlsx o .csv.",fileHeaders:"Mancano le colonne obbligatorie: EAN/ASIN e Nome prodotto.",fileRows:"Nessuna riga valida trovata nel file.",save:"Impossibile aggiungere i prodotti: {msg}",invalidPrice:"Inserisci un prezzo valido (es. 12,50)."},success:"{count} segnaposto aggiunti all'inventario.",priceLabel:"Prezzo di acquisto () (opzionale)"},copyInline:"Copiato",copyBubble:"Codice copiato",copyError:"Impossibile copiare il codice.",inventory:{title:"Inventario",subtitle:`Inventario
Tipologia fulfillment e quantit`,available:"Disponibile (FBA)",inbound:"In arrivo",unfulfillable:"Non evadibile",reserved:"Prenotato"},sales:{heading:"Vendite (30 giorni)",all:"Tutti i mercati",last30:"Ultimi 30 giorni",total:"Unit totali",empty:"Nessun ordine in questo periodo.",updated:"Aggiornato {time}",status:{payment:"Pagamento completato",refund:"Rimborsate",shipped:"Spedite (venditore)",pending:"In attesa / verifica"}},receptionFba:{title:"Invia ad Amazon",none:"Non inviare ora",full:"Invia tutte le unit ad Amazon",partial:"Spedizione parziale",noSelection:"Seleziona prodotti per configurare la spedizione parziale.",available:"Unit annunciate: {qty}",availableLabel:"Unit annunciate",toAmazonLabel:"Unit da inviare ad Amazon"},createProduct:{button:"Crea prodotto",title:"Crea prodotto",subtitle:"Configura articoli pronti allinbound anche se non esistono ancora su Amazon.",simpleTab:"Modulo semplice",advancedTab:"Modulo avanzato",cancel:"Annulla",submit:"Salva prodotto",saving:"Salvataggio",success:"Prodotto creato con successo.",fields:{name:"Nome prodotto",asin:"ASIN",sku:"SKU",ean:"EAN / UPC",qty:"Quantit iniziale",price:"Prezzo di acquisto ()",link:"Link prodotto",supplierName:"Fornitore",supplierNumber:"Codice fornitore",supplierUrl:"URL fornitore",supplierPrice:"Prezzo fornitore",manufacturer:"Produttore",manufacturerNumber:"Codice produttore",productExtId:"ID esterno",shipTemplate:"Template spedizione",approxPriceEbay:"Prezzo eBay approx.",approxPriceFbm:"Prezzo FBM approx.",weightValue:"Peso",unitsCount:"Numero unit",packageWidth:"Larghezza pacco",packageHeight:"Altezza pacco",packageLength:"Lunghezza pacco",notes:"Note"},advancedSections:{supplier:"Fornitore",product:"Dati prodotto"}},photos:{button:"Foto",statusAvailable:"Foto disponibili ({count})",statusUnavailable:"Foto indisponibili"},photosModal:{title:"Foto  {name}",count:"{current} / {max} immagini caricate",disclaimer:"Per utilizzare il servizio di archiviazione delle foto sulla piattaforma si applica una tariffa mensile di 3 , a partire dal primo caricamento. Questo mantiene le immagini disponibili finch il prodotto resta in inventario. Se carico io le foto per te, viene aggiunta una tariffa di 1  per ogni set di 6 immagini per prodotto. Se le carichi direttamente tu, si applica solo la tariffa mensile di 3 . Il servizio  opzionale e le foto possono essere inviate gratuitamente tramite WhatsApp su richiesta.",uploadCta:"Trascina i file o fai clic per caricare (max {slots} aggiuntive)",uploading:"Caricamento in corso",downloadAll:"Scarica tutto",download:"Scarica",remove:"Rimuovi",loading:"Caricamento foto",empty:"Nessuna foto caricata.",previewUnavailable:"Anteprima non disponibile",errors:{load:"Impossibile caricare le foto.",limit:"Limite di foto raggiunto. Rimuovi unimmagine prima di caricarne unaltra.",tooLarge:'"{name}" supera il limite di 4 MB per foto. Carica file pi piccoli.',upload:"Caricamento della foto non riuscito.",delete:"Eliminazione della foto non riuscita.",zip:"Impossibile scaricare larchivio."}}},ClientReturns:{title:"Resi",readonly:"Solo visualizzazione.",thead:{date:"Data",asin:"ASIN",qty:"Quantit",type:"Tipo di reso",status:"Stato",adminNotes:"Note admin"},noRecords:"Nessun record."},ClientExports:{title:"Esportazioni",desc:"Scarica report Excel per FBA, FBM, Magazzino o Resi. Scegli un intervallo di date.",reportType:"Tipo di report",from:"Da (incluso)",to:"A (incluso)",btn:"Esporta {kind} (.xlsx)",generating:"Generazione",footnote:"* Il report include una riga TOTALE; le colonne numeriche sono sommate.",alerts:{noCompany:"Nessuna azienda impostata per questo account.",failed:"Esportazione non riuscita."},kinds:{FBA:"FBA",FBM:"FBM",Stock:"Magazzino",Returns:"Resi"},archive:{title:"Archivio report stock (mensile)",loading:"Caricamento archivio",empty:"Nessun report mensile disponibile.",label:"Stock PrepCenter France {month} {year}",meta:"{items} articoli  Totale: {total}  HT  Generato il {date}",download:"Scarica"}},ClientBalanceBar:{title:"Saldo",current:"Saldo attuale: {amount} ",prepayment:"Anticipo: {amount} ",outstanding:"Saldo residuo: {amount} "},ClientDeals:{button:"Mostra offerte negoziate",title:"Offerte negoziate",loading:"Caricamento",empty:"Nessuna offerta attiva.",showAll:"Mostra tutte",hide:"Nascondi"},ClientIntegrations:{title:"Integrazioni",desc:"Collega il tuo account Amazon Seller Central per sincronizzare automaticamente linventario.",notice:"Configura {clientId} e {redirect} nel file `.env` per attivare il pulsante di autorizzazione.",marketplaceLabel:"Marketplace",connectButton:"Connetti Amazon",instructions:"Dopo aver autorizzato lapp in Seller Central verrai reindirizzato nel portale. I token sono salvati in modo sicuro.",listTitle:"Account connessi",listDesc:"Puoi revocare laccesso in qualsiasi momento. Lultima sincronizzazione  mostrata sotto.",refresh:"Aggiorna",empty:"Nessuna integrazione al momento.",confirmDisconnect:"Disconnettere questo account Amazon?",flashRemoved:"Integrazione rimossa.",actions:{disconnect:"Disconnetti"},regions:{eu:"Amazon UE",na:"Amazon Nord America",jp:"Amazon Giappone"},status:{active:"Connesso",error:"Errore",pending:"In attesa"},fields:{added:"Aggiunto: {date}",lastSync:"Ultima sincronizzazione: {date}",lastError:"Ultimo errore:"},card:{marketplaceAlt:"Marketplace: {id}"}},reportsMenu:{shipments:"Spedizioni prep-center",receiving:"Ricezioni prep-center"},ClientPrepShipments:{title:"Spedizioni prep-center",desc:"Monitora lo stato delle spedizioni preparate nel nostro magazzino.",table:{title:"Richieste di preparazione recenti",empty:"Nessuna spedizione ancora.",actions:"Azioni",edit:"Modifica bozza",view:"Visualizza richiesta"},drawer:{pendingTitle:"Richiesta di preparazione (in attesa  modificabile)",readonlyTitle:"Richiesta di preparazione (solo lettura)",date:"Data",country:"Destinazione",status:"Stato",shipment:"ID spedizione FBA",product:"Prodotto",units:"Unit",actions:"Azioni",remove:"Rimuovi",addManual:"Aggiungi articolo",selectProduct:"Seleziona prodotto",selectStock:"Seleziona un prodotto dal magazzino.",qtyError:"La quantit deve essere almeno 1.",stockError:"La quantit supera lo stock disponibile ({qty}).",line:"Linea",cancel:"Annulla",add:"Aggiungi",inventoryTitle:"Inventario",inventorySearch:"Cerca nome / SKU / EAN",inventoryEmpty:"Nessun prodotto trovato.",inStock:"In magazzino: {qty}",close:"Chiudi",save:"Salva modifiche",empty:"Nessun articolo in questa richiesta.",locked:"La richiesta non  pi modificabile."}},ClientOtherReport:{title:"Altri servizi",readonly:"Vista in sola lettura dei servizi aggiuntivi.",monthLabel:"Mese:",currentMonth:"Mese corrente",noDataMonth:"Nessuna voce per questo mese.",serviceNames:{photoSubscription:"Abbonamento archiviazione foto",manualPhoto:"Servizio foto manuale"}}},IR={common:{greeting:"Hola, {name}!",subtitle:"Portal de clientes: consulta informes y gestiona tu cuenta.",signOut:"Cerrar sesin",groups:{operations:"Operaciones",account:"Mi cuenta"},loading:"Cargando",calculating:"Calculando",na:"N/D",yes:"S",no:"No",supportError:"Ha ocurrido un error. Ponte en contacto con soporte.",cancel:"Cancelar",accessDeniedTitle:"Acceso denegado",accessDeniedDesc:"No tienes permisos para ver esta seccin."},sidebar:{activity:"Actividad",fba:"FBA",fbm:"FBM",stock:"Productos",returns:"Devoluciones",exports:"Exportaciones",profile:"Perfil",billing:"Datos de facturacin",invoices:"Mis facturas",integrations:"Integraciones",affiliates:"Afiliados",security:"Seguridad",reports:"Reportes"},billing:{title:"Datos de facturacin",addProfile:"Aadir perfil",flash:{created:"Perfil creado correctamente",updated:"Perfil actualizado correctamente",deleted:"Perfil eliminado correctamente",deleteConfirm:"Seguro que deseas eliminar este perfil de facturacin?",errorSave:"Error al guardar el perfil",errorDelete:"Error al eliminar el perfil"},form:{new:"Nuevo perfil de facturacin",edit:"Editar perfil",type:"Tipo de perfil",individual:"Particular",company:"Empresa",firstName:"Nombre *",lastName:"Apellidos *",companyName:"Nombre de la empresa *",vat:"NIF/IVA",sirenSiret:"SIREN/SIRET",country:"Pas *",address:"Direccin *",city:"Ciudad *",postalCode:"Cdigo postal *",phone:"Telfono",default:"Establecer como perfil predeterminado",cancel:"Cancelar",save:"Guardar",saving:"Guardando",update:"Actualizar",validVatFailed:"Validacin de IVA fallida: {reason}",vatFormatInvalid:"Formato de IVA invlido para este pas"},list:{noneTitle:"No hay perfiles de facturacin",noneDesc:"Aade tu primer perfil para recibir facturas.",add:"Aadir perfil",defaultBadge:"Predeterminado",labels:{vat:"IVA",sirenSiret:"SIREN/SIRET",tel:"Tel"}}},invoices:{title:"Mis facturas",total:"Total: {n} facturas",flashError:"No se pudieron cargar las facturas.",filters:{search:"Buscar",searchPh:"Nmero de factura o descripcin",status:"Estado",period:"Periodo",all:"Todas",last30:"ltimos 30 das",last90:"ltimos 90 das",thisYear:"Este ao",paid:"Pagada",pending:"Pendiente",overdue:"Vencida",cancelled:"Cancelada"},card:{invoice:"Factura #{no}",date:"Fecha",due:"Vencimiento",vat:"IVA: {vat} ",amount:"{amount} ",view:"Ver",download:"Descargar",noFile:"Sin archivo"},empty:{noneFound:"No se encontraron facturas",noneYet:"An no hay facturas",tipFound:"Prueba a ajustar tus filtros.",tipYet:"Tus facturas aparecern aqu tras tu primer pedido."},errors:{download:"Error al descargar la factura.",view:"No se pudo generar un enlace de visualizacin."}},profile:{title:"Datos personales",edit:"Editar",cancel:"Cancelar",save:"Guardar cambios",saving:"Guardando",flashOk:"Perfil actualizado correctamente.",flashErr:"Error al actualizar el perfil.",fields:{firstName:"Nombre",lastName:"Apellidos",email:"Correo electrnico",emailNote:"El correo no puede cambiarse aqu. Contacta con soporte para actualizarlo.",phone:"Telfono",country:"Pas",language:"Idioma preferido",phonePh:"+34 600 000 000"},languages:{en:"English",ro:"Romn",fr:"Franais",de:"Deutsch",it:"Italiano",es:"Espaol"},countries:{RO:"Rumana",FR:"Francia",DE:"Alemania",IT:"Italia",ES:"Espaa"}},security:{title:"Seguridad",flash:{pwdMismatch:"Las contraseas no coinciden.",pwdTooShort:"La contrasea debe tener al menos 8 caracteres.",pwdOk:"Contrasea cambiada correctamente.",pwdErr:"Error al cambiar la contrasea."},changePwd:{title:"Cambiar contrasea",new:"Nueva contrasea",newPh:"Mnimo 8 caracteres",confirm:"Confirmar nueva contrasea",confirmPh:"Reescribe la nueva contrasea",toggle:{show:"Mostrar",hide:"Ocultar"},submit:"Cambiar contrasea",changing:"Cambiando"},accountInfo:{title:"Informacin de la cuenta",emailVerified:"Correo verificado:",verified:"Verificado",unverified:"No verificado",lastSignIn:"ltimo acceso:",createdAt:"Cuenta creada:"},tips:{title:"Consejos de seguridad",t1:"Usa una contrasea nica y compleja.",t2:"Activa la autenticacin en dos pasos si est disponible.",t3:"Nunca compartas tus credenciales.",t4:"Cierra sesin al usar ordenadores pblicos o compartidos."}},SupabaseClientActivity:{fbaTitle:"FBA",fbmTitle:"FBM",thead:{date:"Fecha",service:"Servicio",unitPrice:"Precio unitario",units:"Unidad",ordersUnits:"Pedidos/Unidades",total:"Total",adminNotes:"Notas admin"},noRecords:"Sin registros.",totals:"Totales",chartTitle:"FBA  FBM  Otros  totales diarios",range:{m1:"1 mes",m3:"3 meses",all:"Todo el periodo"},tooltip:{date:"Fecha"},companyMissing:"Tu cuenta an no est vinculada a una empresa. Contacta con soporte para activarla.",otherTitle:"Otros"},ClientFBAReport:{title:"Informe FBA",readonly:"Vista de solo lectura.",monthLabel:"Mes:",currentMonth:"Mes actual",noDataMonth:"No hay datos para el mes seleccionado."},ClientFBMReport:{title:"Informe FBM",readonly:"Vista de solo lectura.",monthLabel:"Mes:",currentMonth:"Mes actual",noDataMonth:"No hay datos para el mes seleccionado."},ClientStock:{title:"Productos",desc:"Gestiona tus productos, los datos de Amazon y los envos a preparacin desde un nico lugar.",month:{label:"Mes:",current:"Mes actual"},search:{field:{EAN:"EAN",NAME:"Nombre del producto",ASIN_SKU:"ASIN / SKU"},placeholder:{EAN:"Buscar por EAN",NAME:"Buscar por nombre de producto",ASIN_SKU:"Buscar por ASIN o SKU"}},stockFilter:{label:"Stock:",in:"En stock",out:"Sin stock",all:"Todos"},quickSort:{label:"Orden rpido:",prep:"Stock del prep-center",amazon:"Stock de Amazon"},productSearchPlaceholder:"Buscar por nombre / ASIN / SKU",cta:{sendToPrep:"Enviar al Prep (Amazon)",announceReception:"Anunciar recepcin"},receptionForm:{carrierOther:"Nombre del transportista",carrierPlaceholder:"Selecciona el transportista",tracking:"ID de seguimiento",trackingAdd:"Agregar tracking ID",trackingHide:"Ocultar IDs adicionales",trackingManage:"Gestionar todos",trackingCount:"{count} identificadores de seguimiento",trackingNone:"Sin identificadores de seguimiento",notes:"Notas",destinationLabel:"Pas de destino en Amazon",destinationHint:"Usaremos este pas para las solicitudes y recepciones."},actions:{selectAllOnPage:"Seleccionar todo en la pgina",sendToPrep:"Enviar a preparacin",needSelection:"Selecciona al menos un producto."},thead:{sel:"",ean:"EAN",qty:"Cant.",name:"Nombre del producto",asinSku:"ASIN / SKU",link:"Enlace del producto",purchasePrice:"Precio de compra",value:"Valor",save:"Guardar"},link:{add:`Aadir
Enlace`,open:`Abrir
Enlace`,edit:`Editar
Enlace`,label:"Enlace del producto",cancel:"Cancelar",save:"Guardar"},table:{loading:"Cargando",empty:"No hay datos para los filtros actuales.",saving:"Guardando",saved:"Guardado correctamente.",savedNameAdminOnly:"Guardado (nombre solo para admin).",nothingToSave:"Nada que guardar."},pager:{rows:"Filas:",prev:"",next:"",pageXofY:"Pgina {x} / {y}"},totals:{label:"Totales (filtros actuales)  Cantidad: <strong>{qty}</strong>  Valor: <strong>{value} </strong>"},recent:{title:"Solicitudes de preparacin recientes",thead:{date:"Fecha",country:"Pas",fbaShipmentId:"ID de envo FBA",trackIds:"IDs de seguimiento",status:"Estado",actions:"Acciones"},none:"An no hay solicitudes.",caption:"Controla tus envos preparados y edita los borradores mientras estn pendientes.",actions:{edit:"Editar borrador",view:"Ver solicitud"}},drawer:{title:"Enviar a preparacin",close:"Cerrar",destCountry:"Pas de destino",line:"Lnea {n}",ean:"EAN",asin:"ASIN",remove:"Eliminar",asinSkuReq:"ASIN/SKU (obligatorio)",unitsToSend:"Unidades a enviar (mx. {max})",cancel:"Cancelar",send:"Enviar solicitud",errors:{noLines:"No hay lneas en esta solicitud. Aade al menos un producto.",asinSkuMissing:"Lnea {n}: falta ASIN/SKU (rellena al menos uno).",qtyZero:"Lnea {n}: la cantidad no puede ser 0 o estar vaca.",qtyExceeds:"Lnea {n}: unidades ({u}) superan el stock disponible ({max}).",createFailed:"Error al crear el borrador de preparacin."},success:"Solicitud enviada a preparacin.",handle:{showMore:"+{n} ms",showLess:"ver menos"}},countries:{FR:"Francia",DE:"Alemania",IT:"Italia",ES:"Espaa",RO:"Rumana",GB:"Reino Unido",UK:"Reino Unido"},guides:{button:"Instrucciones",error:"No se puede abrir la gua ({lang}): {msg}"},priceColumn:{label:"Precio de compra ()",placeholder:"0.00",show:"Mostrar columna de precio",hide:"Ocultar columna de precio",note:"Columna opcional para que los reportes de stock incluyan el valor total. Compltala solo si quieres que el importe aparezca en los exportes.",save:"Guardar precio"},quickAdd:{title:"Carga manual de inventario",subtitle:"Aade productos provisionales manualmente o importa la plantilla con EAN/ASIN y nombre del producto; el precio de compra es opcional. Cuando Amazon sincronice el listing, la cantidad se actualizar sola.",manualTitle:"Entrada manual",eanLabel:"EAN/ASIN *",nameLabel:"Nombre del producto *",addLine:"Agregar lnea",uploadTitle:"Importar desde XLSX/CSV",uploadHint:"Columnas requeridas: EAN/ASIN y Nombre del producto. El precio de compra es opcional.",template:"Descargar plantilla",previewTitle:"Lneas pendientes",empty:"An no hay lneas pendientes.",remove:"Eliminar",addInventory:"Agregar al inventario",errors:{missingFields:"Completa el cdigo y el nombre del producto antes de aadir la lnea.",invalidCode:"Introduce un EAN o ASIN vlido.",fileType:"Sube un archivo .xlsx o .csv.",fileHeaders:"Faltan columnas obligatorias: EAN/ASIN y Nombre del producto.",fileRows:"No se detectaron filas vlidas en el archivo.",save:"No se pudieron aadir los productos: {msg}",invalidPrice:"Introduce un precio vlido (p. ej. 12,50)."},success:"{count} placeholders aadidos al inventario.",priceLabel:"Precio de compra () (opcional)"},copyInline:"Copiado",copyBubble:"Cdigo copiado",copyError:"No se puede copiar el cdigo.",inventory:{title:"Inventario",subtitle:`Inventario
Tipo de fulfillment y cantidad`,available:"Disponible (FBA)",inbound:"En trnsito",unfulfillable:"No realizable",reserved:"Reservado"},sales:{heading:"Ventas (30 das)",all:"Todos los mercados",last30:"ltimos 30 das",total:"Unidades totales",empty:"No hay pedidos en este periodo.",updated:"Actualizado {time}",status:{payment:"Pago completado",refund:"Reembolsadas",shipped:"Enviadas (seller)",pending:"Pendientes / verificacin"}},receptionFba:{title:"Enviar a Amazon",none:"No enviar ahora",full:"Enviar todas las unidades a Amazon",partial:"Envo parcial",noSelection:"Selecciona productos para configurar el envo parcial.",available:"Unidades anunciadas: {qty}",availableLabel:"Unidades anunciadas",toAmazonLabel:"Unidades para Amazon"},createProduct:{button:"Crear producto",title:"Crear producto",subtitle:"Prepara productos listos para inbound aunque an no existan en Amazon.",simpleTab:"Formulario simple",advancedTab:"Formulario avanzado",cancel:"Cancelar",submit:"Guardar producto",saving:"Guardando",success:"Producto creado correctamente.",fields:{name:"Nombre del producto",asin:"ASIN",sku:"SKU",ean:"EAN / UPC",qty:"Cantidad inicial",price:"Precio de compra ()",link:"Enlace del producto",supplierName:"Proveedor",supplierNumber:"Referencia proveedor",supplierUrl:"URL proveedor",supplierPrice:"Precio proveedor",manufacturer:"Fabricante",manufacturerNumber:"Referencia fabricante",productExtId:"ID externo",shipTemplate:"Plantilla de envo",approxPriceEbay:"Precio eBay aprox.",approxPriceFbm:"Precio FBM aprox.",weightValue:"Peso",unitsCount:"Unidades",packageWidth:"Ancho paquete",packageHeight:"Alto paquete",packageLength:"Largo paquete",notes:"Notas"},advancedSections:{supplier:"Proveedor",product:"Datos del producto"}},photos:{button:"Fotos",statusAvailable:"Fotos disponibles ({count})",statusUnavailable:"Fotos no disponibles"},photosModal:{title:"Fotos  {name}",count:"{current} / {max} imgenes subidas",disclaimer:"Para utilizar el servicio de almacenamiento de fotos en la plataforma se aplica una tarifa mensual de 3 , a partir de la primera carga. Esto mantiene las imgenes disponibles mientras el producto permanezca en inventario. Si yo subo las fotos por ti, se aade una tarifa de 1  por cada conjunto de 6 imgenes por producto. Si las subes directamente t, solo se aplica la tarifa mensual de 3 . El servicio es opcional y las fotos pueden enviarse gratuitamente por WhatsApp si lo solicitas.",uploadCta:"Arrastra y suelta o haz clic para subir (mx. {slots} adicionales)",uploading:"Subiendo",downloadAll:"Descargar todo",download:"Descargar",remove:"Eliminar",loading:"Cargando fotos",empty:"Todava no se han subido fotos.",previewUnavailable:"Vista previa no disponible",errors:{load:"No se pudieron cargar las fotos.",limit:"Se alcanz el lmite de fotos. Elimina una imagen antes de subir otra.",tooLarge:'"{name}" supera el lmite de 4 MB por foto. Sube archivos ms pequeos.',upload:"Error al subir la foto.",delete:"Error al eliminar la foto.",zip:"No se pudo descargar el archivo."}}},ClientReturns:{title:"Devoluciones",readonly:"Vista de solo lectura.",thead:{date:"Fecha",asin:"ASIN",qty:"Cantidad",type:"Tipo de devolucin",status:"Estado",adminNotes:"Notas admin"},noRecords:"Sin registros."},ClientExports:{title:"Exportaciones",desc:"Descarga informes Excel de FBA, FBM, Stock o Devoluciones. Elige un rango de fechas.",reportType:"Tipo de informe",from:"Desde (incl.)",to:"Hasta (incl.)",btn:"Exportar {kind} (.xlsx)",generating:"Generando",footnote:"* El informe incluye una fila TOTAL; las columnas numricas se suman.",alerts:{noCompany:"No hay empresa configurada para esta cuenta.",failed:"Exportacin fallida."},kinds:{FBA:"FBA",FBM:"FBM",Stock:"Stock",Returns:"Devoluciones"},archive:{title:"Archivo de reportes de stock (mensual)",loading:"Cargando archivo",empty:"An no hay reportes mensuales.",label:"Stock PrepCenter France {month} {year}",meta:"{items} artculos  Total: {total}  HT  Generado el {date}",download:"Descargar"}},ClientBalanceBar:{title:"Saldo",current:"Saldo actual: {amount} ",prepayment:"Prepago: {amount} ",outstanding:"Saldo pendiente: {amount} "},ClientDeals:{button:"Ver ofertas negociadas",title:"Ofertas negociadas",loading:"Cargando",empty:"No hay ofertas activas.",showAll:"Ver todas",hide:"Ocultar"},ClientIntegrations:{title:"Integraciones",desc:"Conecta tu cuenta de Amazon Seller Central para sincronizar el inventario automticamente.",notice:"Configura {clientId} y {redirect} en `.env` para habilitar el botn de autorizacin.",marketplaceLabel:"Marketplace",connectButton:"Conectar Amazon",instructions:"Tras autorizar la app en Seller Central volvers al portal. Los tokens se guardan de forma segura.",listTitle:"Cuentas conectadas",listDesc:"Puedes revocar el acceso en cualquier momento. La ltima sincronizacin aparece abajo.",refresh:"Actualizar",empty:"An no hay integraciones.",confirmDisconnect:"Desconectar esta cuenta de Amazon?",flashRemoved:"Integracin eliminada.",actions:{disconnect:"Desconectar"},regions:{eu:"Amazon UE",na:"Amazon Norteamrica",jp:"Amazon Japn"},status:{active:"Conectado",error:"Error",pending:"Pendiente"},fields:{added:"Aadido: {date}",lastSync:"ltima sincronizacin: {date}",lastError:"ltimo error:"},card:{marketplaceAlt:"Marketplace: {id}"}},reportsMenu:{shipments:"Envos del prep-center",receiving:"Recepciones del prep-center"},ClientPrepShipments:{title:"Envos del prep-center",desc:"Supervisa el estado de los envos preparados en nuestro almacn.",table:{title:"Solicitudes de preparacin recientes",empty:"Sin envos por ahora.",actions:"Acciones",edit:"Editar borrador",view:"Ver solicitud"},drawer:{pendingTitle:"Solicitud de preparacin (pendiente  editable)",readonlyTitle:"Solicitud de preparacin (solo lectura)",date:"Fecha",country:"Destino",status:"Estado",shipment:"ID de envo FBA",product:"Producto",units:"Unidades",actions:"Acciones",remove:"Eliminar",addManual:"Agregar artculo",selectProduct:"Seleccionar producto",selectStock:"Selecciona un producto del inventario.",qtyError:"La cantidad debe ser al menos 1.",stockError:"La cantidad supera el stock disponible ({qty}).",line:"Lnea",cancel:"Cancelar",add:"Agregar",inventoryTitle:"Inventario",inventorySearch:"Buscar nombre / SKU / EAN",inventoryEmpty:"No hay productos coincidentes.",inStock:"En stock: {qty}",close:"Cerrar",save:"Guardar cambios",empty:"No hay artculos en esta solicitud.",locked:"La solicitud ya no se puede editar."}},ClientOtherReport:{title:"Otros servicios",readonly:"Vista de solo lectura de los cargos adicionales.",monthLabel:"Mes:",currentMonth:"Mes actual",noDataMonth:"No hay registros este mes.",serviceNames:{photoSubscription:"Suscripcin almacenamiento de fotos",manualPhoto:"Captura manual de fotos"}}},w_={en:PR,ro:ER,fr:TR,de:zR,it:OR,es:IR},os="27.09.2025",MR={fr:{title:"Termes et Conditions (B2B)",lastUpdated:`Dernire mise  jour : ${os}`,sections:{defs_h:"0. Dfinitions",defs_list:[" La Socit ,  nous  : Prep Center France."," Le Client ,  vous  : le client professionnel commandant les Services."," Marchandises  : biens confis pour rception, manutention, prparation, stockage temporaire ou expdition."," Services  : rception, vrification, prparation (prep) et tiquetage, emballage, stockage temporaire, coordination des expditions, y compris FBM/FBA."," Plateformes  : places de march/systmes tels quAmazon, eBay, Shopify, etc."],scope_h:"1. Champ dapplication et acceptation",scope_list:["Ces conditions sappliquent  tous les Services rendus par la Socit.","Nous oprons exclusivement en B2B (professionnels).","En cas de conflit entre les prsents Termes et des instructions/commandes ponctuelles, les Termes prvalent sauf accord crit contraire."],orders_h:"2. Commandes & Instructions",orders_list:["Avant larrive des Marchandises, le Client transmet un PO/ASN et des instructions crites de prparation/emballage.","En labsence dinstructions, la rception peut tre mise en attente.","Les changements/annulations aprs check-in peuvent entraner des frais.","Si les instructions manquent/sont ambigus/contradictoires, nous pouvons demander des prcisions ou appliquer les pratiques FBA/industries standard aux frais du Client."],sla_h:"3. Dlais dexcution (SLA)",sla_p:"Sauf accord crit, les dlais sont fournis en  best effort  (sans garantie ferme). Les pics saisonniers, contrles de conformit et disponibilits transporteurs peuvent impacter les dlais.",receiving_h:"4. Rception, comptage & non-conformits",receiving_list:["Contrle visuel raisonnable et comptage au niveau colis/carton ; le comptage unitaire dtaill est disponible sur demande (service facturable).","Les non-conformits visibles sont documentes (photos si pertinent) et communiques.","Rclamations  formuler sous 5 jours ouvrs aprs notre notification de rception ; pass ce dlai, la rception est rpute accepte."],packaging_h:"5. Emballage & standards FBA/FBM",packaging_list:["Le Client garantit lligibilit et la conformit aux exigences des Plateformes et de la loi (limites carton, codes-barres, avertissements, palettisation, hazmat/batteries).","Les retraitements dus  la nature du produit ou  des instructions incorrectes/incompltes sont facturs au tarif en vigueur."],storage_h:"6. Stockage",storage_list:["Le stockage est temporaire. Au-del de 90 jours aprs check-in : frais supplmentaires possibles et/ou demande denlvement.","Nous pouvons refuser/ter des Marchandises prsentant des risques de scurit, de conformit ou un impact disproportionn sur la capacit."],abandoned_h:"7. Marchandises abandonnes & droit de rtention (lien)",abandoned_list:["En cas dimpays ou de non-retrait sous 30 jours aprs notification crite, nous pouvons exercer un droit de rtention et retenir, vendre ou disposer des Marchandises pour recouvrer les sommes dues et frais associs.","Les cots de retour/limination sont  la charge du Client."],shipping_h:"8. Expdition & transfert des risques",shipping_list:["Le risque est transfr au transporteur lors de la remise de la marchandise correctement prpare et tiquete.","Sauf accord contraire, expditions en conditions standard (ex. EXW notre site). Les exigences spciales doivent tre convenues par crit."],insurance_h:"9. Assurance",insurance_p:"Nous nassurons pas vos Marchandises. Le Client conserve une couverture adquate pendant le stockage et le transport.",pricing_h:"10. Tarifs & Paiements",pricing_intro:"Tous les prix sont en EUR, hors TVA.",pricing_list:["TVA applique selon la loi.","Facturation mensuelle ou  la tche, selon accord.","Paiements via prestataires agrs.","Le non-paiement peut entraner la suspension des Services."],pricing_nonrefund:"Les Services dj effectus (rception, prparation, tiquetage, expdition) ne sont pas remboursables. En cas derreur confirme imputable  la Socit, correction gratuite ou avoir.",pricing_extra:"Travaux supplmentaires/imprvus (re-palettisation, manutention spciale, documents douaniers) facturs au tarif communiqu.",pricing_accept:"Cration de compte/commande/coche  Jaccepte  = vous confirmez avoir lu et accept la liste des prix dans la section  Tarifs .",pricing_notice:"Mises  jour tarifaires possibles avec pravis de 30 jours (email et/ou compte). Pendant ce dlai : rsiliation sans pnalit ; lusage aprs la date vaut acceptation.",warranties_h:"11. Garanties & conformit",warranties_list:["Vous garantissez que les Marchandises sont licites, correctement dcrites, nenfreignent pas les droits de tiers et respectent les exigences des Plateformes (ligibilit FBA, batteries/hazmat, etc.).","Vous tes seul responsable du respect des politiques des Plateformes (p. ex. frais  unplanned services  si des tiquettes/prep manquent chez Amazon)."],liability_h:"12. Limitation de responsabilit",liability_p:"Notre responsabilit est limite  la valeur des Services fournis.",liability_list:["Aucune responsabilit pour taxes/douanes/retards/refus imputables  Amazon ou aux autorits.","Perte/avarie sous notre garde due  vol/incendie/inondation/vnements exceptionnels : limite  30 % de la valeur dachat dclare (facture fournisseur), et non au prix de vente.","Assurance complte des produits  la charge du Client.","Acceptation par Amazon  sa seule discrtion ; refus lis  ses politiques non imputables  la Socit.","Aprs remise au transporteur, le risque du transport incombe au transporteur.","Force majeure exonratoire.","Les rclamations doivent tre prsentes sous 14 jours avec lments probants."],force_h:"13. Force majeure",force_p:"Aucune responsabilit en cas dvnements hors contrle raisonnable (catastrophes, grves, pannes, pidmies, guerre, actes gouvernementaux, indisponibilits de Plateformes, etc.).",subcontractors_h:"14. Sous-traitants",subcontractors_p:"Nous pouvons recourir  des sous-traitants valids pour certaines oprations. Nous restons responsables de lorchestration des Services.",confidentiality_h:"15. Confidentialit & Proprit intellectuelle",confidentiality_p:"Les informations non publiques (prix, processus, photos, donnes de compte) sont confidentielles. Les documents, guides et processus de la Socit restent notre proprit intellectuelle.",data_h:"16. Protection des donnes",data_p:"Nous traitons les donnes de contact et oprationnelles selon le RGPD et notre Politique de Confidentialit. Un DPA peut tre sign lorsque nous agissons comme sous-traitant. Voir la Politique de Confidentialit sur le site.",notices_h:"17. Notifications",notices_p:"Les notifications peuvent tre envoyes par email aux adresses du profil de compte et sont rputes reues  lenvoi, sauf chec de livraison signal.",law_h:"18. Droit applicable & juridiction",law_p:"Les prsents Termes sont rgis par le droit franais. Les litiges relvent des juridictions franaises.",language_h:"19. Langue & prvalence",language_p:"En cas de divergences entre versions linguistiques, la version franaise prvaut.",severability_h:"20. Divisibilit ; Intgralit ; Renonciations",severability_p:"Si une clause est invalide, le reste demeure en vigueur. Les Termes constituent lintgralit de laccord pour les Services. Le non-exercice dun droit ne vaut pas renonciation.",contact_h:"Contact",contact_intro:"Pour toute question concernant ces Termes et Conditions :",contact_email:"Email : contact@prep-center.eu",contact_phone:"Tlphone : +33 6 75 11 62 18",contact_addr:"Adresse : 35350 La Gouesnire, France",updates_h:"Mises  jour",updates_p:"Nous pouvons modifier ces Termes ; la version  jour prend effet 30 jours aprs publication. Lusage continu vaut acceptation."}},en:{title:"Terms & Conditions (B2B)",lastUpdated:`Last updated: ${os}`,sections:{defs_h:"0. Definitions",defs_list:["Company, we: Prep Center France.","Client, you: the business customer ordering the Services.","Goods: items sent to us for receiving, handling, prep, temporary storage or shipping.","Services: receiving, inspection, prep & labeling, packing, temporary storage, shipping coordination, including FBM/FBA.","Platforms: marketplaces/systems such as Amazon, eBay, Shopify, etc."],scope_h:"1. Scope & Acceptance",scope_list:["These Terms apply to all Services performed by the Company.","We operate strictly B2B (professionals).","If these Terms conflict with ad-hoc orders/instructions, these Terms prevail unless agreed otherwise in writing."],orders_h:"2. Ordering & Instructions",orders_list:["Before arrival, the Client provides a PO/ASN and written prep/packing instructions.","Without instructions, inbound may be placed on hold.","Changes/cancellations after check-in may incur handling fees.","If instructions are missing/unclear/conflicting, we may request clarification or apply standard FBA/industry practices at the Clients expense."],sla_h:"3. Turnaround (SLA)",sla_p:"Unless agreed otherwise in writing, timelines are best-effort (no firm guarantee). Peak seasons, compliance checks and carrier availability may affect turnaround.",receiving_h:"4. Receiving, Count & Non-Conformities",receiving_list:["Reasonable visual inspection and carton-level count; unit-level counts on request (billable).","Visible discrepancies documented (photos when relevant) and communicated.","Claims must be raised within 5 business days of our receipt notice; otherwise inbound is deemed accepted."],packaging_h:"5. Packaging & FBA/FBM Standards",packaging_list:["Client is responsible for eligibility and compliance with Platform/legal requirements (carton limits, barcodes, warnings, palletization, hazmat/batteries).","Rework due to product nature or incorrect/incomplete instructions is billable."],storage_h:"6. Storage",storage_list:["Storage is temporary. After 90 days from check-in: extra storage fees and/or removal request may apply.","We may refuse/remove Goods causing safety/compliance risks or disproportionate capacity impact."],abandoned_h:"7. Abandoned Goods & Lien",abandoned_list:["If invoices remain unpaid or Goods are not collected within 30 days of written notice, we may exercise a warehouse lien and withhold, sell or dispose of Goods to recover amounts due and costs.","Return/disposal costs are borne by the Client."],shipping_h:"8. Shipping & Risk Transfer",shipping_list:["Risk passes to the carrier when we hand over properly prepared and labeled shipments.","Unless agreed otherwise, shipments follow standard terms (e.g., EXW our facility). Special requirements must be agreed in writing."],insurance_h:"9. Insurance",insurance_p:"We do not insure Goods. Client maintains adequate cover during storage and transit.",pricing_h:"10. Pricing & Payments",pricing_intro:"All prices in EUR, excl. VAT.",pricing_list:["VAT applies as required by law.","Monthly or per-task billing as agreed.","Payments via approved processors.","Non-payment may result in suspension of Services."],pricing_nonrefund:"Services already performed (receiving, prep, labeling, shipping) are non-refundable. If a confirmed Company error occurs, we will correct it free of charge or issue a credit.",pricing_extra:"Additional/unforeseen work (re-palletization, special handling, customs paperwork) is charged at the communicated rates.",pricing_accept:"By creating an account/placing an order/ticking I accept, you confirm you have read and accepted the price list in the Pricing section.",pricing_notice:"We may update prices with 30 days prior notice (email and/or in your account). You may terminate during this period; continued use after the effective date constitutes acceptance.",warranties_h:"11. Warranties & Compliance",warranties_list:["You warrant Goods are lawful, properly described, non-infringing and compliant with Platform requirements (FBA eligibility, batteries/hazmat where applicable).","You remain solely responsible for Platform policies (including any unplanned services fees at Amazon)."],liability_h:"12. Liability Limitation",liability_p:"Our liability is limited to the value of Services provided.",liability_list:["No liability for taxes/customs/delays/refusals attributable to Amazon or authorities.","For loss/damage in our custody due to theft/fire/flood/exceptional events, liability is limited to 30% of declared purchase value (supplier invoice), not retail price.","Full product insurance remains the Clients responsibility.","Amazon acceptance at its sole discretion; policy-related refusals are not attributable to us.","After hand-over to the carrier, transport risk lies with the carrier.","Force majeure applies.","Claims must be submitted within 14 days with reasonable evidence."],force_h:"13. Force Majeure",force_p:"No liability for events beyond reasonable control (natural disasters, strikes, outages, epidemics, war, governmental acts, Platform downtime, etc.).",subcontractors_h:"14. Subcontractors",subcontractors_p:"We may use vetted subcontractors for parts of the Services. We remain responsible for orchestration.",confidentiality_h:"15. Confidentiality & IP",confidentiality_p:"Non-public information (prices, processes, photos, account data) is confidential. Company materials, guides and processes remain our IP.",data_h:"16. Data Protection",data_p:"We process business contact and operational data under GDPR and our Privacy Policy. A DPA can be signed where we act as processor. See the website Privacy Policy.",notices_h:"17. Notices",notices_p:"Notices may be sent by email to the addresses in your account profile and are deemed received upon sending, unless a delivery failure is reported.",law_h:"18. Governing Law & Jurisdiction",law_p:"These Terms are governed by French law. French courts have jurisdiction.",language_h:"19. Language & Precedence",language_p:"If multiple language versions exist, the French version prevails in case of conflict.",severability_h:"20. Severability; Entire Agreement; Waivers",severability_p:"If any provision is invalid, the remainder remains effective. These Terms are the entire agreement for the Services. Failure to enforce is not a waiver.",contact_h:"Contact",contact_intro:"Questions about these Terms & Conditions:",contact_email:"Email: contact@prep-center.eu",contact_phone:"Phone: +33 6 75 11 62 18",contact_addr:"Address: 35350 La Gouesnire, France",updates_h:"Updates",updates_p:"We may amend these Terms; the updated version takes effect 30 days after publication. Continued use constitutes acceptance."}},ro:{title:"Termeni i Condiii (B2B)",lastUpdated:`Ultima actualizare: ${os}`,sections:{defs_h:"0. Definiii",defs_list:["Compania, noi: Prep Center France.","Clientul, dumneavoastr: clientul persoan juridic ce comand Serviciile.","Mrfuri: bunurile trimise pentru recepie, manipulare, pregtire, depozitare temporar sau expediere.","Servicii: recepie, verificare, pregtire (prep) i etichetare, ambalare, depozitare temporar, coordonare expediii, inclusiv FBM/FBA.","Platforme: marketplace-uri i sisteme precum Amazon, eBay, Shopify etc."],scope_h:"1. Domeniu de aplicare i acceptare",scope_list:["Aceti Termeni se aplic tuturor Serviciilor prestate de Companie.","Prestm exclusiv servicii B2B (profesioniti).","n caz de conflict ntre Termeni i instruciuni/comenzi punctuale, prevaleaz Termenii, cu excepia unui acord scris contrar."],orders_h:"2. Comenzi & Instruciuni",orders_list:["nainte de sosire, Clientul transmite PO/ASN i instruciuni scrise de pregtire/ambalare.","n lipsa instruciunilor, recepia poate fi pus n ateptare.","Modificrile/anulrile dup check-in pot genera costuri de manipulare.","Dac instruciunile lipsesc/sunt neclare/contradictorii, solicitm clarificri sau aplicm practicile standard FBA/industriale, pe cheltuiala Clientului."],sla_h:"3. Timp de execuie (SLA)",sla_p:"Dac nu s-a convenit altfel n scris, termenele sunt best effort (fr garanie ferm). Sezonalitatea, verificrile de conformitate i disponibilitatea transportatorilor pot afecta timpii.",receiving_h:"4. Recepie, numrtoare & neconformiti",receiving_list:["Verificare vizual rezonabil i numrtoare la nivel de colet/carton; numrtoarea unitar se face la cerere (serviciu taxabil).","Neconformitile vizibile sunt documentate (foto, dac e cazul) i comunicate.","Reclamaiile se transmit n max. 5 zile lucrtoare de la notificarea noastr de recepie; altfel recepia se consider acceptat."],packaging_h:"5. Ambalare & standarde FBA/FBM",packaging_list:["Clientul rspunde de eligibilitate i conformitate cu cerinele Platformelor i ale legii (limite carton, coduri de bare, avertizri, paletizare, hazmat/baterii).","Reprocesrile cauzate de natura produsului sau instruciuni greite/incomplete sunt facturate."],storage_h:"6. Depozitare",storage_list:["Depozitarea este temporar. Dup 90 de zile de la check-in pot aprea costuri suplimentare i/sau solicitare de ridicare.","Putem refuza/ndeprta Mrfuri ce creeaz riscuri de siguran/conformitate sau impact disproporionat asupra capacitii."],abandoned_h:"7. Mrfuri abandonate & drept de retenie (lien)",abandoned_list:["Dac facturile rmn neachitate sau Mrfurile nu sunt ridicate n 30 de zile de la notificarea scris, putem exercita un drept de retenie i reine, vinde sau dispune de Mrfuri pentru a recupera sumele datorate i costurile.","Costurile de returnare/eliminare sunt n sarcina Clientului."],shipping_h:"8. Expediere & transferul riscului",shipping_list:["Riscul se transfer transportatorului la predarea coletelor corect pregtite i etichetate.","Dac nu s-a convenit altfel, expediiile se organizeaz n condiii standard (ex. EXW la sediul nostru); cerinele speciale se stabilesc n scris."],insurance_h:"9. Asigurare",insurance_p:"Nu asigurm Mrfurile. Clientul pstreaz asigurarea adecvat pe durata stocrii i transportului.",pricing_h:"10. Preuri & Pli",pricing_intro:"Toate preurile sunt n EUR, fr TVA.",pricing_list:["TVA se aplic conform legii.","Facturare lunar sau per sarcin, conform acordului.","Pli prin procesatori autorizai.","Neplata poate duce la suspendarea Serviciilor."],pricing_nonrefund:"Serviciile deja efectuate (recepie, pregtire, etichetare, expediere) nu se ramburseaz. Dac apare o eroare confirmat imputabil Companiei, corectm gratuit sau emitem un credit.",pricing_extra:"Lucrri suplimentare/neprevzute (re-paletizare, manipulare special, documente vamale) se factureaz conform tarifelor comunicate.",pricing_accept:"Prin crearea contului/comand/bif Accept, confirmai c ai citit i acceptat lista de preuri din seciunea Tarife.",pricing_notice:"Putem actualiza preurile cu preaviz de 30 de zile (email i/sau n cont). n aceast perioad putei rezilia; utilizarea dup data efectiv nseamn acceptare.",warranties_h:"11. Garanii & conformitate",warranties_list:["Declarai c Mrfurile sunt legale, corect descrise, nu ncalc drepturi ale terilor i respect cerinele Platformelor (eligibilitate FBA, baterii/hazmat unde e cazul).","Suntei singurul responsabil pentru politicile Platformelor (inclusiv taxe de unplanned services la Amazon)."],liability_h:"12. Limitarea rspunderii",liability_p:"Rspunderea noastr este limitat la valoarea Serviciilor.",liability_list:["Nu rspundem pentru taxe/vam/ntrzieri/refuzuri ale Amazon sau autoritilor.","Pentru pierderi/daune n custodia noastr din furt/incendiu/inundaii/evenimente excepionale, rspunderea se limiteaz la 30% din valoarea de achiziie declarat (factur furnizor), nu la preul de vnzare.","Asigurarea complet a produselor revine Clientului.","Acceptarea de ctre Amazon este la discreia sa.","Dup predarea la transportator, riscul transportului i aparine acestuia.","Se aplic fora major.","Preteniile se transmit n 14 zile, cu dovezi rezonabile."],force_h:"13. For major",force_p:"Nu rspundem pentru evenimente n afara controlului rezonabil (calamiti, greve, ntreruperi, epidemii, rzboi, acte guvernamentale, indisponibiliti ale Platformelor etc.).",subcontractors_h:"14. Subcontractori",subcontractors_p:"Putem utiliza subcontractori validai pentru pri din Servicii; rmnem responsabili de orchestrare.",confidentiality_h:"15. Confidenialitate & Proprietate intelectual",confidentiality_p:"Informaiile nepublice (preuri, procese, fotografii, date de cont) sunt confideniale. Materialele i procesele Companiei rmn proprietatea noastr.",data_h:"16. Protecia datelor",data_p:"Prelucrm date de contact i operaionale conform RGPD i Politicii de Confidenialitate. Putem semna un DPA cnd acionm ca persoan mputernicit. Consultai Politica pe site.",notices_h:"17. Notificri",notices_p:"Notificrile se pot transmite prin email la adresele din profilul contului i se consider primite la expediere, cu excepia raportrii unui eec de livrare.",law_h:"18. Legea aplicabil & jurisdicie",law_p:"Termenii sunt guvernai de legea francez. Instanele din Frana sunt competente.",language_h:"19. Limb & prevalen",language_p:"Dac exist versiuni n mai multe limbi, versiunea n limba francez prevaleaz.",severability_h:"20. Divizibilitate; ntreaga nelegere; Renunri",severability_p:"Dac o clauz este invalid, restul rmne n vigoare. Aceti Termeni reprezint ntreaga nelegere. Neaplicarea unui drept nu nseamn renunare.",contact_h:"Contact",contact_intro:"ntrebri despre Termeni i Condiii:",contact_email:"Email: contact@prep-center.eu",contact_phone:"Telefon: +33 6 75 11 62 18",contact_addr:"Adres: 35350 La Gouesnire, Frana",updates_h:"Modificri",updates_p:"Putem modifica aceti Termeni; versiunea actualizat intr n vigoare la 30 de zile de la publicare. Utilizarea continu nseamn acceptare."}},de:{title:"Allgemeine Geschftsbedingungen (B2B)",lastUpdated:`Zuletzt aktualisiert: ${os}`,sections:{defs_h:"0. Definitionen",defs_list:["Unternehmen, wir: Prep Center France.","Kunde, Sie: der gewerbliche Kunde, der die Leistungen bestellt.","Waren: an uns gesendete Gter zur Annahme, Handhabung, Vorbereitung, temporren Lagerung oder zum Versand.","Leistungen: Annahme, Prfung, Vorbereitung & Etikettierung, Verpackung, temporre Lagerung, Versandkoordination, einschlielich FBM/FBA.","Plattformen: Marktpltze/Systeme wie Amazon, eBay, Shopify usw."],scope_h:"1. Geltungsbereich & Annahme",scope_list:["Diese AGB gelten fr alle vom Unternehmen erbrachten Leistungen.","Wir arbeiten ausschlielich B2B (gewerbliche Kunden).","Bei Widersprchen zwischen diesen AGB und ad-hoc Anweisungen/Bestellungen gelten diese AGB, sofern nichts anderes schriftlich vereinbart ist."],orders_h:"2. Bestellungen & Anweisungen",orders_list:["Vor Anlieferung stellt der Kunde eine PO/ASN sowie schriftliche Prep-/Verpackungsanweisungen bereit.","Ohne Anweisungen kann der Wareneingang zurckgestellt werden.","nderungen/Stornierungen nach Check-in knnen Bearbeitungsgebhren auslsen.","Fehlende/unklare/widersprchliche Anweisungen: Wir knnen Klarstellungen anfordern oder Standard-FBA/Industriepraxis auf Kosten des Kunden anwenden."],sla_h:"3. Durchlaufzeit (SLA)",sla_p:"Sofern nicht schriftlich anders vereinbart, gelten Fristen als Best-Effort (ohne feste Garantie). Saisonalitt, Compliance-Prfungen und Carrier-Verfgbarkeit knnen die Zeiten beeinflussen.",receiving_h:"4. Wareneingang, Zhlung & Abweichungen",receiving_list:["Angemessene Sichtprfung und Karton-/Kolli-Zhlung; Stck-Einzelzhlung auf Anfrage (kostenpflichtig).","Sichtbare Abweichungen werden dokumentiert (ggf. Fotos) und mitgeteilt.","Ansprche sind innerhalb von 5 Arbeitstagen nach unserer Wareneingangsmeldung zu erheben; andernfalls gilt der Eingang als akzeptiert."],packaging_h:"5. Verpackung & FBA/FBM-Standards",packaging_list:["Der Kunde ist verantwortlich fr Eignung und Compliance mit Plattform-/Gesetzesanforderungen (Kartonlimits, Barcodes, Warnhinweise, Palettierung, Gefahrgut/Batterien).","Nacharbeiten aufgrund der Produktbeschaffenheit oder falscher/unvollstndiger Anweisungen sind kostenpflichtig."],storage_h:"6. Lagerung",storage_list:["Lagerung ist temporr. Nach 90 Tagen ab Check-in: zustzliche Lagergebhren und/oder Aufforderung zur Abholung mglich.","Wir knnen Waren ablehnen/entfernen, die Sicherheits-/Compliance-Risiken verursachen oder die Kapazitt unverhltnismig belasten."],abandoned_h:"7. Verlassene Waren & Pfandrecht",abandoned_list:["Bei offenen Rechnungen oder Nichtabholung innerhalb von 30 Tagen nach schriftlicher Mitteilung knnen wir ein Lagerpfandrecht geltend machen und Waren zurckhalten, veruern oder entsorgen, um Forderungen und Kosten zu decken.","Kosten fr Rcksendung/Entsorgung trgt der Kunde."],shipping_h:"8. Versand & Gefahrenbergang",shipping_list:["Die Gefahr geht auf den Frachtfhrer ber, sobald korrekt vorbereitete und etikettierte Sendungen bergeben werden.","Mangels abweichender Vereinbarung erfolgen Sendungen zu Standardbedingungen (z. B. EXW unser Standort). Besondere Anforderungen sind schriftlich zu vereinbaren."],insurance_h:"9. Versicherung",insurance_p:"Wir versichern die Waren nicht. Der Kunde hlt geeigneten Versicherungsschutz whrend Lagerung und Transport vor.",pricing_h:"10. Preise & Zahlungen",pricing_intro:"Alle Preise in EUR, zzgl. USt.",pricing_list:["Umsatzsteuer gem Gesetz.","Monatliche oder auftragsbezogene Abrechnung gem Vereinbarung.","Zahlungen ber zugelassene Zahlungsdienstleister.","Nichtzahlung kann zur Aussetzung der Leistungen fhren."],pricing_nonrefund:"Bereits erbrachte Leistungen (Wareneingang, Prep, Etikettierung, Versand) sind nicht erstattungsfhig. Bei besttigtem Unternehmensfehler: kostenlose Korrektur oder Gutschrift.",pricing_extra:"Zustzliche/unvorhergesehene Arbeiten (Re-Palettierung, Spezialhandling, Zolldokumente) werden zum kommunizierten Tarif berechnet.",pricing_accept:"Mit Kontoerstellung/Bestellung/Anklicken von Ich akzeptiere besttigen Sie die Preisliste im Abschnitt Tarife gelesen und akzeptiert zu haben.",pricing_notice:"Preisnderungen mglich mit 30 Tagen Vorankndigung (E-Mail und/oder im Konto). Kndigung in diesem Zeitraum mglich; Weiternutzung gilt als Zustimmung.",warranties_h:"11. Gewhrleistungen & Compliance",warranties_list:["Sie gewhrleisten, dass Waren rechtmig, korrekt beschrieben, nicht rechtsverletzend und plattformkonform sind (FBA-Eignung, Batterien/Gefahrgut, falls zutreffend).","Sie sind allein verantwortlich fr Plattformrichtlinien (einschl. etwaiger Unplanned Services-Gebhren bei Amazon)."],liability_h:"12. Haftungsbeschrnkung",liability_p:"Unsere Haftung ist auf den Wert der erbrachten Leistungen begrenzt.",liability_list:["Keine Haftung fr Steuern/Zoll/Verzgerungen/Ablehnungen, die Amazon oder Behrden zuzurechnen sind.","Bei Verlust/Beschdigung in unserer Obhut durch Diebstahl/Brand/berschwemmung/auergewhnliche Ereignisse ist die Haftung auf 30 % des deklarierten Einkaufspreises (Lieferantenrechnung) begrenzt, nicht auf den Verkaufspreis.","Vollstndige Produktversicherung obliegt dem Kunden.","Amazon-Annahme nach eigenem Ermessen; politikbedingte Ablehnungen sind uns nicht zurechenbar.","Nach bergabe an den Frachtfhrer liegt das Transportrisiko beim Frachtfhrer.","Hhere Gewalt gilt.","Ansprche sind binnen 14 Tagen mit angemessenen Nachweisen einzureichen."],force_h:"13. Hhere Gewalt",force_p:"Keine Haftung fr Ereignisse auerhalb zumutbarer Kontrolle (Naturkatastrophen, Streiks, Ausflle, Epidemien, Krieg, behrdliche Manahmen, Plattform-Ausflle etc.).",subcontractors_h:"14. Subunternehmer",subcontractors_p:"Wir knnen geprfte Subunternehmer fr Teile der Leistungen einsetzen; die Orchestrierung bleibt in unserer Verantwortung.",confidentiality_h:"15. Vertraulichkeit & IP",confidentiality_p:"Nicht-ffentliche Informationen (Preise, Prozesse, Fotos, Kontodaten) sind vertraulich. Unterlagen/Guides/Prozesse des Unternehmens bleiben unser geistiges Eigentum.",data_h:"16. Datenschutz",data_p:"Wir verarbeiten geschftliche Kontakt- und operative Daten gem DSGVO und unserer Datenschutzrichtlinie. Ein AVV kann geschlossen werden, wenn wir als Auftragsverarbeiter handeln. Siehe Website.",notices_h:"17. Mitteilungen",notices_p:"Mitteilungen knnen per E-Mail an die im Konto hinterlegten Adressen erfolgen und gelten bei Versand als zugegangen, sofern keine Zustellfehlermeldung erfolgt.",law_h:"18. Anwendbares Recht & Gerichtsstand",law_p:"Diese AGB unterliegen franzsischem Recht. Zustndig sind die franzsischen Gerichte.",language_h:"19. Sprache & Vorrang",language_p:"Bei Abweichungen zwischen Sprachfassungen hat die franzsische Version Vorrang.",severability_h:"20. Salvatorische Klausel; Gesamte Vereinbarung; Verzicht",severability_p:"Ist eine Bestimmung unwirksam, bleibt der Rest wirksam. Diese AGB bilden die gesamte Vereinbarung. Die Nichtdurchsetzung eines Rechts gilt nicht als Verzicht.",contact_h:"Kontakt",contact_intro:"Fragen zu diesen AGB:",contact_email:"E-Mail: contact@prep-center.eu",contact_phone:"Telefon: +33 6 75 11 62 18",contact_addr:"Adresse: 35350 La Gouesnire, Frankreich",updates_h:"nderungen",updates_p:"Wir knnen diese AGB ndern; die aktualisierte Fassung tritt 30 Tage nach Verffentlichung in Kraft. Fortgesetzte Nutzung gilt als Zustimmung."}},it:{title:"Termini e Condizioni (B2B)",lastUpdated:`Ultimo aggiornamento: ${os}`,sections:{defs_h:"0. Definizioni",defs_list:["Societ, noi: Prep Center France.","Cliente, voi: il cliente professionale che ordina i Servizi.","Merci: beni inviati per ricezione, gestione, preparazione, deposito temporaneo o spedizione.","Servizi: ricezione, ispezione, preparazione ed etichettatura, imballaggio, deposito temporaneo, coordinamento spedizioni, inclusi FBM/FBA.","Piattaforme: marketplace/sistemi quali Amazon, eBay, Shopify, ecc."],scope_h:"1. Ambito di applicazione e accettazione",scope_list:["I presenti Termini si applicano a tutti i Servizi resi dalla Societ.","Operiamo esclusivamente in ambito B2B (professionisti).","In caso di conflitto tra questi Termini e istruzioni/ordini ad-hoc, prevalgono i Termini salvo diverso accordo scritto."],orders_h:"2. Ordini e Istruzioni",orders_list:["Prima dellarrivo, il Cliente fornisce PO/ASN e istruzioni scritte di preparazione/imballaggio.","In assenza di istruzioni, linbound pu essere messo in attesa.","Modifiche/annulli dopo il check-in possono comportare costi di handling.","Se le istruzioni mancano/sono poco chiare/in conflitto, possiamo chiedere chiarimenti o applicare pratiche standard FBA/industria a spese del Cliente."],sla_h:"3. Tempi di lavorazione (SLA)",sla_p:"Salvo diverso accordo scritto, le tempistiche sono Best-Effort (senza garanzia). Picchi stagionali, verifiche di conformit e disponibilit dei vettori possono incidere sui tempi.",receiving_h:"4. Ricezione, conteggio e non conformit",receiving_list:["Ispezione visiva ragionevole e conteggio a livello collo/cartone; conteggio unitario su richiesta (a pagamento).","Le non conformit visibili vengono documentate (foto, se del caso) e comunicate.","Eventuali reclami devono essere presentati entro 5 giorni lavorativi dalla nostra notifica di ricezione; in difetto, la ricezione si intende accettata."],packaging_h:"5. Imballaggio & standard FBA/FBM",packaging_list:["Il Cliente garantisce idoneit e conformit ai requisiti di Piattaforme/legge (limiti cartone, barcode, avvertenze, palletizzazione, hazmat/batterie).","Reworking dovuto a natura del prodotto o a istruzioni errate/incomplete  a pagamento."],storage_h:"6. Deposito",storage_list:["Il deposito  temporaneo. Dopo 90 giorni dal check-in possono applicarsi costi aggiuntivi e/o richiesta di ritiro.","Possiamo rifiutare/rimuovere Merci che comportano rischi di sicurezza/conformit o un impatto sproporzionato sulla capacit."],abandoned_h:"7. Merci abbandonate & diritto di ritenzione",abandoned_list:["Se le fatture restano insolute o le Merci non vengono ritirate entro 30 giorni dalla comunicazione scritta, possiamo esercitare un diritto di ritenzione e trattenere, vendere o smaltire le Merci per recuperare importi dovuti e costi.","I costi di reso/smaltimento sono a carico del Cliente."],shipping_h:"8. Spedizione & trasferimento del rischio",shipping_list:["Il rischio passa al vettore alla consegna delle spedizioni correttamente preparate ed etichettate.","Salvo diverso accordo, le spedizioni seguono termini standard (es. EXW nostro stabilimento). Requisiti speciali devono essere concordati per iscritto."],insurance_h:"9. Assicurazione",insurance_p:"Non assicuriamo le Merci. Il Cliente mantiene una copertura adeguata durante deposito e trasporto.",pricing_h:"10. Prezzi & Pagamenti",pricing_intro:"Tutti i prezzi in EUR, IVA esclusa.",pricing_list:["IVA applicata secondo legge.","Fatturazione mensile o per attivit, come concordato.","Pagamenti tramite processori approvati.","Il mancato pagamento pu comportare la sospensione dei Servizi."],pricing_nonrefund:"I servizi gi eseguiti (ricezione, prep, etichettatura, spedizione) non sono rimborsabili. In caso di errore confermato imputabile alla Societ: correzione gratuita o nota di credito.",pricing_extra:"Lavori aggiuntivi/imprevisti (ri-pallettizzazione, handling speciale, documenti doganali) sono addebitati alle tariffe comunicate.",pricing_accept:"Creando laccount/effettuando lordine/spuntando Accetto, confermate di aver letto e accettato il listino prezzi nella sezione Tariffe.",pricing_notice:"Possiamo aggiornare i prezzi con un preavviso di 30 giorni (email e/o nel vostro account).  possibile recedere in tale periodo; luso successivo alla data vale accettazione.",warranties_h:"11. Garanzie & conformit",warranties_list:["Dichiarate che le Merci sono lecite, correttamente descritte, non ledono diritti di terzi e rispettano i requisiti delle Piattaforme (idoneit FBA, batterie/hazmat se applicabile).","Siete gli unici responsabili delle policy delle Piattaforme (incluse eventuali fee di unplanned services presso Amazon)."],liability_h:"12. Limitazione di responsabilit",liability_p:"La nostra responsabilit  limitata al valore dei Servizi forniti.",liability_list:["Nessuna responsabilit per tasse/doganali/ritardi/rifiuti imputabili ad Amazon o alle autorit.","Per perdita/danno in nostra custodia dovuti a furto/incendio/alluvione/eventi eccezionali, la responsabilit  limitata al 30% del valore dacquisto dichiarato (fattura fornitore), non al prezzo al dettaglio.","Lassicurazione completa dei prodotti resta a carico del Cliente.","Accettazione Amazon a sua esclusiva discrezione; rifiuti legati alle policy non sono a noi imputabili.","Dopo la consegna al vettore, il rischio del trasporto grava sul vettore.","Si applica la forza maggiore.","Le richieste vanno presentate entro 14 giorni con prove adeguate."],force_h:"13. Forza maggiore",force_p:"Nessuna responsabilit per eventi fuori dal controllo ragionevole (calamit, scioperi, interruzioni, epidemie, guerra, atti governativi, downtime delle Piattaforme, ecc.).",subcontractors_h:"14. Subappaltatori",subcontractors_p:"Possiamo impiegare subappaltatori qualificati per parti dei Servizi; restiamo responsabili del coordinamento.",confidentiality_h:"15. Riservatezza & IP",confidentiality_p:"Informazioni non pubbliche (prezzi, processi, foto, dati account) sono riservate. Materiali/guide/processi della Societ restano nostra propriet intellettuale.",data_h:"16. Protezione dei dati",data_p:"Trattiamo dati di contatto e operativi nel rispetto del GDPR e della nostra Privacy Policy.  possibile sottoscrivere un DPA quando agiamo come responsabile del trattamento. Vedi il sito.",notices_h:"17. Comunicazioni",notices_p:"Le comunicazioni possono essere inviate via email agli indirizzi presenti nel profilo account e si considerano ricevute allinvio, salvo notifica di mancata consegna.",law_h:"18. Legge applicabile & foro competente",law_p:"I presenti Termini sono regolati dalla legge francese. Foro competente: tribunali francesi.",language_h:"19. Lingua & prevalenza",language_p:"In caso di divergenze tra versioni linguistiche, prevale la versione francese.",severability_h:"20. Clausola di salvaguardia; Intero accordo; Rinunce",severability_p:"Se una clausola  invalida, il resto resta valido. I Termini costituiscono lintero accordo. La mancata applicazione non costituisce rinuncia.",contact_h:"Contatti",contact_intro:"Domande su questi Termini e Condizioni:",contact_email:"Email: contact@prep-center.eu",contact_phone:"Telefono: +33 6 75 11 62 18",contact_addr:"Indirizzo: 35350 La Gouesnire, Francia",updates_h:"Aggiornamenti",updates_p:"Possiamo modificare questi Termini; la versione aggiornata entra in vigore 30 giorni dopo la pubblicazione. Luso continuato implica accettazione."}},es:{title:"Trminos y Condiciones (B2B)",lastUpdated:`ltima actualizacin: ${os}`,sections:{defs_h:"0. Definiciones",defs_list:["Empresa, nosotros: Prep Center France.","Cliente, usted: cliente empresarial que contrata los Servicios.","Mercancas: bienes enviados para recepcin, manipulacin, preparacin, almacenamiento temporal o envo.","Servicios: recepcin, inspeccin, preparacin y etiquetado, embalaje, almacenamiento temporal, coordinacin de envos, incluidos FBM/FBA.","Plataformas: marketplaces/sistemas como Amazon, eBay, Shopify, etc."],scope_h:"1. mbito y aceptacin",scope_list:["Estos Trminos se aplican a todos los Servicios prestados por la Empresa.","Operamos estrictamente en B2B (profesionales).","En caso de conflicto entre estos Trminos y instrucciones/pedidos puntuales, prevalecen estos Trminos salvo acuerdo escrito en contrario."],orders_h:"2. Pedidos e Instrucciones",orders_list:["Antes de la llegada, el Cliente proporciona PO/ASN e instrucciones escritas de preparacin/embalaje.","Sin instrucciones, la recepcin puede ponerse en espera.","Cambios/cancelaciones tras el check-in pueden conllevar cargos de manipulacin.","Si faltan/son ambiguas/contradictorias, podremos solicitar aclaraciones o aplicar prcticas estndar FBA/industria a cargo del Cliente."],sla_h:"3. Plazos de ejecucin (SLA)",sla_p:"Salvo pacto escrito en contrario, los plazos son de mejor esfuerzo (sin garanta firme). La estacionalidad, controles de cumplimiento y disponibilidad de transportistas pueden afectar los tiempos.",receiving_h:"4. Recepcin, conteo y no conformidades",receiving_list:["Inspeccin visual razonable y conteo a nivel de bulto/caja; conteo unitario bajo solicitud (con cargo).","No conformidades visibles se documentan (fotos si procede) y se comunican.","Reclamaciones dentro de 5 das laborables desde nuestro aviso de recepcin; en su defecto, la recepcin se considera aceptada."],packaging_h:"5. Embalaje y estndares FBA/FBM",packaging_list:["El Cliente es responsable de la idoneidad y del cumplimiento con requisitos de Plataforma/ley (lmites de caja, cdigos, advertencias, paletizacin, hazmat/bateras).","Retrabajos por naturaleza del producto o por instrucciones incorrectas/incompletas son facturables."],storage_h:"6. Almacenamiento",storage_list:["El almacenamiento es temporal. Tras 90 das desde el check-in: pueden aplicarse cargos adicionales y/o requerirse retirada.","Podemos rechazar/retirar Mercancas que generen riesgos de seguridad/cumplimiento o impacto desproporcionado en capacidad."],abandoned_h:"7. Mercancas abandonadas y derecho de retencin",abandoned_list:["Si hay facturas impagadas o no se retiran las Mercancas en 30 das desde la notificacin escrita, podremos ejercer derecho de retencin y retener, vender o disponer de las Mercancas para recuperar importes y costes.","Los costes de devolucin/eliminacin corren a cargo del Cliente."],shipping_h:"8. Envo y transferencia del riesgo",shipping_list:["El riesgo se transfiere al transportista cuando entregamos envos correctamente preparados y etiquetados.","Salvo acuerdo en contrario, los envos siguen condiciones estndar (p. ej., EXW nuestra instalacin). Requisitos especiales deben pactarse por escrito."],insurance_h:"9. Seguro",insurance_p:"No aseguramos las Mercancas. El Cliente mantiene cobertura adecuada durante almacenamiento y trnsito.",pricing_h:"10. Precios y Pagos",pricing_intro:"Todos los precios en EUR, sin IVA.",pricing_list:["IVA aplicable segn ley.","Facturacin mensual o por tarea, segn acuerdo.","Pagos mediante procesadores aprobados.","El impago puede conllevar suspensin de los Servicios."],pricing_nonrefund:"Los servicios ya prestados (recepcin, prep, etiquetado, envo) no son reembolsables. Si hay error confirmado imputable a la Empresa: correccin sin coste o abono.",pricing_extra:"Trabajos adicionales/imprevistos (re-paletizacin, manipulacin especial, documentacin aduanera) se facturan a la tarifa comunicada.",pricing_accept:"Al crear cuenta/pedir/marcar Acepto, confirma que ha ledo y aceptado la lista de precios de la seccin Tarifas.",pricing_notice:"Podemos actualizar precios con 30 das de preaviso (email y/o en su cuenta). Puede resolver en ese periodo; el uso posterior a la fecha implica aceptacin.",warranties_h:"11. Garantas y cumplimiento",warranties_list:["Usted garantiza que las Mercancas son legales, correctamente descritas, no infringen derechos y cumplen requisitos de Plataforma (idoneidad FBA, bateras/hazmat cuando proceda).","Usted es el nico responsable de las polticas de Plataforma (incluidas posibles tarifas de unplanned services en Amazon)."],liability_h:"12. Limitacin de responsabilidad",liability_p:"Nuestra responsabilidad se limita al valor de los Servicios prestados.",liability_list:["Sin responsabilidad por impuestos/aduanas/demoras/rechazos atribuibles a Amazon o autoridades.","Por prdidas/daos bajo nuestra custodia debidos a robo/incendio/inundacin/eventos excepcionales, la responsabilidad se limita al 30% del valor de compra declarado (factura proveedor), no al PVP.","El seguro completo del producto corresponde al Cliente.","La aceptacin por Amazon queda a su exclusiva discrecin; rechazos por polticas no son imputables a nosotros.","Tras la entrega al transportista, el riesgo del transporte es del transportista.","Aplica fuerza mayor.","Las reclamaciones deben presentarse en 14 das con pruebas razonables."],force_h:"13. Fuerza mayor",force_p:"No respondemos por eventos fuera del control razonable (desastres, huelgas, cadas de servicio, epidemias, guerra, actos gubernamentales, cadas de Plataforma, etc.).",subcontractors_h:"14. Subcontratistas",subcontractors_p:"Podemos emplear subcontratistas cualificados para partes del Servicio; seguimos siendo responsables de la orquestacin.",confidentiality_h:"15. Confidencialidad & PI",confidentiality_p:"La informacin no pblica (precios, procesos, fotos, datos de cuenta) es confidencial. Materiales/guas/procesos de la Empresa siguen siendo nuestra PI.",data_h:"16. Proteccin de datos",data_p:"Tratamos datos de contacto y operativos conforme al RGPD y a nuestra Poltica de Privacidad. Puede firmarse un DPA cuando actuamos como encargado. Vase el sitio web.",notices_h:"17. Notificaciones",notices_p:"Las notificaciones podrn enviarse por email a las direcciones del perfil y se considerarn recibidas al envo, salvo fallo de entrega notificado.",law_h:"18. Ley aplicable y jurisdiccin",law_p:"Estos Trminos se rigen por la ley francesa. Los tribunales franceses son competentes.",language_h:"19. Idioma y prevalencia",language_p:"Si existen varias versiones lingsticas, prevalece la versin francesa en caso de conflicto.",severability_h:"20. Divisibilidad; Acuerdo ntegro; Renuncias",severability_p:"Si alguna disposicin es invlida, el resto permanece vigente. Estos Trminos constituyen el acuerdo ntegro. La falta de ejercicio no implica renuncia.",contact_h:"Contacto",contact_intro:"Consultas sobre estos Trminos y Condiciones:",contact_email:"Email: contact@prep-center.eu",contact_phone:"Telfono: +33 6 75 11 62 18",contact_addr:"Direccin: 35350 La Gouesnire, Francia",updates_h:"Cambios",updates_p:"Podemos modificar estos Trminos; la versin actualizada entra en vigor 30 das despus de su publicacin. El uso continuado implica aceptacin."}}},FR={fr:{title:"Politique de Confidentialit",lastUpdated:"Dernire mise  jour : 27.09.2025",sections:{intro_h:"1. Introduction",intro_p:"Prep Center France ( nous ) respecte vos donnes personnelles et les protge conformment au RGPD et  la loi franaise. Cette politique explique comment nous collectons, utilisons et protgeons vos informations.",controller_h:"Responsable du Traitement",controller_lines:["contact@prep-center.eu"],data_h:"2. Donnes Collectes",data_labels:{id:"Donnes didentification",billing:"Donnes de facturation",tech:"Donnes techniques"},data_lists:{id:["Nom et prnom","Adresse e-mail","Numro de tlphone","Adresses de livraison et facturation"],billing:["Nom de lentreprise","Numro de TVA","SIREN/SIRET (France)","Adresse de facturation"],tech:["Adresse IP","Type et version du navigateur","Systme dexploitation","Pages visites et temps pass"]},purposes_h:"3. Finalits du Traitement",purposes_list:["Excution du contrat (commandes, facturation, services FBA, communications)","Obligations lgales (comptabilit, fiscalit, e-commerce)","Intrts lgitimes (amlioration des services, analytique, prvention de la fraude, marketing avec consentement)"],recipients_h:"4. Destinataires",recipients_p:"Nous ne vendons ni ne louons vos donnes. Partage uniquement avec transporteurs, prestataires de paiement, hbergement/cloud et autorits lorsque la loi lexige.",transfers_h:"5. Transferts",transfers_p:"Si des transferts hors UE/EEE sont ncessaires, nous appliquons des garanties appropries (clauses types, etc.).",security_h:"6. Scurit",security_list:["Chiffrement en transit et au repos lorsque appropri","Authentification  deux facteurs","Accs au moindre privilge","Surveillance et audits rguliers","Sauvegardes et plans de reprise"],retention_h:"7. Conservation",retention_list:["Comptes : tant que le compte est actif ou conforme aux obligations lgales (min. 5 ans)","Facturation : 10 ans","Marketing : jusquau retrait du consentement ou max. 3 ans aprs la dernire interaction"],rights_h:"8. Vos Droits",rights_list:["Accs, rectification, effacement","Portabilit","Opposition et limitation","Retrait du consentement","Plainte auprs de lautorit de contrle"],children_h:"9. Enfants",children_p:"Nos services ne sadressent pas aux enfants de moins de 16 ans.",dpa_h:"10. Sous-traitants",dpa_p:"Nous concluons des accords de traitement (DPA) avec des prestataires conformes au RGPD.",cookies_h:"11. Cookies",cookies_p:"Cookies essentiels, de performance (analytics) et de marketing (avec consentement). Dtails dans la bannire de cookies.",changes_h:"12. Modifications",changes_p:"Nous pouvons mettre  jour cette politique. La date de mise  jour figure en haut de la page."}},en:{title:"Privacy Policy",lastUpdated:"Last updated: 27.09.2025",sections:{intro_h:"1. Introduction",intro_p:"Prep Center France (we) respects your personal data and protects it under GDPR and applicable law. This policy explains how we collect, use and protect your information.",controller_h:"Controller",controller_lines:["contact@prep-center.eu"],data_h:"2. Data Collected",data_labels:{id:"Identification data",billing:"Billing data",tech:"Technical data"},data_lists:{id:["Full name","Email address","Phone number","Shipping & billing addresses"],billing:["Company name","VAT / Tax ID","SIREN/SIRET (France)","Billing address"],tech:["IP address","Browser type & version","Operating system","Pages visited & time on site"]},purposes_h:"3. Purposes",purposes_list:["Contract performance (orders, invoicing, FBA services, communications)","Legal obligations (accounting, tax, e-commerce regulations)","Legitimate interests (service improvement, analytics, fraud prevention, direct marketing with consent)"],recipients_h:"4. Recipients",recipients_p:"We do not sell or rent your data. We share it only with carriers, payment processors, hosting/cloud, and authorities when required by law.",transfers_h:"5. Transfers",transfers_p:"If transfers outside the EU/EEA are required, we apply appropriate safeguards (e.g., SCCs).",security_h:"6. Security",security_list:["Encryption in transit and, where appropriate, at rest","Two-factor authentication","Least-privilege access","Regular monitoring & audits","Backups and recovery plans"],retention_h:"7. Retention",retention_list:["Account data: while the account is active or as legally required (min. 5 years)","Billing data: 10 years","Marketing data: until consent is withdrawn or up to 3 years after the last interaction"],rights_h:"8. Your Rights",rights_list:["Access, rectification, erasure","Portability","Objection and restriction","Withdraw consent","Complain to the supervisory authority"],children_h:"9. Children",children_p:"Our services are not directed to children under 16.",dpa_h:"10. Data Processors",dpa_p:"We sign DPAs with GDPR-compliant processors.",cookies_h:"11. Cookies",cookies_p:"We use essential, performance (analytics) and marketing cookies (with consent). See the cookie banner for details.",changes_h:"12. Changes",changes_p:"We may update this policy. The update date appears at the top of the page."}},ro:{title:"Politica de Confidenialitate",lastUpdated:"Ultima actualizare: 27.09.2025",sections:{intro_h:"1. Introducere",intro_p:'Prep Center France ("noi") respect datele dvs. personale i le protejeaz conform GDPR i legislaiei aplicabile. Aceast politic explic modul n care colectm, folosim i protejm informaiile.',controller_h:"Operator",controller_lines:["contact@prep-center.eu"],data_h:"2. Date Colectate",data_labels:{id:"Date de identificare",billing:"Date de facturare",tech:"Date tehnice"},data_lists:{id:["Nume i prenume","Adres de email","Numr de telefon","Adrese de livrare i facturare"],billing:["Denumirea companiei","CUI/VAT","SIREN/SIRET (Frana)","Adresa de facturare"],tech:["Adres IP","Tip i versiune browser","Sistem de operare","Pagini vizitate i timp petrecut"]},purposes_h:"3. Scopuri",purposes_list:["Executarea contractului (comenzi, facturare, servicii FBA, comunicri)","Obligaii legale (contabilitate, fiscalitate, reglementri e-commerce)","Interese legitime (mbuntirea serviciilor, analytics, prevenire fraud, marketing cu consimmnt)"],recipients_h:"4. Destinatari",recipients_p:"Nu vindem sau nchiriem datele. Le partajm doar cu transportatori, procesatori de pli, servicii de hosting/cloud i autoriti cnd legea o cere.",transfers_h:"5. Transferuri",transfers_p:"Dac sunt necesare transferuri n afara UE/SEE, aplicm garanii adecvate (de ex., SCC).",security_h:"6. Securitate",security_list:["Criptare n tranzit i, dup caz, n repaus","Autentificare cu doi factori","Acces minim necesar (least privilege)","Monitorizare i audit periodic","Backup-uri i planuri de recuperare"],retention_h:"7. Pstrare",retention_list:["Date de cont: ct timp contul este activ sau min. 5 ani conform legii","Date de facturare: 10 ani","Date de marketing: pn la retragerea consimmntului sau max. 3 ani de la ultima interaciune"],rights_h:"8. Drepturile Dvs.",rights_list:["Acces, rectificare, tergere","Portabilitate","Opoziie i restricionare","Retragerea consimmntului","Plngere la autoritatea de supraveghere"],children_h:"9. Copii",children_p:"Serviciile noastre nu se adreseaz copiilor sub 16 ani.",dpa_h:"10. Persoane mputernicite",dpa_p:"ncheiem DPA cu procesatori conformi GDPR.",cookies_h:"11. Cookie-uri",cookies_p:"Folosim cookie-uri eseniale, de performan (analytics) i de marketing (cu consimmnt). Detalii n bannerul de cookies.",changes_h:"12. Modificri",changes_p:"Putem actualiza aceast politic. Data actualizrii este indicat n partea de sus a paginii."}},de:{title:"Datenschutzerklrung",lastUpdated:"Zuletzt aktualisiert: 27.09.2025",sections:{intro_h:"1. Einleitung",intro_p:"Prep Center France (wir) respektiert Ihre personenbezogenen Daten und schtzt sie gem der DSGVO und dem geltenden Recht. Diese Richtlinie erklrt, wie wir Informationen erheben, verwenden und schtzen.",controller_h:"Verantwortlicher",controller_lines:["contact@prep-center.eu"],data_h:"2. Erhobene Daten",data_labels:{id:"Identifikationsdaten",billing:"Abrechnungsdaten",tech:"Technische Daten"},data_lists:{id:["Vollstndiger Name","E-Mail-Adresse","Telefonnummer","Liefer- und Rechnungsadressen"],billing:["Firmenname","USt-IdNr./Steuer-ID","SIREN/SIRET (Frankreich)","Rechnungsadresse"],tech:["IP-Adresse","Browsertyp & Version","Betriebssystem","Besuchte Seiten & Verweildauer"]},purposes_h:"3. Zwecke",purposes_list:["Vertragserfllung (Bestellungen, Rechnungen, FBA-Services, Kommunikation)","Gesetzliche Pflichten (Buchhaltung, Steuern, E-Commerce-Vorgaben)","Berechtigtes Interesse (Serviceverbesserung, Analysen, Betrugsprvention, Direktmarketing mit Einwilligung)"],recipients_h:"4. Empfnger",recipients_p:"Wir verkaufen oder vermieten Ihre Daten nicht. Weitergabe nur an Carrier, Zahlungsdienstleister, Hosting/Cloud und Behrden, wenn gesetzlich erforderlich.",transfers_h:"5. bermittlungen",transfers_p:"Bei bermittlungen auerhalb der EU/des EWR wenden wir geeignete Garantien an (z. B. Standardvertragsklauseln).",security_h:"6. Sicherheit",security_list:["Verschlsselung bei bertragung und ggf. im Ruhezustand","Zwei-Faktor-Authentifizierung","Least-Privilege-Zugriffsprinzip","Regelmiges Monitoring & Audits","Backups und Wiederherstellungsplne"],retention_h:"7. Aufbewahrung",retention_list:["Kontodaten: solange das Konto aktiv ist oder mind. 5 Jahre gesetzlich vorgeschrieben","Abrechnungsdaten: 10 Jahre","Marketingdaten: bis zum Widerruf der Einwilligung oder max. 3 Jahre nach der letzten Interaktion"],rights_h:"8. Ihre Rechte",rights_list:["Auskunft, Berichtigung, Lschung","Datenbertragbarkeit","Widerspruch und Einschrnkung","Widerruf der Einwilligung","Beschwerde bei der Aufsichtsbehrde"],children_h:"9. Kinder",children_p:"Unsere Dienste richten sich nicht an Kinder unter 16 Jahren.",dpa_h:"10. Auftragsverarbeiter",dpa_p:"Wir schlieen Auftragsverarbeitungsvertrge (DPA) mit DSGVO-konformen Dienstleistern.",cookies_h:"11. Cookies",cookies_p:"Wir verwenden essenzielle, Performance- (Analytics) und Marketing-Cookies (mit Einwilligung). Details im Cookie-Banner.",changes_h:"12. nderungen",changes_p:"Wir knnen diese Richtlinie aktualisieren. Das Aktualisierungsdatum steht oben auf der Seite."}},it:{title:"Informativa sulla Privacy",lastUpdated:"Ultimo aggiornamento: 27.09.2025",sections:{intro_h:"1. Introduzione",intro_p:"Prep Center France (noi) rispetta i dati personali e li protegge in conformit al GDPR e alla normativa applicabile. Questa informativa spiega come raccogliamo, utilizziamo e proteggiamo le informazioni.",controller_h:"Titolare del trattamento",controller_lines:["contact@prep-center.eu"],data_h:"2. Dati raccolti",data_labels:{id:"Dati identificativi",billing:"Dati di fatturazione",tech:"Dati tecnici"},data_lists:{id:["Nome e cognome","Indirizzo e-mail","Numero di telefono","Indirizzi di spedizione e fatturazione"],billing:["Ragione sociale","Partita IVA/ID fiscale","SIREN/SIRET (Francia)","Indirizzo di fatturazione"],tech:["Indirizzo IP","Tipo e versione del browser","Sistema operativo","Pagine visitate e tempo di permanenza"]},purposes_h:"3. Finalit",purposes_list:["Esecuzione del contratto (ordini, fatturazione, servizi FBA, comunicazioni)","Obblighi di legge (contabilit, imposte, normative e-commerce)","Legittimo interesse (miglioramento servizi, analisi, prevenzione frodi, marketing con consenso)"],recipients_h:"4. Destinatari",recipients_p:"Non vendiamo o noleggiamo i dati. Condivisione solo con vettori, processori di pagamento, hosting/cloud e autorit quando richiesto dalla legge.",transfers_h:"5. Trasferimenti",transfers_p:"Se necessari trasferimenti fuori da UE/SEE, applichiamo garanzie adeguate (es. SCC).",security_h:"6. Sicurezza",security_list:["Crittografia in transito e, ove opportuno, a riposo","Autenticazione a due fattori","Accesso secondo il principio del minimo privilegio","Monitoraggio e audit regolari","Backup e piani di ripristino"],retention_h:"7. Conservazione",retention_list:["Dati account: finch laccount  attivo o minimo 5 anni secondo legge","Dati di fatturazione: 10 anni","Dati marketing: fino alla revoca del consenso o max. 3 anni dallultima interazione"],rights_h:"8. Diritti dellinteressato",rights_list:["Accesso, rettifica, cancellazione","Portabilit","Opposizione e limitazione","Revoca del consenso","Reclamo allautorit di controllo"],children_h:"9. Minori",children_p:"I nostri servizi non sono rivolti ai minori di 16 anni.",dpa_h:"10. Responsabili del trattamento",dpa_p:"Sottoscriviamo DPA con fornitori conformi al GDPR.",cookies_h:"11. Cookie",cookies_p:"Utilizziamo cookie essenziali, di prestazione (analytics) e di marketing (con consenso). Dettagli nel banner cookie.",changes_h:"12. Modifiche",changes_p:"Possiamo aggiornare questa informativa. La data di aggiornamento  indicata in cima alla pagina."}},es:{title:"Poltica de Privacidad",lastUpdated:"ltima actualizacin: 27.09.2025",sections:{intro_h:"1. Introduccin",intro_p:"Prep Center France (nosotros) respeta sus datos personales y los protege conforme al RGPD y la normativa aplicable. Esta poltica explica cmo recopilamos, usamos y protegemos su informacin.",controller_h:"Responsable",controller_lines:["contact@prep-center.eu"],data_h:"2. Datos recopilados",data_labels:{id:"Datos de identificacin",billing:"Datos de facturacin",tech:"Datos tcnicos"},data_lists:{id:["Nombre y apellidos","Correo electrnico","Nmero de telfono","Direcciones de envo y facturacin"],billing:["Nombre de la empresa","NIF/IVA","SIREN/SIRET (Francia)","Direccin de facturacin"],tech:["Direccin IP","Tipo y versin del navegador","Sistema operativo","Pginas visitadas y tiempo de permanencia"]},purposes_h:"3. Finalidades",purposes_list:["Ejecucin del contrato (pedidos, facturacin, servicios FBA, comunicaciones)","Obligaciones legales (contabilidad, impuestos, normativa de comercio electrnico)","Intereses legtimos (mejora del servicio, analtica, prevencin del fraude, marketing con consentimiento)"],recipients_h:"4. Destinatarios",recipients_p:"No vendemos ni alquilamos sus datos. Solo se comparten con transportistas, procesadores de pagos, hosting/cloud y autoridades cuando la ley lo requiera.",transfers_h:"5. Transferencias",transfers_p:"Si se requieren transferencias fuera de la UE/EEE, aplicamos garantas adecuadas (p. ej., SCC).",security_h:"6. Seguridad",security_list:["Cifrado en trnsito y, cuando proceda, en reposo","Autenticacin de dos factores","Acceso con mnimo privilegio","Supervisin y auditoras peridicas","Copias de seguridad y planes de recuperacin"],retention_h:"7. Conservacin",retention_list:["Datos de cuenta: mientras la cuenta est activa o mnimo 5 aos segn ley","Datos de facturacin: 10 aos","Datos de marketing: hasta retirar el consentimiento o mx. 3 aos desde la ltima interaccin"],rights_h:"8. Sus derechos",rights_list:["Acceso, rectificacin, supresin","Portabilidad","Oposicin y limitacin","Retirada del consentimiento","Reclamacin ante la autoridad de control"],children_h:"9. Menores",children_p:"Nuestros servicios no estn dirigidos a menores de 16 aos.",dpa_h:"10. Encargados del tratamiento",dpa_p:"Firmamos DPAs con procesadores conformes al RGPD.",cookies_h:"11. Cookies",cookies_p:"Usamos cookies esenciales, de rendimiento (analtica) y de marketing (con consentimiento). Detalles en el banner de cookies.",changes_h:"12. Cambios",changes_p:"Podemos actualizar esta poltica. La fecha de actualizacin aparece en la parte superior de la pgina."}}},ou={en:SR,fr:NR,de:kR,it:jR,es:AR,ro:CR},qy=(e,t)=>t.split(".").reduce((r,n)=>r&&r[n]!=null?r[n]:null,e),Ng=(e={},t={})=>{const r=Array.isArray(e)?e.slice():{...e};return Object.entries(t||{}).forEach(([n,i])=>{i&&typeof i=="object"&&!Array.isArray(i)&&e&&typeof e[n]=="object"&&!Array.isArray(e[n])?r[n]=Ng(e[n],i):r[n]=i}),r},qd=(e,t)=>e[t]?e[t]:t!=="fr"&&e.en?e.en:e.fr||e.en||Object.values(e).find(Boolean)||{},Jp=()=>{const{currentLanguage:e}=Dr();return{t:r=>{var n,i;return((n=ou==null?void 0:ou[e])==null?void 0:n[r])??((i=ou.en)==null?void 0:i[r])??r}}},RR=()=>{const{currentLanguage:e}=Dr(),t=qd(MR,e);return{t:n=>qy(t,n)??n}},DR=()=>{const{currentLanguage:e}=Dr(),t=qd(FR,e),r=a=>qy(t,a)??a;return{t:r,LA:a=>{const o=r(a);return Array.isArray(o)?o:[]},LO:a=>{const o=r(a);return o&&typeof o=="object"&&!Array.isArray(o)?o:{}}}},LR=(e,t={})=>typeof e=="string"?e.replace(/\{(\w+)\}/g,(r,n)=>t[n]??`{${n}}`):e,BR=[wR,Kj],qt=()=>{const{currentLanguage:e}=Dr(),t=w_.en||{},r=qd(w_,e)||{},n=e==="en"?t:Ng(t,r),i=BR.reduce((d,p)=>{const h=p.en||{},m=qd(p,e)||{},y=e==="en"?h:Ng(h,m);return p===Kj?(d.ClientReceiving=y,d):{...d,...y}},{}),a={...n,...i},o=d=>qy(a,d)??a[d]??d;return{t:o,tp:(d,p)=>LR(o(d),p),LA:d=>{const p=o(d);return Array.isArray(p)?p:[]},LO:d=>{const p=o(d);return p&&typeof p=="object"&&!Array.isArray(p)?p:{}}}};function qR(){const{t:e}=RR(),t=(o,l)=>o===l||o==null,r=o=>{const l=e(o);return t(l,o)?null:String(l)},n=o=>{const l=e(o);return t(l,o)?[]:Array.isArray(l)?l:typeof l=="string"&&l?[l]:[]},i=({h:o,p:l,list:c})=>{const u=r(o),d=l?r(l):null,p=c?n(c):[];return!u&&!d&&p.length===0?null:s.jsxs("section",{children:[u&&s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:u}),d&&s.jsx("p",{className:"text-text-secondary leading-relaxed",children:d}),p.length>0&&s.jsx("ul",{className:"list-disc list-inside text-text-secondary space-y-2",children:p.map((h,m)=>s.jsx("li",{children:h},m))})]})},a=[{key:"defs"},{key:"scope"},{key:"orders"},{key:"sla"},{key:"receiving"},{key:"packaging"},{key:"storage"},{key:"abandoned"},{key:"shipping"},{key:"insurance"},{key:"pricing",special:"pricing"},{key:"warranties"},{key:"liability"},{key:"force"},{key:"subcontractors"},{key:"confidentiality"},{key:"data"},{key:"notices"},{key:"law"},{key:"language"},{key:"severability"}];return s.jsx("div",{className:"min-h-screen py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(JF,{className:"w-16 h-16 text-primary mx-auto mb-4"}),s.jsx("h1",{className:"text-4xl font-bold text-text-primary mb-4",children:r("title")}),s.jsx("p",{className:"text-xl text-text-secondary",children:r("lastUpdated")})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 space-y-8",children:[a.map(({key:o,special:l})=>{if(l==="pricing"){const u=r("sections.pricing_h");return u?s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:u}),r("sections.pricing_intro")&&s.jsx("p",{className:"text-text-secondary",children:r("sections.pricing_intro")}),n("sections.pricing_list").length>0&&s.jsx("ul",{className:"list-disc list-inside text-text-secondary space-y-2",children:n("sections.pricing_list").map((d,p)=>s.jsx("li",{children:d},p))}),["pricing_nonrefund","pricing_extra","pricing_accept","pricing_notice"].map(d=>r(`sections.${d}`)?s.jsx("p",{className:"text-text-secondary",children:r(`sections.${d}`)},d):null)]},o):null}const c=`sections.${o}`;return s.jsx(i,{h:`${c}_h`,p:`${c}_p`,list:`${c}_list`},o)}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:r("sections.contact_h")}),s.jsxs("div",{className:"bg-primary-light bg-opacity-10 p-6 rounded-lg space-y-2",children:[r("sections.contact_intro")&&s.jsx("p",{className:"text-text-secondary",children:r("sections.contact_intro")}),r("sections.contact_email")&&s.jsx("p",{className:"text-text-secondary",children:s.jsx("strong",{children:r("sections.contact_email")})}),r("sections.contact_phone")&&s.jsx("p",{className:"text-text-secondary",children:s.jsx("strong",{children:r("sections.contact_phone")})}),r("sections.contact_addr")&&s.jsx("p",{className:"text-text-secondary",children:s.jsx("strong",{children:r("sections.contact_addr")})})]})]}),s.jsx(i,{h:"sections.updates_h",p:"sections.updates_p"})]})]})})}function S_(){const{currentLanguage:e,changeLanguage:t,languages:r}=Dr(),[n,i]=x.useState(!1),[a,o]=x.useState(e);x.useEffect(()=>{o(e)},[e]);const l=Object.entries(r).map(([d,p])=>({code:d,label:p.name,flag:p.flag})),c=l.find(d=>d.code===a)||l[0]||{flag:"",label:a},u=d=>{o(d),i(!1),t(d)};return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>i(d=>!d),className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-white hover:bg-gray-50 shadow-sm min-w-[140px] justify-between","aria-haspopup":"listbox","aria-expanded":n,"aria-label":"Select language",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(vF,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-lg leading-none",children:c.flag}),s.jsx("span",{className:"text-sm font-medium",children:c.label})]}),s.jsx("span",{className:"ml-1 text-xs text-gray-500",children:""})]}),n&&s.jsx("ul",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-lg shadow-lg max-h-80 overflow-auto z-50",role:"listbox",children:l.map(d=>s.jsxs("li",{role:"option","aria-selected":d.code===a,onClick:()=>u(d.code),className:`px-3 py-2 cursor-pointer hover:bg-gray-50 flex items-center gap-2 ${d.code===a?"bg-gray-50 font-medium":""}`,children:[s.jsx("span",{className:"text-lg leading-none",children:d.flag}),s.jsx("span",{className:"text-sm",children:d.label}),d.code===a?s.jsx("span",{className:"ml-auto text-primary",children:""}):null]},d.code))})]})}var kg=function(e,t){return kg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kg(e,t)};function Hj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ud=function(){return Ud=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ud.apply(this,arguments)};function go(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Gj(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function Zj(e,t){return function(r,n){t(r,n,e)}}function Qj(e,t,r,n,i,a){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p,h=!1,m=r.length-1;m>=0;m--){var y={};for(var f in n)y[f]=f==="access"?{}:n[f];for(var f in n.access)y.access[f]=n.access[f];y.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(v||null))};var g=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],y);if(l==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(p=o(g.get))&&(d.get=p),(p=o(g.set))&&(d.set=p),(p=o(g.init))&&i.unshift(p)}else(p=o(g))&&(l==="field"?i.unshift(p):d[c]=p)}u&&Object.defineProperty(u,n.name,d),h=!0}function Yj(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function Xj(e){return typeof e=="symbol"?e:"".concat(e)}function Jj(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function eA(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Pe(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(p){o(p)}}function c(d){try{u(n.throw(d))}catch(p){o(p)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function tA(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var em=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function rA(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&em(t,e,r)}function $d(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function nA(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Uy(arguments[t]));return e}function iA(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)n[i]=a[o];return n}function aA(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Js(e){return this instanceof Js?(this.v=e,this):new Js(e)}function sA(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(y){return Promise.resolve(y).then(m,p)}}function l(m,y){n[m]&&(i[m]=function(f){return new Promise(function(g,v){a.push([m,f,g,v])>1||c(m,f)})},y&&(i[m]=y(i[m])))}function c(m,y){try{u(n[m](y))}catch(f){h(a[0][3],f)}}function u(m){m.value instanceof Js?Promise.resolve(m.value.v).then(d,p):h(a[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function h(m,y){m(y),a.shift(),a.length&&c(a[0][0],a[0][1])}}function oA(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(o){return(r=!r)?{value:Js(e[i](o)),done:!1}:a?a(o):o}:a}}function lA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof $d=="function"?$d(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(l,c){o=e[a](o),i(l,c,o.done,o.value)})}}function i(a,o,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},o)}}function cA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var UR=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},jg=function(e){return jg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},jg(e)};function uA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=jg(e),n=0;n<r.length;n++)r[n]!=="default"&&em(t,e,r[n]);return UR(t,e),t}function dA(e){return e&&e.__esModule?e:{default:e}}function pA(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function mA(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function hA(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function fA(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var $R=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function gA(e){function t(a){e.error=e.hasError?new $R(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function vA(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?t?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):e}const VR={__extends:Hj,__assign:Ud,__rest:go,__decorate:Gj,__param:Zj,__esDecorate:Qj,__runInitializers:Yj,__propKey:Xj,__setFunctionName:Jj,__metadata:eA,__awaiter:Pe,__generator:tA,__createBinding:em,__exportStar:rA,__values:$d,__read:Uy,__spread:nA,__spreadArrays:iA,__spreadArray:aA,__await:Js,__asyncGenerator:sA,__asyncDelegator:oA,__asyncValues:lA,__makeTemplateObject:cA,__importStar:uA,__importDefault:dA,__classPrivateFieldGet:pA,__classPrivateFieldSet:mA,__classPrivateFieldIn:hA,__addDisposableResource:fA,__disposeResources:gA,__rewriteRelativeImportExtension:vA},WR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:fA,get __assign(){return Ud},__asyncDelegator:oA,__asyncGenerator:sA,__asyncValues:lA,__await:Js,__awaiter:Pe,__classPrivateFieldGet:pA,__classPrivateFieldIn:hA,__classPrivateFieldSet:mA,__createBinding:em,__decorate:Gj,__disposeResources:gA,__esDecorate:Qj,__exportStar:rA,__extends:Hj,__generator:tA,__importDefault:dA,__importStar:uA,__makeTemplateObject:cA,__metadata:eA,__param:Zj,__propKey:Xj,__read:Uy,__rest:go,__rewriteRelativeImportExtension:vA,__runInitializers:Yj,__setFunctionName:Jj,__spread:nA,__spreadArray:aA,__spreadArrays:iA,__values:$d,default:VR},Symbol.toStringTag,{value:"Module"})),KR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class $y extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class N_ extends $y{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class k_ extends $y{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class j_ extends $y{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ag;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ag||(Ag={}));class HR{constructor(t,{headers:r={},customFetch:n,region:i=Ag.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=KR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Pe(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const p=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let h;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:h,signal:c}).catch(v=>{throw v.name==="AbortError"?v:new N_(v)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new k_(m);if(!m.ok)throw new j_(m);let f=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield m.json():f==="application/octet-stream"||f==="application/pdf"?g=yield m.blob():f==="text/event-stream"?g=m:f==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null,response:m}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new N_(a)}:{data:null,error:a,response:a instanceof j_||a instanceof k_?a.context:void 0}}})}}var rr={};const vo=Gz(WR);var lu={},cu={},uu={},du={},pu={},mu={},A_;function yA(){if(A_)return mu;A_=1,Object.defineProperty(mu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return mu.default=e,mu}var C_;function xA(){if(C_)return pu;C_=1,Object.defineProperty(pu,"__esModule",{value:!0});const t=vo.__importDefault(yA());class r{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,p,h;let m=null,y=null,f=null,g=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const w=await c.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=w:y=JSON.parse(w))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");_&&S&&S.length>1&&(f=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,f=null,g=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await c.text();try{m=JSON.parse(_),Array.isArray(m)&&c.status===404&&(y=[],m=null,g=200,v="OK")}catch{c.status===404&&_===""?(g=204,v="No Content"):m={message:_}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,g=200,v="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:y,count:f,status:g,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,p;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(p=c==null?void 0:c.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}}return pu.default=r,pu}var P_;function bA(){if(P_)return du;P_=1,Object.defineProperty(du,"__esModule",{value:!0});const t=vo.__importDefault(xA());class r extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return du.default=r,du}var E_;function Vy(){if(E_)return uu;E_=1,Object.defineProperty(uu,"__esModule",{value:!0});const t=vo.__importDefault(bA()),r=new RegExp("[,()]");class n extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${u}fts${d}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}}return uu.default=n,uu}var T_;function _A(){if(T_)return cu;T_=1,Object.defineProperty(cu,"__esModule",{value:!0});const t=vo.__importDefault(Vy());class r{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},c=o?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(u.length>0){const d=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(p.length>0){const h=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return cu.default=r,cu}var z_;function GR(){if(z_)return lu;z_=1,Object.defineProperty(lu,"__esModule",{value:!0});const e=vo,t=e.__importDefault(_A()),r=e.__importDefault(Vy());class n{constructor(a,{headers:o={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let p;const h=new URL(`${this.url}/rpc/${a}`);let m;l||c?(p=l?"HEAD":"GET",Object.entries(o).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{h.searchParams.append(f,g)})):(p="POST",m=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:p,url:h,headers:y,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return lu.default=n,lu}Object.defineProperty(rr,"__esModule",{value:!0});var wA=rr.PostgrestError=zA=rr.PostgrestBuilder=EA=rr.PostgrestTransformBuilder=CA=rr.PostgrestFilterBuilder=jA=rr.PostgrestQueryBuilder=NA=rr.PostgrestClient=void 0;const yo=vo,SA=yo.__importDefault(GR());var NA=rr.PostgrestClient=SA.default;const kA=yo.__importDefault(_A());var jA=rr.PostgrestQueryBuilder=kA.default;const AA=yo.__importDefault(Vy());var CA=rr.PostgrestFilterBuilder=AA.default;const PA=yo.__importDefault(bA());var EA=rr.PostgrestTransformBuilder=PA.default;const TA=yo.__importDefault(xA());var zA=rr.PostgrestBuilder=TA.default;const OA=yo.__importDefault(yA());wA=rr.PostgrestError=OA.default;var IA=rr.default={PostgrestClient:SA.default,PostgrestQueryBuilder:kA.default,PostgrestFilterBuilder:AA.default,PostgrestTransformBuilder:PA.default,PostgrestBuilder:TA.default,PostgrestError:OA.default};const ZR=mN({__proto__:null,get PostgrestBuilder(){return zA},get PostgrestClient(){return NA},get PostgrestError(){return wA},get PostgrestFilterBuilder(){return CA},get PostgrestQueryBuilder(){return jA},get PostgrestTransformBuilder(){return EA},default:IA},[rr]),{PostgrestClient:QR,PostgrestQueryBuilder:VX,PostgrestFilterBuilder:WX,PostgrestTransformBuilder:KX,PostgrestBuilder:HX,PostgrestError:GX}=IA||ZR;class YR{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const XR="2.80.0",JR=`realtime-js/${XR}`,eD="1.0.0",Cg=1e4,tD=1e3,rD=100;var bl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bl||(bl={}));var yt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yt||(yt={}));var fn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fn||(fn={}));var Pg;(function(e){e.websocket="websocket"})(Pg||(Pg={}));var ba;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ba||(ba={}));class nD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class MA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ge||(Ge={}));const O_=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=iD(o,e,t,i),a),{}):{}},iD=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?FA(a,o):Eg(o)},FA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return lD(t,r)}switch(e){case Ge.bool:return aD(t);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return sD(t);case Ge.json:case Ge.jsonb:return oD(t);case Ge.timestamp:return cD(t);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Eg(t);default:return Eg(t)}},Eg=e=>e,aD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},oD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},lD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>FA(t,l))}return e},cD=e=>typeof e=="string"?e.replace(" ","T"):e,RA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Th{constructor(t,r,n={},i=Cg){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var I_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(I_||(I_={}));class _l{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_l.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=_l.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_l.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const p=a[u];if(p){const h=d.map(g=>g.presence_ref),m=p.map(g=>g.presence_ref),y=d.filter(g=>m.indexOf(g.presence_ref)<0),f=p.filter(g=>h.indexOf(g.presence_ref)<0);y.length>0&&(l[u]=y),f.length>0&&(c[u]=f)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const p=t[l].map(m=>m.presence_ref),h=d.filter(m=>p.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(M_||(M_={}));var wl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wl||(wl={}));var Hn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Hn||(Hn={}));class Wy{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Th(this,fn.join,this.params,this.timeout),this.rejoinTimer=new MA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fn.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new _l(this),this.broadcastEndpointURL=RA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[wl.PRESENCE]&&this.bindings[wl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Hn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Hn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){t==null||t(Hn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(y=f==null?void 0:f.length)!==null&&y!==void 0?y:0,v=[];for(let b=0;b<g;b++){const _=f[b],{filter:{event:S,schema:w,table:N,filter:j}}=_,O=m&&m[b];if(O&&O.event===S&&O.schema===w&&O.table===N&&O.filter===j)v.push(Object.assign(Object.assign({},_),{id:O.id}));else{this.unsubscribe(),this.state=yt.errored,t==null||t(Hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Hn.SUBSCRIBED);return}}).receive("error",m=>{this.state=yt.errored,t==null||t(Hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===yt.joined&&t===wl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Th(this,fn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Th(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=fn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,f,g;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(f=m.filter)===null||f===void 0?void 0:f.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var y,f,g,v,b,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,w=(y=m.filter)===null||y===void 0?void 0:y.event;return S&&((f=r.ids)===null||f===void 0?void 0:f.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const S=(b=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:f,table:g,commit_timestamp:v,type:b,errors:_}=y;h=Object.assign(Object.assign({},{schema:f,table:g,commit_timestamp:v,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Wy.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fn.close,{},t)}_onError(t){this._on(fn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=O_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=O_(t.columns,t.old_record)),r}}const zh=()=>{},hu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uD=[1e3,2e3,5e3,1e4],dD=1e4,pD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mD{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cg,this.transport=null,this.heartbeatIntervalMs=hu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zh,this.ref=0,this.reconnectTimer=null,this.logger=zh,this.conn=null,this.sendBuffer=[],this.serializer=new nD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Pg.websocket}`,this.httpEndpoint=RA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:eD}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bl.connecting:return ba.Connecting;case bl.open:return ba.Open;case bl.closing:return ba.Closing;default:return ba.Closed}}isConnected(){return this.connectionState()===ba.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Wy(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(tD,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([pD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:JR};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(fn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new MA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Cg,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:hu.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:zh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:p=>uD[p-1]||dD,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(p,h)=>h(JSON.stringify(p)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ky extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function at(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hD extends Ky{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tg extends Ky{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Hy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fD=()=>Response,zg=e=>{if(Array.isArray(e))return e.map(r=>zg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=zg(n)}),t},gD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Oh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},vD=(e,t,r)=>Pe(void 0,void 0,void 0,function*(){const n=yield fD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new hD(Oh(i),a,o))}).catch(i=>{t(new Tg(Oh(i),i))}):t(new Tg(Oh(e),e))}),yD=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(gD(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function yc(e,t,r,n,i,a){return Pe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,yD(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>vD(c,l,n))})})}function Zl(e,t,r,n){return Pe(this,void 0,void 0,function*(){return yc(e,"GET",t,r,n)})}function mn(e,t,r,n,i){return Pe(this,void 0,void 0,function*(){return yc(e,"POST",t,n,i,r)})}function Og(e,t,r,n,i){return Pe(this,void 0,void 0,function*(){return yc(e,"PUT",t,n,i,r)})}function xD(e,t,r,n){return Pe(this,void 0,void 0,function*(){return yc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Gy(e,t,r,n,i){return Pe(this,void 0,void 0,function*(){return yc(e,"DELETE",t,n,i,r)})}class bD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Pe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(at(t))return{data:null,error:t};throw t}})}}var DA;class _D{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[DA]="BlobDownloadBuilder",this.promise=null}asStream(){return new bD(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Pe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(at(t))return{data:null,error:t};throw t}})}}DA=Symbol.toStringTag;const wD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},F_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SD{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Hy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Pe(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},F_),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),p=yield(t=="PUT"?Og:mn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(at(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Pe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:F_.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield Og(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(at(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield mn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Ky("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}update(t,r,n){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Pe(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(at(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Pe(this,void 0,void 0,function*(){try{return{data:{path:(yield mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(at(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Pe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield mn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(at(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Pe(this,void 0,void 0,function*(){try{const i=yield mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(at(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>Zl(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new _D(c,this.shouldThrowOnError)}info(t){return Pe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:zg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}exists(t){return Pe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield xD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n)&&n instanceof Tg){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}list(t,r,n){return Pe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},wD),r),{prefix:t||""});return{data:yield mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(at(i))return{data:null,error:i};throw i}})}listV2(t,r){return Pe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield mn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const LA="2.80.0",BA={"X-Client-Info":`storage-js/${LA}`};class ND{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},BA),r),this.fetch=Hy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Pe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Zl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}getBucket(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Zl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}createBucket(t){return Pe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(at(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Pe(this,void 0,void 0,function*(){try{return{data:yield Og(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class kD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},BA),r),this.fetch=Hy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}listBuckets(t){return Pe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Zl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}}const Zy={"X-Client-Info":`storage-js/${LA}`,"Content-Type":"application/json"};class qA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function jr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ih extends qA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jD extends qA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var R_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(R_||(R_={}));const Qy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},D_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CD=(e,t,r)=>Pe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Ih(D_(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Ih(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Ih(l,i,o))}}else t(new jD(D_(e),e))}),PD=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(AD(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function ED(e,t,r,n,i,a){return Pe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,PD(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>CD(c,l,n))})})}function Ar(e,t,r,n,i){return Pe(this,void 0,void 0,function*(){return ED(e,"POST",t,n,i,r)})}class TD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zy),r),this.fetch=Qy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Pe(this,void 0,void 0,function*(){try{return{data:(yield Ar(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}})}listIndexes(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Pe(this,void 0,void 0,function*(){try{return{data:(yield Ar(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}})}}class zD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zy),r),this.fetch=Qy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Pe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ar(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}getVectors(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}listVectors(t){return Pe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ar(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}queryVectors(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Pe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ar(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}}class OD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zy),r),this.fetch=Qy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Pe(this,void 0,void 0,function*(){try{return{data:(yield Ar(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}getBucket(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}listBuckets(){return Pe(this,arguments,void 0,function*(t={}){try{return{data:yield Ar(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Pe(this,void 0,void 0,function*(){try{return{data:(yield Ar(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jr(r))return{data:null,error:r};throw r}})}}class ID extends OD{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new MD(this.url,this.headers,t,this.fetch)}}class MD extends TD{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Pe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Pe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Pe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Pe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new FD(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class FD extends zD{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Pe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Pe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Pe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Pe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Pe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class RD extends ND{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new SD(this.url,this.headers,t,this.fetch)}get vectors(){return new ID(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kD(this.url+"/iceberg",this.headers,this.fetch)}}const DD="2.80.0";let al="";typeof Deno<"u"?al="deno":typeof document<"u"?al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?al="react-native":al="node";const LD={"X-Client-Info":`supabase-js-${al}/${DD}`},BD={headers:LD},qD={schema:"public"},UD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$D={},VD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WD=()=>Headers,KD=(e,t,r)=>{const n=VD(r),i=WD();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))}};function HD(e){return e.endsWith("/")?e:e+"/"}function GD(e,t){var r,n;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:p}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function ZD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const UA="2.80.0",vs=30*1e3,Ig=3,Mh=Ig*vs,QD="http://localhost:9999",YD="supabase.auth.token",XD={"X-Client-Info":`gotrue-js/${UA}`},Mg="X-Supabase-Api-Version",$A={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e4=10*60*1e3;class Ql extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class t4 extends Ql{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function r4(e){return Ee(e)&&e.name==="AuthApiError"}class _a extends Ql{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class sa extends Ql{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class un extends sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function n4(e){return Ee(e)&&e.name==="AuthSessionMissingError"}class ls extends sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fu extends sa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gu extends sa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function i4(e){return Ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class L_ extends sa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fg extends sa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Fh(e){return Ee(e)&&e.name==="AuthRetryableFetchError"}class B_ extends sa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Rg extends sa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),q_=` 	
\r=`.split(""),a4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<q_.length;t+=1)e[q_[t].charCodeAt(0)]=-2;for(let t=0;t<Vd.length;t+=1)e[Vd[t].charCodeAt(0)]=t;return e})();function U_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vd[n]),t.queuedBits-=6}}function VA(e,t,r){const n=a4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $_(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{l4(o,n,r)};for(let o=0;o<e.length;o+=1)VA(e.charCodeAt(o),i,a);return t.join("")}function s4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function o4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}s4(n,t)}}function l4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qs(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)VA(e.charCodeAt(i),r,n);return new Uint8Array(t)}function c4(e){const t=[];return o4(e,r=>t.push(r)),new Uint8Array(t)}function ka(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>U_(i,r,n)),U_(null,r,n),t.join("")}function u4(e){return Math.round(Date.now()/1e3)+e}function d4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kt=()=>typeof window<"u"&&typeof document<"u",da={tested:!1,writable:!1},WA=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(da.tested)return da.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),da.tested=!0,da.writable=!0}catch{da.tested=!0,da.writable=!1}return da.writable};function p4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const KA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),m4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ys=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},pa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ai=async(e,t)=>{await e.removeItem(t)};class tm{constructor(){this.promise=new tm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}tm.promiseConstructor=Promise;function Rh(e){const t=e.split(".");if(t.length!==3)throw new Rg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!JD.test(t[n]))throw new Rg("JWT not in base64url format");return{header:JSON.parse($_(t[0])),payload:JSON.parse($_(t[1])),signature:qs(t[2]),raw:{header:t[0],payload:t[1]}}}async function h4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function f4(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function g4(e){return("0"+e.toString(16)).substr(-2)}function v4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,g4).join("")}async function y4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function x4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await y4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cs(e,t,r=!1){const n=v4();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ys(e,`${t}-code-verifier`,i);const a=await x4(n);return[a,n===a?"plain":"s256"]}const b4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _4(e){const t=e.headers.get(Mg);if(!t||!t.match(b4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function w4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function S4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const N4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function us(e){if(!N4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k4(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function V_(e){return JSON.parse(JSON.stringify(e))}const ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),j4=[502,503,504];async function W_(e){var t;if(!m4(e))throw new Fg(ga(e),0);if(j4.includes(e.status))throw new Fg(ga(e),e.status);let r;try{r=await e.json()}catch(a){throw new _a(ga(a),a)}let n;const i=_4(e);if(i&&i.getTime()>=$A["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new B_(ga(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new un}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new B_(ga(r),e.status,r.weak_password.reasons);throw new t4(ga(r),e.status||500,n)}const A4=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Oe(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Mg]||(a[Mg]=$A["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await C4(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function C4(e,t,r,n,i,a){const o=A4(t,n,i,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Fg(ga(c),0)}if(l.ok||await W_(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await W_(c)}}function dn(e){var t;let r=null;T4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=u4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function K_(e){const t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ri(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function P4(e){return{data:e,error:null}}function E4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=go(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function H_(e){return e}function T4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Lh=["global","local","others"];class z4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=KA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Lh[0]){if(Lh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lh.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ri})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=go(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:E4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ri})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:H_});if(d.error)throw d.error;const p=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const f=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=f}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){us(t);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ri})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){us(t);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ri})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){us(t);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ri})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){us(t.userId);try{const{data:r,error:n}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _deleteFactor(t){us(t.userId),us(t.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:H_});if(d.error)throw d.error;const p=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const f=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=f}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Ee(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}}function G_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ds={debug:!!(globalThis&&WA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class HA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class O4 extends HA{}async function I4(e,t,r){ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ds.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new O4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ds.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function M4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function GA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function F4(e){return parseInt(e,16)}function R4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function D4(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:p,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=GA(e.address),y=d?`${d}://${n}`:n,f=e.statement?`${e.statement}
`:"",g=`${y} wants you to sign in with your Ethereum account:
${m}

${f}`;let v=`URI: ${p}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}v+=b}return`${g}
${v}`}class ht extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Wd extends ht{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function L4({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(ZA(o)){if(a.rp.id!==o)return new ht({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function B4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ZA(n)){if(r.rpId!==n)return new ht({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class q4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const U4=new q4;function $4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=go(e,["challenge","user","excludeCredentials"]),a=qs(t).buffer,o=Object.assign(Object.assign({},r),{id:qs(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:qs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function V4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=go(e,["challenge","allowCredentials"]),i=qs(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:qs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function W4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ka(new Uint8Array(e.response.attestationObject)),clientDataJSON:ka(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function K4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ka(new Uint8Array(i.authenticatorData)),clientDataJSON:ka(new Uint8Array(i.clientDataJSON)),signature:ka(new Uint8Array(i.signature)),userHandle:i.userHandle?ka(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Z_(){var e,t;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function H4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",t)}:{data:null,error:new Wd("Empty credential response",t)}}catch(t){return{data:null,error:L4({error:t,options:e})}}}async function G4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",t)}:{data:null,error:new Wd("Empty credential response",t)}}catch(t){return{data:null,error:B4({error:t,options:e})}}}const Z4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Q4={userVerification:"preferred",hints:["security-key"]};function Kd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=Kd(l,o):n[a]=Kd(o)}else n[a]=o}return n}function Y4(e,t){return Kd(Z4,e,t||{})}function X4(e,t){return Kd(Q4,e,t||{})}class J4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=i??U4.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Y4(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:p}=await H4({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const u=X4(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:p}=await G4(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(o){return Ee(o)?{data:null,error:o}:{data:null,error:new _a("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new Ql("rpId is required for WebAuthn authentication")};try{if(!Z_())return{data:null,error:new _a("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ee(o)?{data:null,error:o}:{data:null,error:new _a("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new Ql("rpId is required for WebAuthn registration")};try{if(!Z_())return{data:null,error:new _a("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ee(o)?{data:null,error:o}:{data:null,error:new _a("Unexpected error in register",o)}}}}M4();const eL={url:QD,storageKey:YD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Q_(e,t,r){return await r()}const ps={};class Yl{get jwks(){var t,r;return(r=(t=ps[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ps[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ps[this.storageKey]=Object.assign(Object.assign({},ps[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},eL),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Yl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Kt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new z4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=KA(a.fetch),this.lock=a.lock||Q_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Kt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=I4:this.lock=Q_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new J4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:WA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=G_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=G_(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${UA}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Kt()&&(r=p4(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),i4(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ee(r)?this._returnResult({error:r}):this._returnResult({error:new _a("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:dn}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:p,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await cs(this.storage,this.storageKey)),a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:p,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:dn})}else if("phone"in t){const{phone:d,password:p,options:h}=t;a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:dn})}else throw new fu("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:K_})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:K_})}else throw new fu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new ls;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,l,c,u,d,p,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:f,wallet:g,statement:v,options:b}=t;let _;if(Kt())if(typeof g=="object")_=g;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")_=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),w=await _.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=GA(w[0]);let j=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const E=await _.request({method:"eth_chainId"});j=F4(E)}const O={domain:S.host,address:N,statement:v,uri:S.href,version:"1",chainId:j,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=D4(O),y=await _.request({method:"personal_sign",params:[R4(m),N]})}try{const{data:f,error:g}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:dn});if(g)throw g;if(!f||!f.session||!f.user){const v=new ls;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign({},f),error:g})}catch(f){if(Ee(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSolana(t){var r,n,i,a,o,l,c,u,d,p,h,m;let y,f;if("message"in t)y=t.message,f=t.signature;else{const{chain:g,wallet:v,statement:b,options:_}=t;let S;if(Kt())if(typeof v=="object")S=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const w=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let j;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")j=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)j=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),f=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((p=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",..._.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=N}}try{const{data:g,error:v}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ka(f)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:dn});if(v)throw v;if(!g||!g.session||!g.user){const b=new ls;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(Ee(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await pa(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:dn});if(await Ai(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new ls;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Ee(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,l=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:dn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ls;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await cs(this.storage,this.storageKey));const{error:p}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new fu("You must provide either an email or phone number.")}catch(l){if(Ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:dn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,o=null;this.flowType==="pkce"&&([a,o]=await cs(this.storage,this.storageKey));const l=await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:P4});return this._returnResult(l)}catch(a){if(Ee(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new un;const{error:i}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:l}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new fu("You must provide either an email or phone number and a type")}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Mh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await pa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Dh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=k4(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ri}):await this._useSession(async r=>{var n,i,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ri})})}catch(r){if(Ee(r))return n4(r)&&(await this._removeSession(),await Ai(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new un;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await cs(this.storage,this.storageKey));const{data:u,error:d}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ri});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(Ee(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new un;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Rh(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new un;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Kt())throw new gu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new L_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new L_("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new gu("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let h=d+p;c&&(h=parseInt(c));const m=h-d;m*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const y=h-p;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:f,error:g}=await this._getUser(a);if(g)throw g;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:h,refresh_token:o,token_type:u,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(Ee(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await pa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(r4(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ai(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=d4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await cs(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ee(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:p,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Kt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ee(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,p=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:dn}),{data:h,error:m}=p;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ls}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(Ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await f4(async i=>(i>0&&await h4(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Fh(a)&&Date.now()+o-n<vs})}catch(n){if(this._debug(r,"error",n),Ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await pa(this.storage,this.storageKey);if(i&&this.userStorage){let o=await pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ys(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Dh()}else if(i&&!i.user&&!i.user){const o=await pa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ai(this.storage,this.storageKey+"-user"),await ys(this.storage,this.storageKey,i)):i.user=Dh()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Mh;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Mh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Fh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tm;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new un;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ee(a)){const o={data:null,error:a};return Fh(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ys(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=V_(i);await ys(this.storage,this.storageKey,a)}else{const i=V_(r);await ys(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ai(this.storage,this.storageKey),await Ai(this.storage,this.storageKey+"-code-verifier"),await Ai(this.storage,this.storageKey+"-user"),this.userStorage&&await Ai(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vs}ms, refresh threshold is ${Ig} ticks`),i<=Ig&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof HA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await cs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?W4(t.webauthn.credential_response):K4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:V4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Rh(n.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new un})})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new un});const o=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Kt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new un});const o=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Kt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+e4>i)return n;const{data:a,error:o}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=Rh(n);r!=null&&r.allowExpired||w4(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:o},error:null}}const d=S4(i.alg),p=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,o,c4(`${l}.${c}`)))throw new Rg("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}}Yl.nextInstanceID={};const tL=Yl;class rL extends tL{constructor(t){super(t)}}class nL{constructor(t,r,n){var i,a,o;this.supabaseUrl=t,this.supabaseKey=r;const l=ZD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:qD,realtime:$D,auth:Object.assign(Object.assign({},UD),{storageKey:c}),global:BD},d=GD(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=KD(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new QR(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new RD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new HR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},p,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rL({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),p),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:l,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new mD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iL=(e,t,r)=>new nL(e,t,r);function aL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}aL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sL="tab",Y_="pcf-tab-id",oL=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`,xc=()=>{if(typeof window>"u")return sL;if(window.__PCF_TAB_ID)return window.__PCF_TAB_ID;let e=null;try{e=new URLSearchParams(window.location.search).get("tabId")}catch{e=null}if(!e)try{e=window.sessionStorage.getItem(Y_)}catch{e=null}e||(e=oL());try{window.sessionStorage.setItem(Y_,e)}catch{}return window.__PCF_TAB_ID=e,e},lL={session:{},local:{}},cL=e=>{if(typeof window>"u")return null;try{return window[`${e}Storage`]}catch{return null}},QA=e=>{const t=cL(e),r=lL[e],n=`${xc()}:`,i=a=>`${n}${a}`;return{getItem(a){const o=i(a);if(t)try{const l=t.getItem(o);if(l!=null)return l}catch{}return Object.prototype.hasOwnProperty.call(r,o)?r[o]:null},setItem(a,o){const l=i(a);if(t)try{t.setItem(l,o);return}catch{}r[l]=o},removeItem(a){const o=i(a);if(t)try{t.removeItem(o);return}catch{}delete r[o]}}},Xt=QA("session"),bc=QA("local"),rm=(e,t,r=null)=>{try{const n=e.getItem(t);return n?JSON.parse(n):r}catch{return r}},nm=(e,t,r)=>{try{e.setItem(t,JSON.stringify(r))}catch{}},YA="direct_to_amazon",uL="hold_for_prep",Xl=e=>e?YA:uL,dL=e=>typeof e!="string"?{isDirect:!1}:e===YA?{isDirect:!0}:{isDirect:!1},Sl=e=>{if(!e||typeof e!="object")return{hasIntent:!1,qty:0,qtyHint:null,directFromAction:!1};const t=dL(e.remaining_action),n=Object.prototype.hasOwnProperty.call(e,"send_to_fba")?!!e.send_to_fba:t.isDirect,i=Math.max(0,Number(e.fba_qty)||0);return{hasIntent:n,qty:n?i:0,qtyHint:null,directFromAction:t.isDirect}},XA="https://muswtkzjfrldhgokkmqw.supabase.co",JA=void 0;throw new Error("Supabase URL and Anon Key must be defined in .env file");const pL=typeof window>"u"?"tab":xc(),Q=iL(XA,JA,{auth:{storage:Xt,storageKey:`sb-${pL}`,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!1}}),Bh="https://prep-center.eu",Dg="Photo storage subscription",mL="Manual photo capture",X_=3,J_=1,ew=e=>String(e).padStart(2,"0"),Hd=(e=new Date)=>`${e.getFullYear()}-${ew(e.getMonth()+1)}-${ew(e.getDate())}`;let _c=!0,In=!0,im=!0,am=null;const Yy=(e,t)=>{if(!e)return!1;const r=t.toLowerCase();return[String(e.message||""),String(e.details||""),String(e.hint||"")].map(i=>i.toLowerCase()).some(i=>i.includes(r))},qh=e=>["send_to_fba","fba_qty","stock_item_id"].some(t=>Yy(e,t)),hL=e=>["tracking_ids","fba_shipment_ids"].some(t=>Yy(e,t)),Gd=e=>typeof e=="string"?e.trim():e??null,e2=async(e,t)=>{if(e.stock_item_id){const{data:l}=await Q.from("stock_items").select("*").eq("id",e.stock_item_id).maybeSingle();if(l)return l}if(e.ean_asin){const{data:l}=await Q.from("stock_items").select("*").eq("company_id",e.company_id).eq("ean",e.ean_asin).maybeSingle();if(l)return l}const r=Gd(e.asin);if(r){const{data:l}=await Q.from("stock_items").select("*").eq("company_id",e.company_id).eq("asin",r).maybeSingle();if(l)return l}const n=Gd(e.sku);if(n){const{data:l}=await Q.from("stock_items").select("*").eq("company_id",e.company_id).eq("sku",n).maybeSingle();if(l)return l}const i={company_id:e.company_id,ean:e.ean_asin,name:e.product_name,asin:r,sku:n,qty:0,purchase_price:e.purchase_price,created_by:t},{data:a,error:o}=await Q.from("stock_items").insert(i).select().single();if(o)throw o;return a},fL=async(e,t,r)=>{if(!t)return{error:null};const n=await e2(e,r);if(!n)return{error:new Error("Unable to resolve stock item")};const i=Number(n.qty||0),a=Math.max(0,i+t),{error:o}=await Q.from("stock_items").update({qty:a}).eq("id",n.id);if(o)return{error:o};const l=t>=0?"Auto sync from receiving":"Auto sync correction",{error:c}=await Q.from("receiving_to_stock_log").insert({receiving_item_id:e.id,stock_item_id:n.id,quantity_moved:Math.abs(t),moved_by:r,notes:l});return c?{error:c}:{error:null,stock_item_id:n.id}},gL=(e,t)=>{if(!e||!t)return!1;const r=t.toLowerCase();return[e.message,e.details,e.hint].map(n=>String(n||"").toLowerCase()).some(n=>n.includes("does not exist")&&n.includes(r))},vL=new Set(["processed","cancelled"]);async function yL(e,t){const[{data:r,error:n},{data:i,error:a}]=await Promise.all([Q.from("receiving_items").select("is_received").eq("shipment_id",e),Q.from("receiving_shipments").select("status, received_by").eq("id",e).single()]);if(n)return{error:n};if(a)return{error:a};const o=(i==null?void 0:i.status)||"submitted";if(vL.has(o))return{error:null};const l=r.length>0&&r.every(h=>h.is_received),c=r.some(h=>h.is_received);let u=o;l?u="received":c?u="partial":(o==="partial"||o==="received")&&(u="submitted");const d={};if(u!==o&&(d.status=u),u==="received"&&(d.received_by=t||(i==null?void 0:i.received_by)||null,d.received_at=new Date().toISOString()),Object.keys(d).length===0)return{error:null};const{error:p}=await Q.from("receiving_shipments").update(d).eq("id",e);return{error:p||null}}async function t2(e,t,r){if(!Array.isArray(t)||t.length===0)return{error:null};const n=new Date().toISOString(),{error:i}=await Q.from("receiving_items").update({is_received:!0,received_at:n,received_by:r||null}).in("id",t).eq("shipment_id",e);return i?{error:i}:await yL(e,r)}async function tw(e,t){const{data:r,error:n}=await Q.from("receiving_items").select("id").eq("shipment_id",e);if(n)return{error:n};const i=(r||[]).map(a=>a.id);if(i.length===0){const a={status:"received",received_at:new Date().toISOString(),received_by:t||null},{error:o}=await Q.from("receiving_shipments").update(a).eq("id",e);return{error:o||null}}return await t2(e,i,t)}const xL=e=>{if(!e||typeof e!="object")return e;let t=!1;const r={...e};return!_c&&Object.prototype.hasOwnProperty.call(r,"fba_mode")&&(delete r.fba_mode,t=!0),im||["tracking_ids","fba_shipment_ids"].forEach(n=>{Object.prototype.hasOwnProperty.call(r,n)&&(delete r[n],t=!0)}),t?r:e},Wo=e=>{if(In||!e||typeof e!="object")return e;const t={...e};return delete t.stock_item_id,delete t.send_to_fba,delete t.fba_qty,delete t.received_units,t},sl=async()=>(_c=!0,In=!0,im=!0,am=null,null),bL=()=>_c,_L=()=>In,wL=()=>im,r2=()=>{_c=!1,am=null},rd=()=>{In=!1,am=null},n2=()=>{im=!1,am=null},i2=(e=new Date)=>{const t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,1);return{start:Hd(t),next:Hd(r)}},SL=async e=>{if(!e)return[];const{data:t,error:r}=await Q.from("stock_items").select("id").eq("company_id",e);return r||!Array.isArray(t)?[]:t.map(n=>n.id)},a2=async e=>{if(!e)return 0;const t=await SL(e);if(!t.length)return 0;const{count:r,error:n}=await Q.from("product_images").select("id",{count:"exact",head:!0}).in("stock_item_id",t);return n?0:r||0},Xy=async e=>{if(!e)return;const{start:t,next:r}=i2(new Date),{data:n,error:i}=await Q.from("other_lines").select("id").eq("company_id",e).eq("service",Dg).gte("service_date",t).lt("service_date",r).limit(1);i||n&&n.length||await Q.from("other_lines").insert({company_id:e,service:Dg,service_date:Hd(new Date),unit_price:X_,units:1,total:X_,obs_admin:"Auto photo subscription"})},s2=async e=>{if(!e)return;const{start:t,next:r}=i2(new Date);await Q.from("other_lines").delete().eq("company_id",e).eq("service",Dg).gte("service_date",t).lt("service_date",r)},NL=async({companyId:e,uploads:t=1,stockItemName:r,stockItemAsin:n})=>{!e||t<=0||await Q.from("other_lines").insert({company_id:e,service:mL,service_date:Hd(new Date),unit_price:J_,units:t,total:J_*t,obs_admin:r?`Produs: ${r}${n?`  ASIN: ${n}`:""}`:n?`ASIN: ${n}`:null})},kL=async({companyId:e,uploadedByAdmin:t,uploadedCount:r=0,stockItemName:n,stockItemAsin:i})=>{e&&(await Xy(e),t&&r>0&&await NL({companyId:e,uploads:1,stockItemName:n,stockItemAsin:i}))},jL=async e=>{if(!e)return;await a2(e)>0?await Xy(e):await s2(e)};async function AL(e,t){var c;const r=((c=t.name.split(".").pop())==null?void 0:c.toLowerCase())||"mp4",n=`${e}-${Date.now()}.${r}`,i=`${e}/${n}`,{error:a}=await Q.storage.from("user-guides").upload(i,t,{cacheControl:"3600",upsert:!0,contentType:t.type||"video/mp4"});if(a)return{data:null,error:a};const{data:o,error:l}=await Q.from("user_guides").upsert({section:e,video_path:i,source_type:"upload"},{onConflict:"section"}).select().single();return{data:o,error:l}}async function CL(e,t=3600){const{data:r,error:n}=await Q.storage.from("user-guides").createSignedUrl(e,t);return n?{data:null,error:n}:{data:{signedUrl:r.signedUrl},error:null}}const he={adjustInventoryForReceiving:async(e,t,r)=>fL(e,t,r),uploadUserGuideVideo:AL,getUserGuideSignedUrl:CL,async getUserGuides(){return await Q.from("user_guides").select("*").order("section")},async getUserGuideBySection(e){const{data:t,error:r}=await Q.from("user_guides").select("section, video_url, video_path, source_type").eq("section",e).maybeSingle();return r&&r.code!=="PGRST116"?{data:null,error:r}:{data:t||null,error:null}},async upsertUserGuide({section:e,video_url:t}){return await Q.from("user_guides").upsert({section:e,video_url:t},{onConflict:"section"})},async deleteUserGuide(e){return await Q.from("user_guides").delete().eq("section",e)},signUp:async(e,t,r)=>{const n=`${Bh}/auth/callback?next=/admin-login`;return await Q.auth.signUp({email:e,password:t,options:{data:r,emailRedirectTo:n}})},listCompanyDeals:async e=>await Q.from("company_deals").select("*").eq("company_id",e).eq("active",!0).order("created_at",{ascending:!1}),createCompanyDeal:async({company_id:e,title:t,amount:r,currency:n="EUR"})=>await Q.from("company_deals").insert({company_id:e,title:t,amount:r,currency:n,active:!0}).select().single(),deleteCompanyDeal:async e=>await Q.from("company_deals").update({active:!1}).eq("id",e),resendConfirmation:async e=>{const t=`${Bh}/auth/callback?next=/admin-login`;return await Q.auth.resend({type:"signup",email:e,options:{emailRedirectTo:t}})},signIn:async(e,t)=>await Q.auth.signInWithPassword({email:e,password:t}),signOut:async()=>await Q.auth.signOut(),resetPassword:async e=>await Q.auth.resetPasswordForEmail(e,{redirectTo:`${Bh}/reset-password`}),getProfile:async e=>await Q.from("profiles").select("*").eq("id",e).single(),updateProfile:async(e,t)=>await Q.from("profiles").update(t).eq("id",e).select(),getContent:async()=>{const{data:e,error:t}=await Q.from("content").select("*").eq("id","00000000-0000-0000-0000-000000000001").single();return{data:e,error:t}},updateContent:async e=>await Q.from("content").update(e).eq("id","00000000-0000-0000-0000-000000000001"),getPricing:async()=>{const{data:e,error:t}=await Q.from("pricing").select("*").eq("id","00000000-0000-0000-0000-000000000001").single();return{data:e,error:t}},updatePricing:async e=>await Q.from("pricing").update(e).eq("id","00000000-0000-0000-0000-000000000001"),getPricingServices:async()=>await Q.from("pricing_services").select("*").order("category",{ascending:!0}).order("position",{ascending:!0}),upsertPricingServices:async e=>await Q.from("pricing_services").upsert(e,{onConflict:"id"}).select(),deletePricingServices:async e=>!Array.isArray(e)||e.length===0?{data:null,error:null}:await Q.from("pricing_services").delete().in("id",e),getFbmShippingRates:async()=>await Q.from("fbm_shipping_rates").select("*").order("category").order("region").order("position"),upsertFbmShippingRates:async e=>await Q.from("fbm_shipping_rates").upsert(e,{onConflict:"id"}).select(),deleteFbmShippingRates:async e=>!Array.isArray(e)||e.length===0?{data:null,error:null}:await Q.from("fbm_shipping_rates").delete().in("id",e),getServices:async()=>await Q.from("services").select("*").eq("active",!0).order("title"),createService:async e=>await Q.from("services").insert(e),updateService:async(e,t)=>await Q.from("services").update(t).eq("id",e),deleteService:async e=>await Q.from("services").delete().eq("id",e),getReviews:async()=>await Q.from("reviews").select("*").order("created_at",{ascending:!1}),createReview:async e=>await Q.from("reviews").insert(e),deleteReview:async e=>await Q.from("reviews").delete().eq("id",e),getBillingProfiles:async e=>await Q.from("billing_profiles").select("*").eq("user_id",e).order("created_at",{ascending:!1}),createBillingProfile:async e=>await Q.from("billing_profiles").insert(e),updateBillingProfile:async(e,t)=>await Q.from("billing_profiles").update(t).eq("id",e),deleteBillingProfile:async e=>await Q.from("billing_profiles").delete().eq("id",e),seedBillingProfilesFromSignup:async e=>{if(!e)return{error:new Error("Missing user id")};const{data:t,error:r}=await Q.from("profiles").select("first_name,last_name,account_type,company_name,cui,vat_number,company_address,company_city,company_postal_code,phone,country").eq("id",e).single();if(r||!t)return{error:r};const n=[],i={country:t.country||"FR",address:t.company_address||null,city:t.company_city||null,postal_code:t.company_postal_code||null,phone:t.phone||null};if((t.company_name||t.cui||t.vat_number||i.address||i.city||i.postal_code)&&n.push({user_id:e,type:"company",company_name:t.company_name||null,vat_number:t.vat_number||null,cui:t.cui||null,first_name:t.first_name||null,last_name:t.last_name||null,...i,is_default:!0}),(t.first_name||t.last_name)&&n.push({user_id:e,type:"individual",first_name:t.first_name||null,last_name:t.last_name||null,...i,is_default:n.length===0}),!n.length)return{data:[],error:null};const{error:o}=await Q.from("billing_profiles").insert(n);return{error:o||null}},getInvoices:async e=>{const{data:t}=await Q.from("profiles").select("company_id").eq("id",e).single();return t!=null&&t.company_id?await Q.from("invoices").select("*").eq("company_id",t.company_id).order("issue_date",{ascending:!1}):{data:[],error:null}},uploadInvoice:async(e,t,r)=>{try{let n=null;if(e){const o=e.name.split(".").pop(),c=`${String(r.invoice_number||"").normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^A-Za-z0-9-_]/g,"_").slice(0,100)}-${Date.now()}.${o}`;n=`${t}/${c}`;const{error:u}=await Q.storage.from("invoices").upload(n,e,{contentType:"application/pdf",upsert:!0,cacheControl:"3600"});if(u)throw u}const{data:i,error:a}=await Q.from("invoices").insert({...r,file_path:n}).select().single();return{data:i,error:a}}catch(n){return{data:null,error:n}}},updateInvoice:async(e,t)=>await Q.from("invoices").update(t).eq("id",e),deleteInvoice:async e=>{try{e.file_path&&await Q.storage.from("invoices").remove([e.file_path]);const{error:t}=await Q.from("invoices").delete().eq("id",e.id);return{error:t}}catch(t){return{error:t}}},downloadInvoice:async e=>{const{data:t,error:r}=await Q.storage.from("invoices").download(e);return{data:t,error:r}},getInvoiceSignedUrl:async(e,t=60)=>await Q.storage.from("invoices").createSignedUrl(e,t),listFbaLinesByCompany:async e=>await Q.from("fba_lines").select("*").eq("company_id",e).order("service_date",{ascending:!1}),listFbmLinesByCompany:async e=>await Q.from("fbm_lines").select("*").eq("company_id",e).order("service_date",{ascending:!1}),listOtherLinesByCompany:async e=>await Q.from("other_lines").select("*").eq("company_id",e).order("service_date",{ascending:!1}),createOtherLine:async e=>await Q.from("other_lines").insert(e).select().single(),updateOtherLine:async(e,t)=>await Q.from("other_lines").update(t).eq("id",e),deleteOtherLine:async e=>await Q.from("other_lines").delete().eq("id",e),listStockByCompany:async e=>await Q.from("stock_items").select("*").eq("company_id",e).order("created_at",{ascending:!1}),updateStockItem:async(e,t)=>await Q.from("stock_items").update(t).eq("id",e),listProductImages:async e=>await Q.from("product_images").select("*").eq("stock_item_id",e).order("created_at"),addProductImage:async({stock_item_id:e,storage_path:t,uploaded_by:r})=>await Q.from("product_images").insert({stock_item_id:e,storage_path:t,uploaded_by:r}).select().single(),deleteProductImage:async e=>await Q.from("product_images").delete().eq("id",e),countCompanyProductPhotos:a2,ensurePhotoSubscriptionLine:Xy,removePhotoSubscriptionLine:s2,handlePhotoUploadBilling:kL,syncPhotoSubscription:jL,createPrepRequestDraft:async e=>{var t,r;try{const{data:n,error:i}=await Q.from("prep_requests").insert({company_id:e.company_id,user_id:e.user_id??((r=(t=(await Q.auth.getUser()).data)==null?void 0:t.user)==null?void 0:r.id)??null,destination_country:e.destination_country||e.country,status:"pending"}).select().single();if(i)throw i;if(!(n!=null&&n.id))throw new Error("Prep request insert returned no id");const a=(e.items||[]).map(l=>({prep_request_id:n.id,stock_item_id:l.stock_item_id??null,ean:l.ean??null,product_name:l.product_name??null,asin:(l.asin??"").trim()||null,sku:(l.sku??"").trim()||null,units_requested:Number(l.units_requested!=null?l.units_requested:l.units)}));if(a.length===0)throw new Error("No items to insert for prep request");const{error:o}=await Q.from("prep_request_items").insert(a);if(o)throw o;return{data:n,error:null}}catch(n){return{data:null,error:n}}},createPrepRequest(e){return this.createPrepRequestDraft(e)},listClientPrepRequests:async e=>await Q.from("prep_requests").select(`
        *,
        prep_request_items (*),
        prep_request_tracking (*)
      `).eq("company_id",e).order("created_at",{ascending:!1}),listPrepRequests:async(e={})=>{let t=Q.from("prep_requests").select(`
        *,
        profiles(first_name, last_name, email, company_name, store_name),
        companies(name),
        prep_request_items(*),
        prep_request_tracking(*)
      `,{count:"exact"});if(e.status&&(t=t.eq("status",e.status)),e.page&&e.pageSize){const c=(e.page-1)*e.pageSize,u=c+e.pageSize-1;t=t.range(c,u)}t=t.order("created_at",{ascending:!1});const{data:r,error:n,count:i}=await t;if(n)return{data:[],error:n,count:0};const a=new Set;(r||[]).forEach(c=>{(c.prep_request_items||[]).forEach(u=>{u.stock_item_id&&a.add(u.stock_item_id)})});let o={};if(a.size>0){const{data:c}=await Q.from("stock_items").select("id, name, ean, sku, asin").in("id",Array.from(a));o=Object.fromEntries((c||[]).map(u=>[u.id,u]))}return{data:(r||[]).map(c=>{var y,f,g,v,b,_;const u=((y=c.profiles)==null?void 0:y.first_name)||"",d=((f=c.profiles)==null?void 0:f.last_name)||"",p=((g=c.profiles)==null?void 0:g.company_name)||null,h=((v=c.profiles)==null?void 0:v.store_name)||null,m=((b=c.companies)==null?void 0:b.name)||null;return{...c,prep_request_items:(c.prep_request_items||[]).map(S=>({...S,stock_item:o[S.stock_item_id]||null})),client_name:[u,d].filter(Boolean).join(" ").trim(),user_email:(_=c.profiles)==null?void 0:_.email,client_company_name:p||m||null,company_name:h||m||p||null,store_name:h||null}}),error:null,count:i}},getPrepRequest:async e=>{var o,l,c,u,d,p;const{data:t,error:r}=await Q.from("prep_requests").select(`
        *,
        profiles(first_name, last_name, email, company_name, store_name),
        companies(name),
        prep_request_items(*),
        prep_request_tracking(*)
      `).eq("id",e).single();if(r)return{data:null,error:r};let n={};const i=(t.prep_request_items||[]).map(h=>h.stock_item_id).filter(Boolean);if(i.length>0){const{data:h}=await Q.from("stock_items").select("id, name, ean, sku, asin").in("id",i);n=Object.fromEntries((h||[]).map(m=>[m.id,m]))}return{data:{...t,prep_request_items:(t.prep_request_items||[]).map(h=>({...h,stock_item:n[h.stock_item_id]||null})),client_name:[(o=t.profiles)==null?void 0:o.first_name,(l=t.profiles)==null?void 0:l.last_name].filter(Boolean).join(" "),user_email:(c=t.profiles)==null?void 0:c.email,company_name:((u=t.profiles)==null?void 0:u.store_name)||((d=t.companies)==null?void 0:d.name)||((p=t.profiles)==null?void 0:p.company_name)},error:null}},deletePrepRequest:async e=>{const{error:t}=await Q.rpc("admin_delete_prep_request",{p_request_id:e});if(!t)return{error:null};if(!((t==null?void 0:t.message)&&t.message.toLowerCase().includes("admin_delete_prep_request")))return{error:t};const{data:n,error:i}=await Q.from("prep_request_items").select("id").eq("prep_request_id",e);if(i)return{error:i};const a=(n||[]).map(u=>u.id).filter(Boolean);if(a.length>0){const{error:u}=await Q.from("prep_request_boxes").delete().in("prep_request_item_id",a);if(u&&!gL(u,"prep_request_boxes"))return{error:u}}const{error:o}=await Q.from("prep_request_tracking").delete().eq("request_id",e);if(o)return{error:o};const{error:l}=await Q.from("prep_request_items").delete().eq("prep_request_id",e);if(l)return{error:l};const{error:c}=await Q.from("prep_requests").delete().eq("id",e);return{error:c}},setFbaShipmentId:async(e,t)=>await Q.from("prep_requests").update({fba_shipment_id:t}).eq("id",e),updatePrepHeader:async(e,t)=>await Q.from("prep_requests").update(t).eq("id",e),addTrackingId:async(e,t)=>await Q.from("prep_request_tracking").insert({request_id:e,tracking_id:t}),removeTrackingId:async e=>await Q.from("prep_request_tracking").delete().eq("id",e),updatePrepItem:async(e,t)=>{const{data:r,error:n}=await Q.from("prep_request_items").update(t).eq("id",e).select().single();return{data:r,error:n}},createPrepItem:async(e,t)=>{const{data:r,error:n}=await Q.from("prep_request_items").insert({prep_request_id:e,stock_item_id:t.stock_item_id??null,ean:t.ean??null,product_name:t.product_name??null,asin:(t.asin??"").trim()||null,sku:(t.sku??"").trim()||null,units_requested:Number(t.units_requested)}).select().single();return{data:r,error:n}},deletePrepItem:async e=>{const{data:t,error:r}=await Q.from("prep_request_items").delete().eq("id",e).select();return{data:t,error:r}},getPrepRequestBoxes:async(e=[])=>{if(!Array.isArray(e)||e.length===0)return{data:[],error:null};const t=new Date(Date.now()-24*60*60*1e3).toISOString();return await Q.from("prep_request_boxes").select("id, prep_request_item_id, box_number, units, updated_at").in("prep_request_item_id",e).gte("updated_at",t)},savePrepRequestBoxes:async(e,t=[])=>{if(!e)return{error:new Error("Missing prep request item id")};const{error:r}=await Q.from("prep_request_boxes").delete().eq("prep_request_item_id",e);if(r)return{error:r};if(!Array.isArray(t)||t.length===0)return{error:null};const n=t.map(o=>({prep_request_item_id:e,box_number:o.boxNumber,units:o.units})),{error:i}=await Q.from("prep_request_boxes").insert(n);if(i)return{error:i};const a=new Date(Date.now()-24*60*60*1e3).toISOString();return await Q.from("prep_request_boxes").delete().lt("updated_at",a),{error:null}},bulkUpdatePrepItems:async e=>{var i;const t=e.map(a=>Q.from("prep_request_items").update({units_sent:a.units_sent,obs_admin:a.obs_admin}).eq("id",a.id));return{error:(i=(await Promise.all(t)).find(a=>a.error))==null?void 0:i.error}},confirmPrepRequestV2:async(e,t)=>{const{data:r,error:n}=await Q.rpc("confirm_prep_request_v2",{p_request_id:e,p_admin_id:t});return{data:r,error:n}},setPrepStatus:async(e,t)=>await Q.from("prep_requests").update({status:t}).eq("id",e),sendPrepConfirmationEmail:async e=>{try{const t=await fetch(`${XA}/functions/v1/send_prep_confirm_email`,{method:"POST",headers:{Authorization:`Bearer ${JA}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.text();throw new Error(`Email service error: ${r}`)}return{error:null}}catch(t){return{error:t}}},trackVisit:async e=>{var t;try{const r={path:(e==null?void 0:e.path)||((t=window==null?void 0:window.location)==null?void 0:t.pathname)||"/",referrer:(e==null?void 0:e.referrer)||(document==null?void 0:document.referrer)||null};await Q.from("analytics_visits").insert(r)}catch(r){console.error("Analytics error:",r)}},getAnalytics:async(e={})=>{try{const t=e.days||30,r=new Date;r.setDate(r.getDate()-t);const[n,i,a]=await Promise.all([Q.from("analytics_visits").select("created_at").gte("created_at",r.toISOString()),Q.from("analytics_visits").select("path").gte("created_at",r.toISOString()),Q.from("analytics_visits").select("referrer").gte("created_at",r.toISOString())]);return{byDay:n.data||[],topPaths:i.data||[],topReferrers:a.data||[],error:n.error||i.error||a.error}}catch(t){return{byDay:[],topPaths:[],topReferrers:[],error:t}}},getPeriodBalances:async(...e)=>{let t,r,n;e.length===4?[,t,r,n]=e:[t,r,n]=e;const{data:i,error:a}=await Q.rpc("get_period_balances",{p_company_id:t,p_start_date:r,p_end_date:n});return{data:Array.isArray(i)?i[0]:i,error:a}},getCarriers:async()=>await Q.from("carriers").select("*").eq("active",!0).order("sort_order"),createReceivingShipment:async e=>{const t={...e,tracking_ids:e.tracking_ids||(e.tracking_id?[e.tracking_id]:[])},{data:r,error:n}=await Q.from("receiving_shipments").insert(t).select().single();return{data:r,error:n}},getClientReceivingShipments:async e=>{const{data:t,error:r}=await Q.from("receiving_shipments").select(`
        *,
        receiving_items(*, stock_item:stock_items(*)),
        receiving_shipment_items(*)
      `).eq("company_id",e).order("created_at",{ascending:!1});if(r)return{data:[],error:r};const n=t||[],i=n.filter(l=>!l.receiving_items||l.receiving_items.length===0).map(l=>l.id).filter(Boolean),a={};if(i.length>0){const{data:l}=await Q.from("receiving_items").select("*").in("shipment_id",i);(l||[]).forEach(u=>{var d;u!=null&&u.shipment_id&&(a[d=u.shipment_id]||(a[d]=[])).push(u)});const c=i.filter(u=>!(a[u]&&a[u].length));if(c.length>0){const{data:u}=await Q.from("receiving_shipment_items").select("*").in("shipment_id",c);(u||[]).forEach(d=>{var p;d!=null&&d.shipment_id&&(a[p=d.shipment_id]||(a[p]=[])).push({...d,quantity_received:d.quantity_received??d.quantity??d.qty??d.requested??0,received_units:d.received_units??d.quantity_received??d.quantity??0})})}}return{data:n.map(l=>{const c=l.receiving_shipment_items||[],u=l.receiving_items||[],d=a[l.id]||[],p=u.length>0?u:d.length>0?d:c,{receiving_shipment_items:h,receiving_items:m,...y}=l;return{...y,receiving_items:p}}),error:null}},updateReceivingShipment:async(e,t)=>{await sl();const r=async i=>{const{error:a}=await Q.from("receiving_shipments").update(i).eq("id",e);if(a)throw a},n={...t};for(;;){const i=xL(n);try{await r(i);break}catch(a){if(_c&&Yy(a,"fba_mode")){r2();continue}if(hL(a)){n2();continue}throw a}}},deleteReceivingShipment:async e=>await Q.from("receiving_shipments").delete().eq("id",e),createReceivingItems:async e=>{await sl();const r=(Array.isArray(e)?e:[e]).reduce((l,c)=>{var u;if(!c.shipment_id)throw new Error("Missing shipment_id on receiving item");return(l[u=c.shipment_id]||(l[u]=[])).push(c),l},{}),n=[];for(const[l,c]of Object.entries(r)){const{data:u}=await Q.from("receiving_items").select("line_number").eq("shipment_id",l).order("line_number",{ascending:!1}).limit(1).maybeSingle();let d=((u==null?void 0:u.line_number)??0)+1;for(const p of c)n.push({...p,line_number:d++})}const i=()=>n.map(l=>In?l:Wo(l)),a=async l=>{const{data:c,error:u}=await Q.from("receiving_items").insert(l).select("*");if(u)throw u;return c};let o=i();try{return await a(o)}catch(l){if(In&&qh(l))return rd(),o=i(),await a(o);throw l}},updateReceivingItem:async(e,t)=>{await sl();const r=async i=>{const{error:a}=await Q.from("receiving_items").update(i).eq("id",e);if(a)throw a};let n={...t};In||(n=Wo(n));try{await r(n)}catch(i){if(In&&qh(i))rd(),n=Wo(n),await r(n);else throw i}},deleteReceivingItem:async e=>await Q.from("receiving_items").delete().eq("id",e),getReceivingItems:async e=>await Q.from("receiving_items").select("*").eq("shipment_id",e).order("line_number"),deleteReceivingItemsByShipment:async e=>{const{data:t,error:r}=await Q.from("receiving_items").delete().eq("shipment_id",e);return{data:t,error:r}},getAllReceivingShipments:async(e={})=>{const t=e.page?(e.page-1)*(e.pageSize||20):0,r=t+((e.pageSize||20)-1);let n=Q.from("receiving_shipments").select(`
      *,
      companies:companies(name),
      receiving_shipment_items(*),
      receiving_items(*)
    `,{count:"exact"}).order("created_at",{ascending:!1}).range(t,r);e.status&&(n=n.eq("status",e.status)),e.companyId&&(n=n.eq("company_id",e.companyId));const{data:i,error:a,count:o}=await n;if(a)return{data:[],error:a,count:0};const l=[...new Set((i||[]).map(f=>f.user_id).filter(Boolean))];let c={};if(l.length>0){const{data:f}=await Q.from("profiles").select("id, store_name, first_name, last_name, email").in("id",l);c=Object.fromEntries((f||[]).map(g=>[g.id,g]))}const u=i||[],d=u.filter(f=>!f.receiving_items||f.receiving_items.length===0).map(f=>f.id).filter(Boolean),p={};if(d.length>0){const{data:f}=await Q.from("receiving_items").select("*").in("shipment_id",d);(f||[]).forEach(v=>{var b;v!=null&&v.shipment_id&&(p[b=v.shipment_id]||(p[b]=[])).push(v)});const g=d.filter(v=>!(p[v]&&p[v].length));if(g.length>0){const{data:v}=await Q.from("receiving_shipment_items").select("*").in("shipment_id",g);(v||[]).forEach(b=>{var _;b!=null&&b.shipment_id&&(p[_=b.shipment_id]||(p[_]=[])).push({...b,quantity_received:b.quantity_received??b.quantity??b.qty??b.requested??0,received_units:b.received_units??b.quantity_received??b.quantity??0})})}}const h=new Set;u.forEach(f=>{(f.receiving_shipment_items||[]).forEach(g=>{g.stock_item_id&&h.add(g.stock_item_id)}),(f.receiving_items||[]).forEach(g=>{g.stock_item_id&&h.add(g.stock_item_id)}),(p[f.id]||[]).forEach(g=>{g.stock_item_id&&h.add(g.stock_item_id)})});let m={};if(h.size>0){const{data:f}=await Q.from("stock_items").select("id, asin, name, sku").in("id",Array.from(h));m=Object.fromEntries((f||[]).map(g=>[g.id,g]))}return{data:u.map(f=>{const g=p[f.id]||[],v=[...f.receiving_shipment_items||[],...f.receiving_items||[],...g],{companies:b,receiving_shipment_items:_,receiving_items:S,...w}=f,N=c[f.user_id]||{};return{...w,receiving_items:v.map(j=>({...j,stock_item:m[j.stock_item_id]||null})),produits_count:v.length,store_name:w.client_store_name||N.store_name||w.client_name||null,client_name:N.store_name||[N.first_name,N.last_name].filter(Boolean).join(" ")||w.client_name||null,client_email:N.email||w.user_email||null,company_name:(b==null?void 0:b.name)||null}}),error:null,count:o}},markReceivingItemsAsReceived:async(e,t=[],r)=>await t2(e,t,r),markReceivingAsReceived:(e,t)=>tw(e,t),markMultipleAsReceived:async(e=[],t)=>{for(const r of e||[]){const n=await tw(r,t);if(n!=null&&n.error)return n}return{error:null}},processReceivingToStock:async(e,t,r,n={})=>{try{const i=n||{};await sl();const{data:a,error:o}=await Q.from("receiving_shipments").select("id, company_id, user_id, destination_country").eq("id",e).single();if(o)throw o;const l=[];for(const c of r){const u={...c,company_id:c.company_id||a.company_id},d=Math.max(0,Number(u.received_units!=null?u.received_units:u.quantity_received||0)),p=Sl(u);let h=p.hasIntent?Math.max(0,Number(p.qty)||0):0;p.hasIntent&&h===0&&p.directFromAction&&(h=d),h>d&&(h=d);const m=Math.max(0,d-h),y=await e2(u,t),f=Gd(u.asin),g=Gd(u.sku),v=(y==null?void 0:y.id)||null;if(m>0&&y){const N={qty:Number(y.qty||0)+m};u.purchase_price!=null&&u.purchase_price!==y.purchase_price&&(N.purchase_price=u.purchase_price),u.product_name&&u.product_name!==y.name&&(N.name=u.product_name),f&&f!==y.asin&&(N.asin=f),g&&g!==y.sku&&(N.sku=g),await Q.from("stock_items").update(N).eq("id",y.id),await Q.from("receiving_to_stock_log").insert({receiving_item_id:u.id,stock_item_id:y.id,quantity_moved:m,moved_by:t,notes:"Processed from receiving shipment"})}const b=async w=>{const{error:N}=await Q.from("receiving_items").update(w).eq("id",u.id);if(N)throw N},_=p.hasIntent&&h>0;let S={stock_item_id:v,quantity_to_stock:m,remaining_action:Xl(_,h||p.qtyHint),send_to_fba:_,fba_qty:h};In||(S=Wo(S));try{await b(S)}catch(w){if(In&&qh(w))rd(),S=Wo(S),await b(S);else throw w}_&&v&&l.push({stock_item_id:v,ean:(y==null?void 0:y.ean)||u.ean_asin||null,product_name:(y==null?void 0:y.name)||u.product_name||null,asin:(y==null?void 0:y.asin)||f||null,sku:(y==null?void 0:y.sku)||g||null,units_requested:h})}if(l.length&&i.createPrepRequest!==!1&&await he.createPrepRequest({company_id:a.company_id,user_id:a.user_id||t,status:"pending",destination_country:a.destination_country||"FR",items:l}),!i.skipShipmentUpdate){const{error:c}=await Q.from("receiving_shipments").update({status:"processed",processed_at:new Date().toISOString(),processed_by:t}).eq("id",e);if(c)throw c}return{error:null,fbaLines:l}}catch(i){return{error:i}}},findStockMatches:async(e,t)=>!t||t.length===0?{data:[],error:null}:await Q.from("stock_items").select("id, ean, name, asin, qty, purchase_price").eq("company_id",e).in("ean",t),validateEAN:e=>{const t=String(e??""),r=t.replace(/^\uFEFF/,"").replace(/^[']+/,"").replace(/[\u00A0\u200B\u200C\u200D]/g,"").trim(),n=r.replace(/[^0-9]/g,""),i=r.replace(/[^0-9A-Za-z]/g,"").toUpperCase();function a(o){const l=o.split("").map(m=>Number(m)),c=l.slice(0,-1),u=l[l.length-1];let d=0,p=1;for(let m=c.length-1;m>=0;m--,p++){const y=p%2===1?3:1;d+=c[m]*y}return(10-d%10)%10===u}if(/^[A-Z0-9]{10}$/.test(i)&&/[A-Z]/.test(i))return{valid:!0,type:"ASIN",formatted:i};if(/^\d+$/.test(n)){const o=n.length;if((o===8||o===12||o===13||o===14)&&a(n)){let l="GTIN";return o===8&&(l="EAN-8"),o===12&&(l="UPC-A"),o===13&&(l="EAN-13"),o===14&&(l="GTIN-14"),{valid:!0,type:l,formatted:n}}}return{valid:!1,type:"Unknown",formatted:t}}},o2=x.createContext(),Ye=()=>{const e=x.useContext(o2);if(!e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e},PL=({children:e})=>{var O;const{currentLanguage:t,changeLanguage:r}=Dr(),[n,i]=x.useState(null),[a,o]=x.useState(null),[l,c]=x.useState(!0),[u,d]=x.useState(null),[p,h]=x.useState(!1),m=x.useRef(null),y=l?"loading":"ready",f=!!n,g=!!(n!=null&&n.email_confirmed_at||n!=null&&n.confirmed_at||(O=u==null?void 0:u.user)!=null&&O.email_confirmed_at);x.useEffect(()=>{try{const E=localStorage.getItem("preferredLanguage")||localStorage.getItem("appLang")||"fr";E&&E!==t&&r(E)}catch{}},[]),x.useEffect(()=>{let E=!0;const P=setTimeout(()=>{E&&c(!1)},8e3),M=async($,C)=>{if(!E)return;d(C);const U=(C==null?void 0:C.user)??null;m.current&&(U!=null&&U.id)&&m.current===U.id&&($==="TOKEN_REFRESHED"||$==="SIGNED_IN"||$==="USER_UPDATED")||(i(U),m.current=(U==null?void 0:U.id)||null,c(!1),U?(h(!0),v(U.id).catch(H=>{console.error("loadUserProfile error:",H),h(!1)})):(o(null),h(!1)))},{data:T}=Q.auth.onAuthStateChange(M);return Q.auth.getSession().then(({data:$})=>{if(!E)return;const C=($==null?void 0:$.session)??null;d(C);const U=(C==null?void 0:C.user)??null;i(U),m.current=(U==null?void 0:U.id)||null,c(!1),U?(h(!0),v(U.id).catch(K=>{console.error("loadUserProfile error:",K),h(!1)})):(o(null),h(!1))}),()=>{var $,C;E=!1,clearTimeout(P),(C=($=T==null?void 0:T.subscription)==null?void 0:$.unsubscribe)==null||C.call($)}},[]),x.useEffect(()=>{const E=localStorage.getItem("preferredLanguage")||localStorage.getItem("appLang")||"";if(E){r(E);return}const P=(a==null?void 0:a.language)&&String(a.language);P&&r(P)},[a==null?void 0:a.language,r]);const v=async E=>{try{h(!0);const{data:P,error:M}=await he.getProfile(E);return M?(console.error("Error loading profile:",M),o(null),null):(o(P),P)}catch(P){return console.error("loadUserProfile exception:",P),o(null),null}finally{h(!1)}},j={user:n,profile:a,session:u,loading:l,profileLoading:p,status:y,isAuthenticated:f,isEmailVerified:g,signUp:async(E,P,M={})=>{c(!0);const{data:T,error:$}=await he.signUp(E,P,M);return c(!1),$?{success:!1,error:$.message}:{success:!0,message:"Account created. Please verify your email to activate access."}},signIn:async(E,P)=>{c(!0);const{data:M,error:T}=await he.signIn(E,P);if(T)return c(!1),{success:!1,error:T.message};if(M!=null&&M.user){const{data:$,error:C}=await he.getProfile(M.user.id);return c(!1),C?{success:!0,user:M.user,profile:null}:(o($),{success:!0,user:M.user,profile:$,emailVerified:!!(M.user.email_confirmed_at||M.user.confirmed_at)})}return c(!1),{success:!1,error:"An unknown error occurred."}},signOut:async()=>{c(!0);const{error:E}=await he.signOut();return c(!1),E?{success:!1,error:E.message}:(o(null),h(!1),{success:!0})},resetPassword:async E=>{const{error:P}=await he.resetPassword(E);return P?{success:!1,error:(()=>{const T=(P.message||"").toLowerCase();return T.includes("invalid email")?"Please enter a valid email address.":T.includes("rate limit")||T.includes("too many")?"Too many requests. Please try again in a minute.":T.includes("not found")||T.includes("user")?"If this email exists, well send a reset link.":"Something went wrong. Please try again."})()}:{success:!0,message:"Password reset link has been sent to your email."}},updateProfile:async E=>{if(!n)return{success:!1,error:"You are not signed in."};c(!0);const{data:P,error:M}=await he.updateProfile(n.id,E);return c(!1),M?{success:!1,error:M.message}:(o(P[0]),h(!1),{success:!0,data:P[0]})},loadUserProfile:v};return s.jsx(o2.Provider,{value:j,children:e})},rw={en:{nav:{home:"Home",services:"Services & Pricing",about:"About",contact:"Contact"},actions:{login:"Login",admin:"Admin Panel",dashboard:"Dashboard",signOut:"Sign out",register:"Create account",whatsApp:"Chat on WhatsApp",quote:"Get a Quote"}},ro:{nav:{home:"Acas",services:"Servicii & Preuri",about:"Despre",contact:"Contact"},actions:{login:"Autentificare",admin:"Panou Admin",dashboard:"Panou client",signOut:"Sign out",register:"Creeaz cont",whatsApp:"Chat pe WhatsApp",quote:"Cere ofert"}},fr:{nav:{home:"Accueil",services:"Services & Tarifs",about:" propos",contact:"Contact"},actions:{login:"Connexion",admin:"Panneau Admin",dashboard:"Tableau de bord",signOut:"Sign out",register:"Crer un compte",whatsApp:"Discuter sur WhatsApp",quote:"Obtenir un devis"}},de:{nav:{home:"Startseite",services:"Leistungen & Preise",about:"ber uns",contact:"Kontakt"},actions:{login:"Anmelden",admin:"Adminbereich",dashboard:"Dashboard",signOut:"Sign out",register:"Konto erstellen",whatsApp:"Auf WhatsApp chatten",quote:"Angebot anfordern"}},it:{nav:{home:"Home",services:"Servizi e Prezzi",about:"Chi siamo",contact:"Contatti"},actions:{login:"Accedi",admin:"Pannello Admin",dashboard:"Dashboard",signOut:"Sign out",register:"Crea account",whatsApp:"Chat su WhatsApp",quote:"Richiedi un preventivo"}},es:{nav:{home:"Inicio",services:"Servicios y Precios",about:"Sobre nosotros",contact:"Contacto"},actions:{login:"Iniciar sesin",admin:"Panel de administracin",dashboard:"Panel",signOut:"Sign out",register:"Crear cuenta",whatsApp:"Chatear por WhatsApp",quote:"Solicitar presupuesto"}},pl:{nav:{home:"Strona gwna",services:"Usugi i Cennik",about:"O nas",contact:"Kontakt"},actions:{login:"Zaloguj si",admin:"Panel administratora",dashboard:"Panel",signOut:"Sign out",register:"Utwrz konto",whatsApp:"Czat na WhatsApp",quote:"Popro o wycen"}}};function EL(){const{currentLanguage:e}=Dr(),t=rw[e]||rw.en;return x.useMemo(()=>(r,n)=>{const i=r.split(".");let a=t;for(const o of i)a=a==null?void 0:a[o];return a??n??r},[t])}function TL(){var h;const e=EL(),t=Rr(),{isAuthenticated:r,user:n,profile:i,signOut:a}=Ye(),[o,l]=x.useState(!1);x.useEffect(()=>{const m=()=>l(!1);return window.addEventListener("i18n:changed",m),()=>window.removeEventListener("i18n:changed",m)},[]);const c=(i==null?void 0:i.account_type)==="admin"||((h=n==null?void 0:n.user_metadata)==null?void 0:h.account_type)==="admin",u=x.useMemo(()=>[{name:e("nav.home"),href:"/"},{name:e("nav.services"),href:"/services-pricing"},{name:e("nav.about"),href:"/about"},{name:e("nav.contact"),href:"/contact"}],[e]),d=m=>t.pathname===m||t.pathname.startsWith(m+"/"),p=async()=>{try{await a()}catch(m){console.error("Sign-out failed",m)}finally{l(!1)}};return s.jsx("header",{className:"bg-white shadow-lg sticky top-0 z-50 border-b border-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center h-20",children:[s.jsxs(xt,{to:"/",className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("img",{src:"https://i.postimg.cc/9zLyQFZx/Chat-GPT-Image-25-aug-2025-01-47-38.png",alt:"FBA Prep Logistics Logo",className:"w-20 h-20 object-contain"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-lg font-bold text-text-primary leading-tight",children:"PrepCenter"}),s.jsx("span",{className:"text-xs font-medium text-primary leading-tight",children:"France"})]})]}),s.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:u.map(m=>s.jsx(xt,{to:m.href,className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${d(m.href)?"text-primary bg-blue-50 border border-blue-200":"text-text-secondary hover:text-primary hover:bg-gray-50"}`,children:m.name},m.href))}),s.jsxs("div",{className:"hidden lg:flex items-center space-x-3",children:[s.jsx(S_,{}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4 pl-4 border-l border-gray-200",children:[r?c?s.jsx(xt,{to:"/admin",className:"bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-all duration-200 shadow-sm hover:shadow-md text-sm",children:e("actions.admin")}):s.jsx(xt,{to:"/dashboard",className:"bg-gray-100 text-gray-800 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-all duration-200 shadow-sm hover:shadow-md text-sm",children:e("actions.dashboard")}):s.jsx(xt,{to:"/admin-login",className:"bg-gray-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md text-sm",children:e("actions.login")}),r&&s.jsx("button",{onClick:p,className:"px-4 py-2 rounded-lg text-sm font-medium text-text-secondary border border-gray-200 hover:text-red-600 hover:border-red-300 transition-all duration-200 shadow-sm hover:shadow-md",children:e("actions.signOut")||"Sign out"}),!r&&s.jsx(xt,{to:"/register",className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow-md text-sm",children:e("actions.register")}),s.jsx("a",{href:"https://wa.me/33675116218",target:"_blank",rel:"noopener noreferrer",className:"bg-accent text-white px-4 py-2 rounded-lg font-medium hover:bg-accent-dark transition-all duration-200 shadow-sm hover:shadow-md text-sm",children:e("actions.whatsApp")}),s.jsx(xt,{to:"/contact",className:"bg-primary text-white px-4 py-2 rounded-lg font-medium hover:bg-primary-dark transition-all duration-200 shadow-sm hover:shadow-md text-sm",children:e("actions.quote")})]})]}),s.jsx("div",{className:"md:hidden flex items-center",children:s.jsx("button",{onClick:()=>l(m=>!m),className:"p-2 text-text-secondary hover:text-primary hover:bg-gray-50 rounded-lg transition-colors","aria-label":"Toggle menu",children:o?s.jsx(yr,{className:"w-6 h-6"}):s.jsx(MF,{className:"w-6 h-6"})})})]}),o&&s.jsx("div",{className:"md:hidden",children:s.jsxs("div",{className:"px-4 pt-4 pb-6 space-y-3 bg-white border-t border-gray-100",children:[s.jsx("div",{className:"space-y-2",children:u.map(m=>s.jsx(xt,{to:m.href,className:`block px-4 py-3 text-base font-medium rounded-lg transition-colors ${d(m.href)?"text-primary bg-blue-50 border border-blue-200":"text-text-secondary hover:text-primary hover:bg-gray-50"}`,onClick:()=>l(!1),children:m.name},m.href))}),s.jsx("div",{className:"pt-4 border-t border-gray-100",children:s.jsx("div",{className:"px-4 pb-3",children:s.jsx(S_,{})})}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-2",children:[r?c?s.jsx(xt,{to:"/admin",className:"block w-full bg-red-600 text-white px-4 py-3 rounded-lg font-medium text-center hover:bg-red-700 transition-colors",onClick:()=>l(!1),children:e("actions.admin")}):s.jsx(xt,{to:"/dashboard",className:"block w-full bg-gray-100 text-gray-800 px-4 py-3 rounded-lg font-medium text-center hover:bg-gray-200 transition-colors",onClick:()=>l(!1),children:e("actions.dashboard")}):s.jsx(xt,{to:"/admin-login",className:"block w-full bg-gray-600 text-white px-4 py-3 rounded-lg font-medium text-center hover:bg-gray-700 transition-colors",onClick:()=>l(!1),children:e("actions.login")}),r&&s.jsx("button",{onClick:p,className:"block w-full bg-red-50 text-red-600 px-4 py-3 rounded-lg font-medium text-center border border-red-100 hover:bg-red-100 transition-colors",children:e("actions.signOut")||"Sign out"}),!r&&s.jsx(xt,{to:"/register",className:"block w-full bg-blue-600 text-white px-4 py-3 rounded-lg font-medium text-center hover:bg-blue-700 transition-colors",onClick:()=>l(!1),children:e("actions.register")}),s.jsx("a",{href:"https://wa.me/33675116218",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-accent text-white px-4 py-3 rounded-lg font-medium text-center hover:bg-accent-dark transition-colors",onClick:()=>l(!1),children:e("actions.whatsApp")}),s.jsx(xt,{to:"/contact",className:"block w-full bg-primary text-white px-4 py-3 rounded-lg font-medium hover:bg-primary-dark transition-colors text-center",onClick:()=>l(!1),children:e("actions.quote")})]})})]})}),s.jsx("div",{className:"hidden md:block lg:hidden",children:s.jsx("nav",{className:"flex items-center justify-center space-x-6 py-3 border-t border-gray-100",children:u.map(m=>s.jsx(xt,{to:m.href,className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${d(m.href)?"text-primary bg-blue-50 border border-blue-200":"text-text-secondary hover:text-primary hover:bg-gray-50"}`,children:m.name},m.href))})})]})})}function zL(){const[e,t]=x.useState({}),r=(y,f)=>{if(typeof y=="string"){const g=y.trim();return g.length?g:f}return f};x.useEffect(()=>{(async()=>{const{data:f,error:g}=await he.getContent();g||t(f||{})})()},[]);const n=r(e.company_info_name,"Global Fulfill Hub"),i=r(e.company_info_siret,"941 373 110 00019"),a=r(e.company_info_vat,"FR 38 941 373 110"),o=r(e.warehouse_name,"EcomPrep Hub"),l=r(e.warehouse_address,`5 Rue des Enclos, Zone B, Cellule 7
35350 La Gouesnire
France`),c=r(e.warehouse_phone,"+33 6 75 11 62 18"),u=r(e.warehouse_email,"contact@prep-center.eu"),d=r(e.contact_email,u),p=r(e.contact_phone,c),h=r(e.contact_address,`35350 La Gouesnire
France`),m=y=>y.split(/\r?\n/).map((f,g)=>s.jsx("span",{className:"block",children:f.trim()},`${f}-${g}`));return s.jsxs("footer",{className:"bg-gray-50 border-t",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[s.jsxs("div",{className:"space-y-3 max-w-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("img",{src:"https://i.postimg.cc/9zLyQFZx/Chat-GPT-Image-25-aug-2025-01-47-38.png",alt:"FBA Prep Logistics Logo",className:"w-14 h-14 object-contain"}),s.jsx("span",{className:"text-lg font-bold text-text-primary leading-tight",children:"PrepCenter France"})]}),s.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:e.hero_subtitle||"Reception, quality control, FNSKU labeling, polybagging & fast shipping to EU Amazon FCs."}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("a",{href:"https://wa.me/33675116218",target:"_blank",rel:"noopener noreferrer",className:"bg-accent text-white px-4 py-2 rounded-lg font-medium hover:bg-accent-dark transition-colors text-sm",children:"WhatsApp"}),s.jsx("a",{href:"https://us04web.zoom.us/j/7184050116?pwd=zaaAe2ANnKbXNTGp7f8DebRbtY4LKD.1",target:"_blank",rel:"noopener noreferrer",className:"bg-primary text-white px-4 py-2 rounded-lg font-medium hover:bg-primary-dark transition-colors text-sm",children:"Book Zoom"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Company information"}),s.jsx("p",{className:"text-sm text-text-secondary",children:n}),s.jsxs("p",{className:"text-sm text-text-secondary",children:["SIRET : ",i]}),s.jsxs("p",{className:"text-sm text-text-secondary",children:["VAT : ",a]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Warehouse & operations"}),s.jsx("p",{className:"text-sm text-text-secondary",children:o}),s.jsx("p",{className:"text-sm text-text-secondary",children:m(l)}),s.jsxs("p",{className:"text-sm text-text-secondary",children:["Phone : ",c]}),s.jsxs("p",{className:"text-sm text-text-secondary",children:["Email : ",u]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Contact"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fo,{className:"w-4 h-4 text-text-secondary"}),s.jsx("span",{className:"text-text-secondary",children:d})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Uj,{className:"w-4 h-4 text-text-secondary"}),s.jsx("span",{className:"text-text-secondary",children:p})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Gl,{className:"w-4 h-4 text-text-secondary mt-1"}),s.jsx("span",{className:"text-text-secondary",children:m(h)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Quick Links"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("a",{href:"/services-pricing",className:"block text-text-secondary hover:text-primary transition-colors",children:"Services & Pricing"}),s.jsx("a",{href:"#",className:"block text-text-secondary hover:text-primary transition-colors",children:"Pricing PDF"}),s.jsx("a",{href:"/terms",className:"block text-text-secondary hover:text-primary transition-colors",children:"Terms of Service"}),s.jsx("a",{href:"/privacy-policy",className:"block text-text-secondary hover:text-primary transition-colors",children:"Privacy Policy"}),s.jsx("a",{href:"https://linkedin.com/in/adrian-bucur-82baa91a5",target:"_blank",rel:"noopener noreferrer",className:"block text-text-secondary hover:text-primary transition-colors",children:"LinkedIn"}),s.jsx("a",{href:"https://www.tiktok.com/@prepcenterfrance?lang=ro-RO",target:"_blank",rel:"noopener noreferrer",className:"block text-text-secondary hover:text-primary transition-colors",children:"TikTok"})]})]})]})}),s.jsx("div",{className:"bg-gray-100 border-t py-3",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center text-sm text-text-light",children:["AI vibe coded development by"," ",s.jsx("a",{href:"https://biela.dev/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary-dark transition-colors",children:"Biela.dev"}),", powered by"," ",s.jsx("a",{href:"https://teachmecode.ae/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary-dark transition-colors",children:"TeachMeCode Institute"})]})})})]})}function OL(){const[e,t]=x.useState(!1);x.useEffect(()=>{localStorage.getItem("cookieConsent")||t(!0)},[]);const r=()=>{localStorage.setItem("cookieConsent","accepted"),t(!1)},n=()=>{localStorage.setItem("cookieConsent","rejected"),t(!1)};return e?s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-sm text-text-secondary",children:["We use cookies to improve your experience and analyze site usage. By continuing to browse, you agree to our use of cookies."," ",s.jsx("a",{href:"#",className:"text-primary hover:text-primary-dark underline",children:"Learn more"})]})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-text-secondary border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Reject"}),s.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Accept"}),s.jsx("button",{onClick:n,className:"p-1 text-text-secondary hover:text-text-primary",children:s.jsx(yr,{className:"w-4 h-4"})})]})]})})}):null}function IL(){var p,h,m,y;const{t:e}=Jp(),[t,r]=x.useState([]),[n,i]=x.useState(0);x.useEffect(()=>{(async()=>{const{data:g,error:v}=await he.getReviews();v||r(g||[])})()},[]),x.useEffect(()=>{if(t.length<=1){i(0);return}const f=setInterval(()=>{i(g=>(g+1)%t.length)},5e3);return()=>clearInterval(f)},[t.length]),x.useEffect(()=>{n>=t.length&&i(0)},[t.length,n]);const a=[{icon:Bd,title:e("turnaroundTitle"),description:e("turnaroundDesc")},{icon:wg,title:e("transparentPricingTitle"),description:e("transparentPricingDesc")},{icon:Gl,title:e("strategicLocationTitle"),description:e("strategicLocationDesc")},{icon:zM,title:e("amazonReadyTitle"),description:e("amazonReadyDesc")}],o=[{step:e("receptionStep"),description:e("receptionDesc")},{step:e("qualityControlStep"),description:e("qualityControlDesc")},{step:e("labelingStep"),description:e("labelingDesc")},{step:e("polybaggingStep"),description:e("polybaggingDesc")},{step:e("shippingStep"),description:e("shippingDesc")},{step:e("confirmStep"),description:e("confirmDesc")}],l=[{name:"UPS",logo:"https://i.postimg.cc/VSMSdrb2/desca-rcare-1.jpg"},{name:"Colissimo",logo:"https://i.postimg.cc/G8C4YLFt/desca-rcare-2.png"},{name:"Colis Priv",logo:"https://i.postimg.cc/y36WQLrz/desca-rcare-2.jpg"},{name:"Chronopost",logo:"https://i.postimg.cc/BtJ8nvZw/desca-rcare-3.png"},{name:"Mondial Relay",logo:"https://i.postimg.cc/TLJpJz09/desca-rcare-3.jpg"},{name:"GLS",logo:"https://i.postimg.cc/rzGkNzYG/desca-rcare-5.png"}],c=[{icon:$a,title:e("fnskuLabelingTitle"),description:e("fnskuLabelingDesc"),price:null,unit:null,features:[e("sixSidePhotos"),e("linkedToAsin"),e("secureCloudStorage"),e("instantDashboardAccess")]},{icon:vc,title:e("fbmShippingTitle"),description:e("fbmShippingDesc"),price:null,unit:null,features:[e("pickPack"),e("multiPlatform"),e("sameDayShipping"),e("returnsHandling")]},{icon:Ln,title:e("storageTitle"),description:e("storageDesc"),price:null,unit:null,features:[e("secureStorage"),e("inventoryTracking"),e("climateControlled"),e("monitoring24h")]}],u=[{number:"4+",label:e("yearsExperience"),icon:Bd},{number:"700K+",label:e("ordersProcessed"),icon:$a},{number:"25+",label:e("happyClients"),icon:Wa},{number:"24h",label:e("averageTurnaround"),icon:Ln}],d=[{title:e("euDistributionTitle"),description:e("euDistributionDesc"),icon:Gl},{title:e("complianceTitle"),description:e("complianceDesc"),icon:Ln},{title:e("qualityAssuranceTitle"),description:e("qualityAssuranceDesc"),icon:Ts},{title:e("transparentPricingBenefitTitle"),description:e("transparentPricingBenefitDesc"),icon:wg}];return s.jsxs("div",{className:"min-h-screen",children:[s.jsx("section",{className:"bg-gradient-to-br from-blue-50 to-white py-16 lg:py-24",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsxs("div",{className:"flex justify-center mb-6",children:[s.jsx(On,{className:"w-8 h-8 text-yellow-400 fill-current"}),s.jsx(On,{className:"w-8 h-8 text-yellow-400 fill-current"}),s.jsx(On,{className:"w-8 h-8 text-yellow-400 fill-current"}),s.jsx(On,{className:"w-8 h-8 text-yellow-400 fill-current"}),s.jsx(On,{className:"w-8 h-8 text-yellow-400 fill-current"})]}),s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-text-primary mb-6 leading-tight",children:e("heroTitle")}),s.jsx("p",{className:"text-lg sm:text-xl text-text-secondary mb-8 max-w-3xl mx-auto leading-relaxed",children:e("heroSubtitle")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsx("a",{href:"/contact",className:"w-full sm:w-auto bg-primary text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-primary-dark transition-colors text-center",children:e("getQuote")}),s.jsx("a",{href:"https://wa.me/33675116218",target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto bg-accent text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-accent-dark transition-colors text-center",children:e("chatWhatsApp")})]})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-2 lg:grid-cols-4 gap-8",children:u.map((f,g)=>s.jsxs("div",{className:"text-center",children:[s.jsx(f.icon,{className:"w-12 h-12 text-primary mx-auto mb-4"}),s.jsx("div",{className:"text-3xl font-bold text-text-primary mb-2",children:f.number}),s.jsx("div",{className:"text-text-secondary",children:f.label})]},g))})}),s.jsx("section",{className:"py-16 lg:py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-text-primary mb-4",children:e("whyChooseTitle")}),s.jsx("p",{className:"text-lg sm:text-xl text-text-secondary",children:e("whyChooseSubtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",children:a.map((f,g)=>s.jsxs("div",{className:"bg-white p-6 rounded-xl text-center hover:shadow-lg transition-shadow",children:[s.jsx(f.icon,{className:"w-12 h-12 text-primary mx-auto mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-primary mb-2",children:f.title}),s.jsx("p",{className:"text-sm sm:text-base text-text-secondary",children:f.description})]},g))})]})}),s.jsx("section",{className:"py-16 lg:py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-text-primary mb-4",children:e("coreServicesTitle")}),s.jsx("p",{className:"text-lg sm:text-xl text-text-secondary",children:e("coreServicesSubtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:c.map((f,g)=>s.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center hover:shadow-lg transition-shadow",children:[s.jsx(f.icon,{className:"w-16 h-16 text-primary mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-bold text-text-primary mb-4",children:f.title}),s.jsx("p",{className:"text-text-secondary mb-6",children:f.description}),f.price&&s.jsxs("div",{className:"mb-6",children:[s.jsx("span",{className:"text-3xl font-bold text-primary",children:f.price}),s.jsx("span",{className:"text-text-secondary ml-2",children:f.unit})]}),s.jsx("ul",{className:"space-y-2 mb-6",children:f.features.map((v,b)=>s.jsxs("li",{className:"flex items-center justify-center",children:[s.jsx(Ts,{className:"w-4 h-4 text-green-500 mr-2"}),s.jsx("span",{className:"text-sm text-text-secondary",children:v})]},b))}),s.jsxs("a",{href:"/services-pricing",className:"inline-flex items-center text-primary font-medium hover:text-primary-dark transition-colors",children:[e("learnMore")," ",s.jsx(_g,{className:"w-4 h-4 ml-1"})]})]},g))})]})}),s.jsx("section",{className:"py-16 lg:py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-text-primary mb-4",children:e("howItWorksTitle")}),s.jsx("p",{className:"text-lg sm:text-xl text-text-secondary",children:e("howItWorksSubtitle")})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 lg:gap-6",children:o.map((f,g)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-primary text-white w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-sm sm:text-base",children:g+1}),s.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-text-primary mb-2",children:f.step}),s.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:f.description}),g<o.length-1&&s.jsx(_g,{className:"w-4 h-4 sm:w-6 sm:h-6 text-text-light mx-auto mt-4 hidden lg:block"})]},g))})]})}),s.jsx("section",{className:"py-16 lg:py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-text-primary mb-4",children:e("benefitsTitle")}),s.jsx("p",{className:"text-lg sm:text-xl text-text-secondary",children:e("benefitsSubtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:d.map((f,g)=>s.jsxs("div",{className:"flex items-start space-x-4 p-6 bg-gray-50 rounded-xl",children:[s.jsx(f.icon,{className:"w-12 h-12 text-primary flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:f.title}),s.jsx("p",{className:"text-text-secondary",children:f.description})]})]},g))})]})}),s.jsx("section",{className:"py-16 lg:py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-text-primary mb-4",children:e("testimonialsTitle")}),s.jsx("p",{className:"text-lg sm:text-xl text-text-secondary",children:e("testimonialsSubtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:t.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl text-center shadow-lg",children:[s.jsx("div",{className:"flex justify-center mb-4",children:[...Array(((p=t[n])==null?void 0:p.rating)||0)].map((f,g)=>s.jsx(On,{className:"w-5 h-5 text-yellow-400 fill-current"},g))}),s.jsxs("p",{className:"text-base sm:text-lg text-text-secondary mb-6 italic",children:["",(h=t[n])==null?void 0:h.review_text,""]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm sm:text-base font-semibold text-text-primary",children:(m=t[n])==null?void 0:m.reviewer_name}),((y=t[n])==null?void 0:y.review_link)&&s.jsx("a",{href:t[n].review_link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"See original review"})]})]}),t.length>1&&s.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:t.map((f,g)=>s.jsx("button",{onClick:()=>i(g),className:`w-3 h-3 rounded-full transition-colors ${g===n?"bg-primary":"bg-gray-300"}`,"aria-label":`Go to testimonial ${g+1}`},g))})]}):s.jsx("p",{className:"text-center text-text-secondary",children:"Momentan nu sunt recenzii afiate."})})]})}),s.jsx("section",{className:"py-12 lg:py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-text-primary mb-4",children:e("carriersTitle")}),s.jsx("p",{className:"text-sm sm:text-base text-text-secondary",children:e("carriersSubtitle")})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-8 items-center justify-items-center",children:l.map((f,g)=>s.jsxs("div",{className:"flex flex-col justify-center items-center h-20",children:[s.jsx("p",{className:"text-sm font-semibold text-text-primary mb-2",children:f.name}),s.jsx("img",{src:f.logo,alt:`${f.name} logo`,className:"h-10 max-w-full object-contain transition-all duration-300"})]},g))})]})}),s.jsx("section",{className:"py-16 lg:py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-text-primary mb-4",children:e("privateLabelTitle")}),s.jsx("p",{className:"text-lg sm:text-xl text-text-secondary",children:e("privateLabelSubtitle")})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[s.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-text-primary mb-6",children:e("privateLabelPartnershipTitle")}),s.jsx("div",{className:"space-y-4",children:[e("customPackaging"),e("productSourcing"),e("qualityCompliance"),e("endToEndFulfillment")].map((f,g)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ts,{className:"w-5 h-5 text-green-500 mr-3"}),s.jsx("span",{className:"text-sm sm:text-base text-text-secondary",children:f})]},g))})]}),s.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-text-primary mb-6",children:e("multiPlatformTitle")}),s.jsx("div",{className:"space-y-4",children:[e("amazonFbmFulfillment"),e("ebayProcessing"),e("shopifyIntegration"),e("customWebsiteFulfillment")].map((f,g)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ts,{className:"w-5 h-5 text-green-500 mr-3"}),s.jsx("span",{className:"text-sm sm:text-base text-text-secondary",children:f})]},g))})]})]})]})}),s.jsx("section",{className:"py-16 lg:py-20 bg-primary",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-6",children:e("ctaTitle")}),s.jsx("p",{className:"text-lg sm:text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:e("ctaSubtitle")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsx("a",{href:"/contact",className:"w-full sm:w-auto bg-white text-primary px-8 py-4 rounded-xl font-semibold text-lg hover:bg-gray-100 transition-all duration-200 shadow-lg hover:shadow-xl text-center",children:e("getQuote")}),s.jsx("a",{href:"https://wa.me/33675116218",target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto bg-accent text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-accent-dark transition-all duration-200 shadow-lg hover:shadow-xl text-center",children:e("chatWhatsApp")})]})]})})]})}const ML={pageTitle:"Amazon FBA Prep Services & Pricing France",pageSubtitle:"Professional Amazon FBA prep services and FBM order fulfillment in France and across Europe. Fast reception, labeling, and storage with transparent pricing and 24h turnaround. Ideal for sellers shipping to EU Amazon fulfillment centers or managing direct FBM orders.",pricingSection:{title:"Live services & pricing",description:"",export:"Download pricing workbook",loading:"Loading pricing",empty:"Pricing is being configured. Please check back soon.",error:"Could not load pricing. Please refresh.",contact:"Contact us",updated:"Last refresh: {date}",ctaFba:"Request FBA Quote",ctaFbm:"Add FBM Platform",ctaStorage:"Contact for Storage Options",ctaExtra:"Request Custom Service",finalTitle:"Download the complete pricing workbook.",finalNote:"Structured like an XLS offer so you can drop it into Excel or forward it to clients instantly.",groups:{fba:{title:"FBA Prep Services",subtitle:"Our Amazon FBA prep service includes reception, inspection, labeling, and packaging per unit."},fbm:{title:"FBM Fulfillment",subtitle:"We manage FBM order fulfillment in France and across Europe, handling daily orders from Amazon, eBay, Shopify, Vinted, and other sales platforms."},extra:{title:"Extra Services",subtitle:"Add-ons for branding, paperwork and translations."},storage:{title:"Storage Solutions",subtitle:"Monthly storage plans and surcharges."},custom:{title:"Additional",subtitle:"Custom categories published from the admin."}}},newCustomerBonus:"New Customer Bonus",bonusFirstMonths:"First 2 months: {new_customer_rate}/product (instead of {standard_rate}) + Free setup consultation",bonusFreelabels:"Plus: 100 FREE FNSKU labels when you exceed 1000 units in any calendar month",standardFbaTitle:"Standard FBA Services",standardFbaSubtitle:"Complete prep solution with everything included",fnskuLabelingService:"Photo Storage Subscription",perProduct:"/ product",includedInRate:"(included in the standard rate)",receptionInspection:"Reception & visual inspection",professionalPolybagging:"Professional polybagging",fnskuLabeling:"Photo storage subscription (up to 6 photos/SKU)",dunnageProtection:"Dunnage protection",standardRate:"Standard Rate",newCustomers:"New customers: {new_customer_rate}",privateLabelTitle:"Private Label & Multi-Platform Services",privateLabelSubtitle:"Complete fulfillment solutions for your brand across all platforms",privateLabelPartnership:"Private Label Partnership",fnskuLabelingOnly:"Photo Storage Subscription",polybaggingSealing:"Polybagging & Sealing",multipackBundling:"Multipack / Bundling (1 kg)",qualityCheckVisual:"Quality Check (visual inspection)",insertMaterials:"Insert Materials (flyers, manuals, QR code)",customPricing:"Custom Pricing",free:"Free",perUnit:"/ unit",perSet:"/ set",multiPlatformFbm:"Multi-Platform FBM",amazonFbmOrders:"Amazon FBM Orders",cartonsIncluded:"/ order (cartons included)",ebayIntegration:"eBay Integration",shopifyWebsiteOrders:"Shopify/Website Orders",shippingViaPacklink:"Shipping via PackLink",automaticDataIntegration:"automatic data integration for labels & courier pickup",extraServices:"Extra Services",additionalLabelsClient:"Additional Labels (Translations provided by client)",additionalLabelsTranslation:"Additional Labels (We provide translation)",translationFee:"translation fee",applicationFee:"/ unit application",otherLabels:"Other Labels (Transparency codes, warning labels, etc.)",fbmShippingTitle:"FBM & Non-Partnered Shipping Rates",fbmShippingSubtitle:"Competitive rates based on your monthly volume",fbmMultiPlatformTitle:"FBM & Multi-Platform Fulfillment",fbmDescription1:"At Prep Center France, we manage more than FBA  we also take care of FBM and multi-platform orders with speed and precision. From storage and stock handling to picking, packing, shipping, and returns, everything is processed under one roof.",fbmFeatures:{storage:"Storage & Inventory Control  safe, organized warehousing in France",orderProcessing:"Order Processing  quick and accurate picking & packing",dispatch24h:"Dispatch within 24h  all orders leave our warehouse in maximum one business day",sameDayShipping:"Same-Day Shipping  orders received before 12:00 PM are shipped out the very same day",returnsSupport:"Returns Support  checking, repacking or disposing of returned items, according to your instructions"},fbmDescription2:"This way, your customers receive their orders fast and reliably anywhere in Europe, while you focus on growing your business.",starter:"Starter",growth:"Growth",enterprise:"Enterprise",popular:"Popular",unitsPerMonth0999:"0-999 units/month",unitsPerMonth1000:"1000-1999 units/month",unitsPerMonth2000:"2000+ units/month",perOrder:"per order",additionalFbmCharges:"Additional FBM Charges:",multiProductParcels:"Multi-product parcels >2kg: +0.10/extra product",singleProducts:"Single products >3kg: Custom pricing",transportTitle:"FBM & Non-Partnered Transport Pricing",transportSubtitle:"FBM Package Shipping Rates",deliveryFrance:"Delivery in France (<2kg)",viaColissimo:"Via Colissimo",internationalDelivery:"International delivery (<3kg)",pricesIndicative:"These prices are indicative",specializedTransport:"Specialized Transport:",dangerousGoods:"Dangerous goods (max 60x40x40cm, 20kg)",viaUps24h:"Via UPS - 24h delivery",storageSolutions:"Storage Solutions",storageSubtitle:"Secure and flexible storage for your inventory",warehouseStorage:"Warehouse Storage",storageIncluded:"1 m Storage Included",additionalStorage:"Additional Storage",perCubicMeterMonth:"/ m / month",specializedStorage:"Specialized Storage",oversizedProducts:"Oversized Products",oversizedNote:"(items over 60 cm or heavier than 15 kg)",fragileItemsHandling:"Fragile Items Handling",fragileNote:"(glass, ceramics, electronics  extra protection)",hazardousMaterials:"Hazardous Materials",hazardousNote:"(batteries, sprays, chemicals)",highValueItems:"High-Value Items",highValueNote:"(extra security for premium goods)",inspectionTitle:"Inspection & Quality Control",inspectionDescription1:"Every box or pallet that arrives at our warehouse is carefully inspected to ensure it is in good condition and free from damage. If any issues are found, we document them with detailed photos and notify you immediately by email.",inspectionDescription2:"In addition to checking the outer packaging, we can photograph products upon request and send the images directly to you via email. This gives you clear proof of quality and photos you can also use for online listings or client communication.",inspectionDescription3:"Through this process, you benefit from full transparency over your inventory and rigorous control of your products before they are shipped to Amazon or directly to customers.",calculatorTitle:"Get a Custom Quote",calculatorSubtitle:"Calculate your estimated costs based on your needs",numberOfUnits:"Number of SKUs requiring photo storage",numberOfFbmOrders:"Number of FBM Orders per Month",numberOfPallets:"Number of Pallets for Storage",selectServices:"Select Services:",fnskuLabelingCalc:"Photo Storage Subscription",polybaggingSealingCalc:"Polybagging & Sealing (0.30/unit)",shippingCartons:"Shipping Cartons (3.00/carton)",multipackBundlingCalc:"Multipack/Bundling (0.50/set)",insertMaterialsCalc:"Insert Materials (0.15/unit)",fbmShipping:"FBM Shipping",ebayIntegrationCalc:"eBay Integration",shopifyIntegrationCalc:"Shopify/Website Orders",palletStorage:"Pallet Storage",additionalStorageCalc:"Additional Storage (15/m/month)",additionalLabelsClientCalc:"Additional Labels (Translations provided by client) (0.20/unit)",additionalLabelsTranslationCalc:"Additional Labels (We provide translation) (5.00 + 0.20/unit)",otherLabelsCalc:"Other Labels (Transparency codes, warning labels, etc.) (0.10/unit)",estimatedTotalCost:"Estimated Total Cost:",pricesExcludeVat:"Prices exclude VAT",requestQuote:"Request a Quote",numberOfUnitsPolybagging:"Number of Units for Polybagging & Sealing (0.30/unit)",numberOfShippingCartons:"Number of Shipping Cartons (3.00/carton)",numberOfMultipackSets:"Number of Multipack Sets (0.50/set, 1kg)",numberOfUnitsInsert:"Number of Units with Insert Materials (0.15/unit)",additionalStorageVolume:"Additional Storage Volume (m/month) - 15/m",additionalLabelsClientUnits:"Additional Labels (Translations provided by client) (0.20/unit)",additionalLabelsTranslationUnits:"Additional Labels (We provide translation) (5.00 + 0.20/unit)",otherLabelsUnits:"Other Labels (Transparency codes, warning labels, etc.) (0.10/unit)",shippingSection:{domesticTitle:"FBM Package Shipping Rates",domesticSubtitle:"Domestic shipping  France",domesticDisclaimer:"These prices are indicative and may not always be updated in real time. For exact shipping rates, please contact us.",internationalTitle:"FBM International Shipping Rates",internationalSubtitle:"Choose destination to compare transporters",internationalDisclaimer:"These international shipping prices are indicative and may not always be updated in real time. For exact rates, please contact us.",dropdownLabel:"Select destination",table:{transporter:"Transporter",info:"Info"}},calculator:{title:"Estimate your prep budget",subtitle:"Select the services and quantities you need to build an instant estimate (prices shown exclude VAT).",selectorsHint:"Build your estimate one service at a time with the selectors below.",empty:"Pricing is still loading. Please try again in a few moments.",priceUnavailable:"Contact us for pricing",quantity:"Qty",totalLabel:"Estimated total (HT)",note:"This is an estimate only. Final quotes may differ based on product specifics and volumes.",categoryLabel:"Service group",serviceLabel:"Service",serviceSearchPlaceholder:"Filter services",periodLabel:"Period",periodHelper:"The total multiplies the unit price by the timeframe you select.",periodOptions:{oneMonth:"1 month",threeMonths:"3 months",sixMonths:"6 months",twelveMonths:"12 months",other:"Other"},addButton:"Add to estimate",remove:"Remove",pickerPlaceholder:"Select a service",noServices:"No services available in this group.",noResults:"No services match your filters.",selectedLabel:"services",clearAll:"Clear all",emptySelection:"Select services on the left to build your quote.",customPeriodLabel:"{months} months",customPeriodPlaceholder:"Enter months",customPeriodHint:"Custom duration"}},FL={pageTitle:"Services et Tarifs Amazon FBA en France",pageSubtitle:"Services professionnels Amazon FBA et fulfillment FBM en France et en Europe. Rception rapide, tiquetage et stockage avec prix transparents et dlai de 24h. Idal pour les vendeurs qui expdient vers les centres Amazon UE ou grent des commandes FBM directes.",pricingSection:{title:"Tarifs mis  jour en temps rel",description:"",export:"Tlcharger loffre complte",loading:"Chargement des tarifs",empty:"Les tarifs sont en cours de configuration. Revenez bientt.",error:"Impossible de charger les tarifs. Merci de ressayer.",contact:"Nous contacter",updated:"Dernire actualisation : {date}",ctaFba:"Demander un devis FBA",ctaFbm:"Ajouter une plateforme FBM",ctaStorage:"Contacter pour les options de stockage",ctaExtra:"Demander un service personnalis",finalTitle:"Tlchargez le classeur complet des tarifs.",finalNote:"Format tableau compatible Excel, prt  tre envoy comme offre commerciale.",groups:{fba:{title:"Services FBA Prep",subtitle:"Notre prep Amazon FBA inclut rception, inspection, tiquetage et emballage par unit."},fbm:{title:"Fulfillment FBM",subtitle:"Nous grons le fulfillment FBM en France et en Europe pour Amazon, eBay, Shopify et Vinted."},extra:{title:"Services additionnels",subtitle:"Options pour branding, documents et traductions."},storage:{title:"Solutions de stockage",subtitle:"Formules mensuelles et supplments."},custom:{title:"Catgorie personnalise",subtitle:"Publie depuis le panneau admin."}}},newCustomerBonus:"Bonus Nouveau Client",bonusFirstMonths:"Premiers 2 mois : {new_customer_rate}/produit (au lieu de {standard_rate}) + Consultation de configuration gratuite",bonusFreelabels:"Plus : 100 tiquettes FNSKU GRATUITES lorsque vous dpassez 1000 units dans un mois calendaire",standardFbaTitle:"Services FBA Standard",standardFbaSubtitle:"Solution de prparation complte avec tout inclus",fnskuLabelingService:"Abonnement stockage photos",perProduct:"/ produit",includedInRate:"(inclus dans le tarif standard)",receptionInspection:"Rception et inspection visuelle",professionalPolybagging:"Emballage plastique professionnel",fnskuLabeling:"Abonnement stockage photos (jusqu 6 photos/SKU)",dunnageProtection:"Protection par calage",standardRate:"Tarif Standard",newCustomers:"Nouveaux clients : {new_customer_rate}",privateLabelTitle:"Services Private Label et Multi-Plateformes",privateLabelSubtitle:"Solutions de fulfillment compltes pour votre marque sur toutes les plateformes",privateLabelPartnership:"Partenariat Private Label",fnskuLabelingOnly:"Abonnement stockage photos",polybaggingSealing:"Emballage Plastique et Scellage",multipackBundling:"Multipack / Groupage (1 kg)",qualityCheckVisual:"Contrle Qualit (inspection visuelle)",insertMaterials:"Matriaux d'Insert (flyers, manuels, code QR)",customPricing:"Tarification Personnalise",free:"Gratuit",perUnit:"/ unit",perSet:"/ ensemble",multiPlatformFbm:"FBM Multi-Plateformes",amazonFbmOrders:"Commandes Amazon FBM",cartonsIncluded:"/ commande (cartons inclus)",ebayIntegration:"Intgration eBay",shopifyWebsiteOrders:"Commandes Shopify/Site Web",shippingViaPacklink:"Expdition via PackLink",automaticDataIntegration:"intgration automatique des donnes pour les tiquettes et la collecte par coursier",extraServices:"Services Supplmentaires",additionalLabelsClient:"tiquettes Supplmentaires (Traductions fournies par le client)",additionalLabelsTranslation:"tiquettes Supplmentaires (Nous fournissons la traduction)",translationFee:"frais de traduction",applicationFee:"/ unit application",otherLabels:"Autres tiquettes (codes de transparence, tiquettes d'avertissement, etc.)",fbmShippingTitle:"Tarifs d'Expdition FBM et Non-Partenaires",fbmShippingSubtitle:"Tarifs comptitifs bass sur votre volume mensuel",fbmMultiPlatformTitle:"Fulfillment FBM et Multi-Plateformes",fbmDescription1:"Chez Prep Center France, nous grons plus que le FBA  nous nous occupons galement des commandes FBM et multi-plateformes avec rapidit et prcision. Du stockage et de la gestion des stocks au picking, emballage, expdition et retours, tout est trait sous un mme toit.",fbmFeatures:{storage:"Stockage et Contrle d'Inventaire  entreposage sr et organis en France",orderProcessing:"Traitement des Commandes  picking et emballage rapides et prcis",dispatch24h:"Expdition sous 24h  toutes les commandes quittent notre entrept en maximum un jour ouvrable",sameDayShipping:"Expdition le Jour Mme  les commandes reues avant 12h00 sont expdies le jour mme",returnsSupport:"Support Retours  vrification, remballage ou limination des articles retourns, selon vos instructions"},fbmDescription2:"Ainsi, vos clients reoivent leurs commandes rapidement et de manire fiable partout en Europe, tandis que vous vous concentrez sur le dveloppement de votre entreprise.",starter:"Dbutant",growth:"Croissance",enterprise:"Entreprise",popular:"Populaire",unitsPerMonth0999:"0-999 units/mois",unitsPerMonth1000:"1000-1999 units/mois",unitsPerMonth2000:"2000+ units/mois",perOrder:"par commande",additionalFbmCharges:"Frais FBM Supplmentaires :",multiProductParcels:"Colis multi-produits >2kg : +0.10/produit supplmentaire",singleProducts:"Produits uniques >3kg : Tarification personnalise",transportTitle:"Tarification Transport FBM et Non-Partenaires",transportSubtitle:"Tarifs d'Expdition de Colis FBM",deliveryFrance:"Livraison en France (<2kg)",viaColissimo:"Via Colissimo",internationalDelivery:"Livraison internationale (<3kg)",pricesIndicative:"Ces prix sont indicatifs",specializedTransport:"Transport Spcialis :",dangerousGoods:"Marchandises dangereuses (max 60x40x40cm, 20kg)",viaUps24h:"Via UPS - livraison 24h",storageSolutions:"Solutions de Stockage",storageSubtitle:"Stockage scuris et flexible pour votre inventaire",warehouseStorage:"Stockage en Entrept",storageIncluded:"1 m de Stockage Inclus",additionalStorage:"Stockage Supplmentaire",perCubicMeterMonth:"/ m / mois",specializedStorage:"Stockage Spcialis",oversizedProducts:"Produits Surdimensionns",oversizedNote:"(articles de plus de 60 cm ou plus lourds que 15 kg)",fragileItemsHandling:"Manipulation d'Articles Fragiles",fragileNote:"(verre, cramique, lectronique  protection supplmentaire)",hazardousMaterials:"Matires Dangereuses",hazardousNote:"(batteries, sprays, produits chimiques)",highValueItems:"Articles de Grande Valeur",highValueNote:"(scurit supplmentaire pour les produits premium)",inspectionTitle:"Inspection et Contrle Qualit",inspectionDescription1:"Chaque bote ou palette qui arrive dans notre entrept est soigneusement inspecte pour s'assurer qu'elle est en bon tat et exempte de dommages. Si des problmes sont dtects, nous les documentons avec des photos dtailles et vous en informons immdiatement par email.",inspectionDescription2:"En plus de vrifier l'emballage extrieur, nous pouvons photographier les produits sur demande et vous envoyer les images directement par email. Cela vous donne une preuve claire de la qualit et des photos que vous pouvez galement utiliser pour les annonces en ligne ou la communication client.",inspectionDescription3:"Grce  ce processus, vous bnficiez d'une transparence totale sur votre inventaire et d'un contrle rigoureux de vos produits avant qu'ils ne soient expdis vers Amazon ou directement aux clients.",calculatorTitle:"Obtenez un Devis Personnalis",calculatorSubtitle:"Calculez vos cots estims en fonction de vos besoins",numberOfUnits:"Nombre de SKU ncessitant le stockage photo",numberOfFbmOrders:"Nombre de Commandes FBM par Mois",numberOfPallets:"Nombre de Palettes pour le Stockage",selectServices:"Slectionnez les Services :",fnskuLabelingCalc:"Abonnement stockage photos",polybaggingSealingCalc:"Emballage Plastique et Scellage (0.30/unit)",shippingCartons:"Cartons d'Expdition (3.00/carton)",multipackBundlingCalc:"Multipack/Groupage (0.50/ensemble)",insertMaterialsCalc:"Matriaux d'Insert (0.15/unit)",fbmShipping:"Expdition FBM",ebayIntegrationCalc:"Intgration eBay",shopifyIntegrationCalc:"Commandes Shopify/Site Web",palletStorage:"Stockage de Palettes",additionalStorageCalc:"Stockage Supplmentaire (15/m/mois)",additionalLabelsClientCalc:"tiquettes Supplmentaires (Traductions fournies par le client) (0.20/unit)",additionalLabelsTranslationCalc:"tiquettes Supplmentaires (Nous fournissons la traduction) (5.00 + 0.20/unit)",otherLabelsCalc:"Autres tiquettes (codes de transparence, tiquettes d'avertissement, etc.) (0.10/unit)",estimatedTotalCost:"Cot Total Estim :",pricesExcludeVat:"Prix hors TVA",requestQuote:"Demander un Devis",numberOfUnitsPolybagging:"Nombre d'Units pour l'Emballage Plastique et Scellage (0.30/unit)",numberOfShippingCartons:"Nombre de Cartons d'Expdition (3.00/carton)",numberOfMultipackSets:"Nombre d'Ensembles Multipack (0.50/ensemble, 1kg)",numberOfUnitsInsert:"Nombre d'Units avec Matriaux d'Insert (0.15/unit)",additionalStorageVolume:"Volume de Stockage Supplmentaire (m/mois) - 15/m",additionalLabelsClientUnits:"tiquettes Supplmentaires (Traductions fournies par le client) (0.20/unit)",additionalLabelsTranslationUnits:"tiquettes Supplmentaires (Nous fournissons la traduction) (5.00 + 0.20/unit)",otherLabelsUnits:"Autres tiquettes (codes de transparence, tiquettes d'avertissement, etc.) (0.10/unit)",shippingSection:{domesticTitle:"Tarifs dexpdition FBM",domesticSubtitle:"Expditions domestiques  France",domesticDisclaimer:"Ces tarifs sont indicatifs et peuvent voluer. Pour des tarifs exacts, contactez-nous.",internationalTitle:"Tarifs dexpdition FBM  International",internationalSubtitle:"Choisissez la destination pour comparer les transporteurs",internationalDisclaimer:"Ces tarifs internationaux sont indicatifs et peuvent voluer. Pour des tarifs exacts, contactez-nous.",dropdownLabel:"Slectionnez la destination",table:{transporter:"Transporteur",info:"Info"}},calculator:{title:"Estimez votre budget",subtitle:"Slectionnez les services et les quantits souhaites pour obtenir une estimation instantane (prix affichs hors TVA).",selectorsHint:"Composez votre devis service par service grce au slecteur ci-dessous.",empty:"La grille tarifaire se charge encore. Merci de ressayer dans quelques instants.",priceUnavailable:"Sur devis",quantity:"Qt",totalLabel:"Total estim (HT)",note:"Estimation indicative : le devis final peut varier selon vos produits et volumes.",categoryLabel:"Groupe de services",serviceLabel:"Service",serviceSearchPlaceholder:"Filtrer les services",periodLabel:"Priode",periodHelper:"Le total estime le cot pour la priode slectionne.",periodOptions:{oneMonth:"1 mois",threeMonths:"3 mois",sixMonths:"6 mois",twelveMonths:"12 mois",other:"Autre"},addButton:"Ajouter au devis",remove:"Retirer",pickerPlaceholder:"Choisissez un service",noServices:"Aucun service disponible dans ce groupe.",noResults:"Aucun service ne correspond  vos filtres.",selectedLabel:"services",clearAll:"Tout effacer",emptySelection:"Slectionnez des services dans la liste pour crer votre devis.",customPeriodLabel:"{months} mois",customPeriodPlaceholder:"Indiquez le nombre de mois",customPeriodHint:"Dure personnalise"}},RL={pageTitle:"Amazon FBA Services & Preise in Frankreich",pageSubtitle:"Professionelle Amazon-FBA-Services und FBM-Fulfillment in Frankreich und ganz Europa. Schnelle Annahme, Etikettierung und Lagerung mit transparenten Preisen und 24-Stunden-Durchlaufzeit. Ideal fr Verkufer mit Versand an EU-Amazon-Fulfillment oder direktem FBM.",pricingSection:{title:"Live-Preise in Echtzeit",description:"",export:"Komplettes Angebot herunterladen",loading:"Preise werden geladen",empty:"Die Preisstruktur wird derzeit vorbereitet. Bitte bald wieder nachsehen.",error:"Preise konnten nicht geladen werden. Bitte aktualisieren.",contact:"Kontaktieren Sie uns",updated:"Letzte Aktualisierung: {date}",ctaFba:"FBA-Angebot anfordern",ctaFbm:"FBM-Plattform hinzufgen",ctaStorage:"Kontakt zu Lageroptionen",ctaExtra:"Individuellen Service anfragen",finalTitle:"Laden Sie das gesamte Preis-Workbook herunter.",finalNote:"Tabellarische XLS-Struktur, sofort bereit fr Excel oder zur Weitergabe an Kunden.",groups:{fba:{title:"FBA Prep Services",subtitle:"Unser Amazon-FBA-Prep umfasst Empfang, Kontrolle, Etikettierung und Verpackung pro Einheit."},fbm:{title:"FBM Fulfillment",subtitle:"Wir betreuen FBM-Bestellungen in Frankreich und Europa fr Amazon, eBay, Shopify und Vinted."},extra:{title:"Zusatzservices",subtitle:"Branding, Dokumente und bersetzungen."},storage:{title:"Lagerlsungen",subtitle:"Monatliche Plne und Zuschlge."},custom:{title:"Zustzliche Kategorie",subtitle:"Direkt aus dem Admin-Bereich verffentlicht."}}},newCustomerBonus:"Neukunden-Bonus",bonusFirstMonths:"Erste 2 Monate: {new_customer_rate}/Produkt (statt {standard_rate}) + Kostenlose Einrichtungsberatung",bonusFreelabels:"Plus: 100 KOSTENLOSE FNSKU-Etiketten, wenn Sie 1000 Einheiten in einem Kalendermonat berschreiten",standardFbaTitle:"Standard FBA Services",standardFbaSubtitle:"Komplette Prep-Lsung mit allem inklusive",fnskuLabelingService:"Foto-Speicherabonnement",perProduct:"/ Produkt",includedInRate:"(im Standardtarif enthalten)",receptionInspection:"Empfang und Sichtprfung",professionalPolybagging:"Professionelle Polyverpackung",fnskuLabeling:"Foto-Speicherabonnement (bis zu 6 Fotos/SKU)",dunnageProtection:"Fllmaterial-Schutz",standardRate:"Standardtarif",newCustomers:"Neukunden: {new_customer_rate}",privateLabelTitle:"Private Label & Multi-Plattform Services",privateLabelSubtitle:"Komplette Fulfillment-Lsungen fr Ihre Marke auf allen Plattformen",privateLabelPartnership:"Private Label Partnerschaft",fnskuLabelingOnly:"Foto-Speicherabonnement",polybaggingSealing:"Polyverpackung & Versiegelung",multipackBundling:"Multipack / Bndelung (1 kg)",qualityCheckVisual:"Qualittskontrolle (Sichtprfung)",insertMaterials:"Einlegematerialien (Flyer, Handbcher, QR-Code)",customPricing:"Individuelle Preisgestaltung",free:"Kostenlos",perUnit:"/ Einheit",perSet:"/ Set",multiPlatformFbm:"Multi-Plattform FBM",amazonFbmOrders:"Amazon FBM Bestellungen",cartonsIncluded:"/ Bestellung (Kartons inklusive)",ebayIntegration:"eBay Integration",shopifyWebsiteOrders:"Shopify/Website Bestellungen",shippingViaPacklink:"Versand via PackLink",automaticDataIntegration:"automatische Datenintegration fr Etiketten und Kurierabholung",extraServices:"Zustzliche Services",additionalLabelsClient:"Zustzliche Etiketten (bersetzungen vom Kunden bereitgestellt)",additionalLabelsTranslation:"Zustzliche Etiketten (Wir stellen die bersetzung bereit)",translationFee:"bersetzungsgebhr",applicationFee:"/ Einheit Anwendung",otherLabels:"Andere Etiketten (Transparenz-Codes, Warnhinweise, etc.)",fbmShippingTitle:"FBM & Nicht-Partner Versandtarife",fbmShippingSubtitle:"Wettbewerbsfhige Tarife basierend auf Ihrem monatlichen Volumen",fbmMultiPlatformTitle:"FBM & Multi-Plattform Fulfillment",fbmDescription1:"Bei Prep Center France verwalten wir mehr als nur FBA  wir kmmern uns auch um FBM und Multi-Plattform-Bestellungen mit Geschwindigkeit und Przision. Von der Lagerung und Bestandsverwaltung bis hin zu Kommissionierung, Verpackung, Versand und Retouren wird alles unter einem Dach abgewickelt.",fbmFeatures:{storage:"Lagerung & Bestandskontrolle  sichere, organisierte Lagerung in Frankreich",orderProcessing:"Bestellabwicklung  schnelle und genaue Kommissionierung & Verpackung",dispatch24h:"Versand innerhalb 24h  alle Bestellungen verlassen unser Lager in maximal einem Werktag",sameDayShipping:"Versand am selben Tag  Bestellungen, die vor 12:00 Uhr eingehen, werden noch am selben Tag versandt",returnsSupport:"Retouren-Support  Prfung, Neuverpackung oder Entsorgung von Retouren nach Ihren Anweisungen"},fbmDescription2:"So erhalten Ihre Kunden ihre Bestellungen schnell und zuverlssig berall in Europa, whrend Sie sich auf das Wachstum Ihres Unternehmens konzentrieren.",starter:"Starter",growth:"Wachstum",enterprise:"Unternehmen",popular:"Beliebt",unitsPerMonth0999:"0-999 Einheiten/Monat",unitsPerMonth1000:"1000-1999 Einheiten/Monat",unitsPerMonth2000:"2000+ Einheiten/Monat",perOrder:"pro Bestellung",additionalFbmCharges:"Zustzliche FBM-Gebhren:",multiProductParcels:"Multi-Produkt-Pakete >2kg: +0.10/zustzliches Produkt",singleProducts:"Einzelprodukte >3kg: Individuelle Preisgestaltung",transportTitle:"FBM & Nicht-Partner Transport-Preise",transportSubtitle:"FBM Paket-Versandtarife",deliveryFrance:"Lieferung in Frankreich (<2kg)",viaColissimo:"Via Colissimo",internationalDelivery:"Internationale Lieferung (<3kg)",pricesIndicative:"Diese Preise sind Richtwerte",specializedTransport:"Spezialisierter Transport:",dangerousGoods:"Gefahrgut (max 60x40x40cm, 20kg)",viaUps24h:"Via UPS - 24h Lieferung",storageSolutions:"Lagerlsungen",storageSubtitle:"Sichere und flexible Lagerung fr Ihr Inventar",warehouseStorage:"Lagerhaltung",storageIncluded:"1 m Lagerung Inklusive",additionalStorage:"Zustzliche Lagerung",perCubicMeterMonth:"/ m / Monat",specializedStorage:"Spezialisierte Lagerung",oversizedProducts:"bergroe Produkte",oversizedNote:"(Artikel ber 60 cm oder schwerer als 15 kg)",fragileItemsHandling:"Behandlung zerbrechlicher Artikel",fragileNote:"(Glas, Keramik, Elektronik  zustzlicher Schutz)",hazardousMaterials:"Gefahrstoffe",hazardousNote:"(Batterien, Sprays, Chemikalien)",highValueItems:"Hochwertige Artikel",highValueNote:"(zustzliche Sicherheit fr Premium-Waren)",inspectionTitle:"Inspektion & Qualittskontrolle",inspectionDescription1:"Jede Kiste oder Palette, die in unserem Lager ankommt, wird sorgfltig inspiziert, um sicherzustellen, dass sie in gutem Zustand und frei von Schden ist. Wenn Probleme festgestellt werden, dokumentieren wir sie mit detaillierten Fotos und benachrichtigen Sie sofort per E-Mail.",inspectionDescription2:"Zustzlich zur berprfung der Auenverpackung knnen wir Produkte auf Anfrage fotografieren und Ihnen die Bilder direkt per E-Mail senden. Dies gibt Ihnen einen klaren Nachweis der Qualitt und Fotos, die Sie auch fr Online-Anzeigen oder Kundenkommunikation verwenden knnen.",inspectionDescription3:"Durch diesen Prozess profitieren Sie von vollstndiger Transparenz ber Ihr Inventar und rigoroser Kontrolle Ihrer Produkte, bevor sie zu Amazon oder direkt an Kunden versandt werden.",calculatorTitle:"Holen Sie sich ein individuelles Angebot",calculatorSubtitle:"Berechnen Sie Ihre geschtzten Kosten basierend auf Ihren Bedrfnissen",numberOfUnits:"Anzahl der SKUs mit Foto-Speicherung",numberOfFbmOrders:"Anzahl der FBM-Bestellungen pro Monat",numberOfPallets:"Anzahl der Paletten fr die Lagerung",selectServices:"Services auswhlen:",fnskuLabelingCalc:"Foto-Speicherabonnement",polybaggingSealingCalc:"Polyverpackung & Versiegelung (0.30/Einheit)",shippingCartons:"Versandkartons (3.00/Karton)",multipackBundlingCalc:"Multipack/Bndelung (0.50/Set)",insertMaterialsCalc:"Einlegematerialien (0.15/Einheit)",fbmShipping:"FBM-Versand",ebayIntegrationCalc:"eBay Integration",shopifyIntegrationCalc:"Shopify/Website Bestellungen",palletStorage:"Palettenlagerung",additionalStorageCalc:"Zustzliche Lagerung (15/m/Monat)",additionalLabelsClientCalc:"Zustzliche Etiketten (bersetzungen vom Kunden bereitgestellt) (0.20/Einheit)",additionalLabelsTranslationCalc:"Zustzliche Etiketten (Wir stellen die bersetzung bereit) (5.00 + 0.20/Einheit)",otherLabelsCalc:"Andere Etiketten (Transparenz-Codes, Warnhinweise, etc.) (0.10/Einheit)",estimatedTotalCost:"Geschtzte Gesamtkosten:",pricesExcludeVat:"Preise ohne MwSt.",requestQuote:"Angebot anfordern",numberOfUnitsPolybagging:"Anzahl der Einheiten fr Polyverpackung & Versiegelung (0.30/Einheit)",numberOfShippingCartons:"Anzahl der Versandkartons (3.00/Karton)",numberOfMultipackSets:"Anzahl der Multipack-Sets (0.50/Set, 1kg)",numberOfUnitsInsert:"Anzahl der Einheiten mit Einlegematerialien (0.15/Einheit)",additionalStorageVolume:"Zustzliches Lagervolumen (m/Monat) - 15/m",additionalLabelsClientUnits:"Zustzliche Etiketten (bersetzungen vom Kunden bereitgestellt) (0.20/Einheit)",additionalLabelsTranslationUnits:"Zustzliche Etiketten (Wir stellen die bersetzung bereit) (5.00 + 0.20/Einheit)",otherLabelsUnits:"Andere Etiketten (Transparenz-Codes, Warnhinweise, etc.) (0.10/Einheit)",shippingSection:{domesticTitle:"FBM Paketversand  Inland",domesticSubtitle:"Lieferungen innerhalb Frankreichs",domesticDisclaimer:"Diese Preise sind Richtwerte und knnen sich ndern. Fr exakte Tarife kontaktieren Sie uns bitte.",internationalTitle:"FBM Paketversand  International",internationalSubtitle:"Ziel auswhlen und Spediteure vergleichen",internationalDisclaimer:"Diese internationalen Preise sind Richtwerte und knnen sich ndern. Fr exakte Tarife kontaktieren Sie uns bitte.",dropdownLabel:"Ziel auswhlen",table:{transporter:"Transporteur",info:"Info"}},calculator:{title:"Budgetrechner",subtitle:"Whlen Sie die gewnschten Services und Mengen, um sofort eine Schtzung zu erhalten (Preise zzgl. MwSt.).",selectorsHint:"Stellen Sie Ihr Angebot Service fr Service ber die Auswahlfelder zusammen.",empty:"Die Preisliste wird noch geladen. Bitte versuchen Sie es in Krze erneut.",priceUnavailable:"Preis auf Anfrage",quantity:"Menge",totalLabel:"Geschtzte Summe (zzgl. MwSt.)",note:"Unverbindliche Schtzung  das finale Angebot kann je nach Produktdetails und Mengen variieren.",categoryLabel:"Servicegruppe",serviceLabel:"Service",serviceSearchPlaceholder:"Services filtern",periodLabel:"Zeitraum",periodHelper:"Die Summe bercksichtigt die gewhlte Laufzeit.",periodOptions:{oneMonth:"1 Monat",threeMonths:"3 Monate",sixMonths:"6 Monate",twelveMonths:"12 Monate",other:"Andere"},addButton:"Zur Schtzung hinzufgen",remove:"Entfernen",pickerPlaceholder:"Service auswhlen",noServices:"In dieser Gruppe sind noch keine Services verfgbar.",noResults:"Keine Services entsprechen den Filtern.",selectedLabel:"Services",clearAll:"Alles zurcksetzen",emptySelection:"Whlen Sie links Services aus, um Ihr Angebot zu erstellen.",customPeriodLabel:"{months} Monate",customPeriodPlaceholder:"Anzahl Monate eingeben",customPeriodHint:"Individuelle Laufzeit"}},DL={pageTitle:"Servizi e Tariffe Amazon FBA in Francia",pageSubtitle:"Servizi professionali di prep Amazon FBA e fulfillment FBM in Francia e in tutta Europa. Ricezione rapida, etichettatura e stoccaggio con prezzi trasparenti e turnaround di 24h. Ideale per chi spedisce verso i centri Amazon UE o gestisce ordini diretti via FBM.",pricingSection:{title:"Tariffe aggiornate in tempo reale",description:"",export:"Scarica lofferta completa",loading:"Caricamento tariffe",empty:"Le tariffe sono in fase di configurazione. Torna presto.",error:"Impossibile caricare le tariffe. Riprova.",contact:"Contattaci",updated:"Ultimo aggiornamento: {date}",ctaFba:"Richiedi preventivo FBA",ctaFbm:"Aggiungi piattaforma FBM",ctaStorage:"Contattaci per lo stoccaggio",ctaExtra:"Richiedi servizio personalizzato",finalTitle:"Scarica il workbook completo dei prezzi.",finalNote:"File tabellare stile XLS, pronto per Excel o da inviare ai clienti.",groups:{fba:{title:"Servizi FBA Prep",subtitle:"Il nostro prep Amazon FBA include ricezione, controllo, etichettatura e imballaggio per unit."},fbm:{title:"Fulfillment FBM",subtitle:"Gestiamo il fulfillment FBM in Francia e in Europa per Amazon, eBay, Shopify e Vinted."},extra:{title:"Servizi extra",subtitle:"Opzioni per branding, documenti e traduzioni."},storage:{title:"Soluzioni di stoccaggio",subtitle:"Piani mensili e supplementi."},custom:{title:"Categoria aggiuntiva",subtitle:"Pubblicata dal pannello amministrativo."}}},newCustomerBonus:"Bonus Nuovo Cliente",bonusFirstMonths:"Primi 2 mesi: {new_customer_rate}/prodotto (invece di {standard_rate}) + Consulenza di configurazione gratuita",bonusFreelabels:"Plus: 100 etichette FNSKU GRATUITE quando superi 1000 unit in un mese calendario",standardFbaTitle:"Servizi FBA Standard",standardFbaSubtitle:"Soluzione di preparazione completa con tutto incluso",fnskuLabelingService:"Abbonamento archivio foto",perProduct:"/ prodotto",includedInRate:"(incluso nella tariffa standard)",receptionInspection:"Ricezione e ispezione visiva",professionalPolybagging:"Imballaggio plastico professionale",fnskuLabeling:"Abbonamento archivio foto (fino a 6 foto/SKU)",dunnageProtection:"Protezione con materiale di riempimento",standardRate:"Tariffa Standard",newCustomers:"Nuovi clienti: {new_customer_rate}",privateLabelTitle:"Servizi Private Label e Multi-Piattaforma",privateLabelSubtitle:"Soluzioni di fulfillment complete per il tuo brand su tutte le piattaforme",privateLabelPartnership:"Partnership Private Label",fnskuLabelingOnly:"Abbonamento archivio foto",polybaggingSealing:"Imballaggio Plastico e Sigillatura",multipackBundling:"Multipack / Raggruppamento (1 kg)",qualityCheckVisual:"Controllo Qualit (ispezione visiva)",insertMaterials:"Materiali di Inserimento (volantini, manuali, codice QR)",customPricing:"Prezzo Personalizzato",free:"Gratuito",perUnit:"/ unit",perSet:"/ set",multiPlatformFbm:"FBM Multi-Piattaforma",amazonFbmOrders:"Ordini Amazon FBM",cartonsIncluded:"/ ordine (cartoni inclusi)",ebayIntegration:"Integrazione eBay",shopifyWebsiteOrders:"Ordini Shopify/Sito Web",shippingViaPacklink:"Spedizione via PackLink",automaticDataIntegration:"integrazione automatica dei dati per etichette e ritiro corriere",extraServices:"Servizi Extra",additionalLabelsClient:"Etichette Aggiuntive (Traduzioni fornite dal cliente)",additionalLabelsTranslation:"Etichette Aggiuntive (Forniamo noi la traduzione)",translationFee:"costo di traduzione",applicationFee:"/ unit applicazione",otherLabels:"Altre Etichette (codici di trasparenza, etichette di avvertimento, ecc.)",fbmShippingTitle:"Tariffe di Spedizione FBM e Non-Partner",fbmShippingSubtitle:"Tariffe competitive basate sul tuo volume mensile",fbmMultiPlatformTitle:"Fulfillment FBM e Multi-Piattaforma",fbmDescription1:"Da Prep Center France, gestiamo pi del FBA  ci occupiamo anche di ordini FBM e multi-piattaforma con velocit e precisione. Dallo stoccaggio e gestione delle scorte al picking, imballaggio, spedizione e resi, tutto viene elaborato sotto lo stesso tetto.",fbmFeatures:{storage:"Stoccaggio e Controllo Inventario  magazzinaggio sicuro e organizzato in Francia",orderProcessing:"Elaborazione Ordini  picking e imballaggio rapidi e accurati",dispatch24h:"Spedizione entro 24h  tutti gli ordini lasciano il nostro magazzino in massimo un giorno lavorativo",sameDayShipping:"Spedizione in Giornata  ordini ricevuti prima delle 12:00 vengono spediti lo stesso giorno",returnsSupport:"Supporto Resi  controllo, reimballaggio o smaltimento di articoli restituiti, secondo le tue istruzioni"},fbmDescription2:"In questo modo, i tuoi clienti ricevono i loro ordini velocemente e in modo affidabile ovunque in Europa, mentre tu ti concentri sulla crescita del tuo business.",starter:"Starter",growth:"Crescita",enterprise:"Enterprise",popular:"Popolare",unitsPerMonth0999:"0-999 unit/mese",unitsPerMonth1000:"1000-1999 unit/mese",unitsPerMonth2000:"2000+ unit/mese",perOrder:"per ordine",additionalFbmCharges:"Costi FBM Aggiuntivi:",multiProductParcels:"Pacchi multi-prodotto >2kg: +0.10/prodotto extra",singleProducts:"Prodotti singoli >3kg: Prezzo personalizzato",transportTitle:"Prezzi Trasporto FBM e Non-Partner",transportSubtitle:"Tariffe di Spedizione Pacchi FBM",deliveryFrance:"Consegna in Francia (<2kg)",viaColissimo:"Via Colissimo",internationalDelivery:"Consegna internazionale (<3kg)",pricesIndicative:"Questi prezzi sono indicativi",specializedTransport:"Trasporto Specializzato:",dangerousGoods:"Merci pericolose (max 60x40x40cm, 20kg)",viaUps24h:"Via UPS - consegna 24h",storageSolutions:"Soluzioni di Stoccaggio",storageSubtitle:"Stoccaggio sicuro e flessibile per il tuo inventario",warehouseStorage:"Stoccaggio in Magazzino",storageIncluded:"1 m di Stoccaggio Incluso",additionalStorage:"Stoccaggio Aggiuntivo",perCubicMeterMonth:"/ m / mese",specializedStorage:"Stoccaggio Specializzato",oversizedProducts:"Prodotti Sovradimensionati",oversizedNote:"(articoli oltre 60 cm o pi pesanti di 15 kg)",fragileItemsHandling:"Gestione Articoli Fragili",fragileNote:"(vetro, ceramica, elettronica  protezione extra)",hazardousMaterials:"Materiali Pericolosi",hazardousNote:"(batterie, spray, prodotti chimici)",highValueItems:"Articoli di Alto Valore",highValueNote:"(sicurezza extra per prodotti premium)",inspectionTitle:"Ispezione e Controllo Qualit",inspectionDescription1:"Ogni scatola o pallet che arriva nel nostro magazzino viene ispezionato attentamente per assicurarsi che sia in buone condizioni e privo di danni. Se vengono rilevati problemi, li documentiamo con foto dettagliate e ti informiamo immediatamente via email.",inspectionDescription2:"Oltre a controllare l'imballaggio esterno, possiamo fotografare i prodotti su richiesta e inviarti le immagini direttamente via email. Questo ti d una prova chiara della qualit e foto che puoi anche utilizzare per annunci online o comunicazione con i clienti.",inspectionDescription3:"Attraverso questo processo, benefici di completa trasparenza sul tuo inventario e controllo rigoroso dei tuoi prodotti prima che vengano spediti ad Amazon o direttamente ai clienti.",calculatorTitle:"Ottieni un Preventivo Personalizzato",calculatorSubtitle:"Calcola i tuoi costi stimati in base alle tue esigenze",numberOfUnits:"Numero di SKU con archivio foto",numberOfFbmOrders:"Numero di Ordini FBM al Mese",numberOfPallets:"Numero di Pallet per lo Stoccaggio",selectServices:"Seleziona Servizi:",fnskuLabelingCalc:"Abbonamento archivio foto",polybaggingSealingCalc:"Imballaggio Plastico e Sigillatura (0.30/unit)",shippingCartons:"Cartoni di Spedizione (3.00/cartone)",multipackBundlingCalc:"Multipack/Raggruppamento (0.50/set)",insertMaterialsCalc:"Materiali di Inserimento (0.15/unit)",fbmShipping:"Spedizione FBM",ebayIntegrationCalc:"Integrazione eBay",shopifyIntegrationCalc:"Ordini Shopify/Sito Web",palletStorage:"Stoccaggio Pallet",additionalStorageCalc:"Stoccaggio Aggiuntivo (15/m/mese)",additionalLabelsClientCalc:"Etichette Aggiuntive (Traduzioni fornite dal cliente) (0.20/unit)",additionalLabelsTranslationCalc:"Etichette Aggiuntive (Forniamo noi la traduzione) (5.00 + 0.20/unit)",otherLabelsCalc:"Altre Etichette (codici di trasparenza, etichette di avvertimento, ecc.) (0.10/unit)",estimatedTotalCost:"Costo Totale Stimato:",pricesExcludeVat:"Prezzi IVA esclusa",requestQuote:"Richiedi Preventivo",numberOfUnitsPolybagging:"Numero di Unit per Imballaggio Plastico e Sigillatura (0.30/unit)",numberOfShippingCartons:"Numero di Cartoni di Spedizione (3.00/cartone)",numberOfMultipackSets:"Numero di Set Multipack (0.50/set, 1kg)",numberOfUnitsInsert:"Numero di Unit con Materiali di Inserimento (0.15/unit)",additionalStorageVolume:"Volume di Stoccaggio Aggiuntivo (m/mese) - 15/m",additionalLabelsClientUnits:"Etichette Aggiuntive (Traduzioni fornite dal cliente) (0.20/unit)",additionalLabelsTranslationUnits:"Etichette Aggiuntive (Forniamo noi la traduzione) (5.00 + 0.20/unit)",otherLabelsUnits:"Altre Etichette (codici di trasparenza, etichette di avvertimento, ecc.) (0.10/unit)",shippingSection:{domesticTitle:"Tariffe FBM  Spedizioni interne",domesticSubtitle:"Spedizioni nazionali  Francia",domesticDisclaimer:"Queste tariffe sono indicative e possono cambiare. Per tariffe esatte contattaci.",internationalTitle:"Tariffe FBM  Spedizioni internazionali",internationalSubtitle:"Scegli la destinazione per confrontare i vettori",internationalDisclaimer:"Queste tariffe internazionali sono indicative e possono cambiare. Per tariffe esatte contattaci.",dropdownLabel:"Seleziona destinazione",table:{transporter:"Vettore",info:"Info"}},calculator:{title:"Calcolatore di preventivo",subtitle:"Seleziona i servizi e le quantit per ottenere subito una stima (prezzi IVA esclusa).",selectorsHint:"Costruisci il preventivo selezionando un servizio alla volta.",empty:"Il listino  ancora in caricamento. Riprova tra qualche istante.",priceUnavailable:"Prezzo su richiesta",quantity:"Qt",totalLabel:"Totale stimato (IVA esclusa)",note:"Valore indicativo: il preventivo finale pu variare in base al prodotto e ai volumi.",categoryLabel:"Gruppo di servizi",serviceLabel:"Servizio",serviceSearchPlaceholder:"Filtra i servizi",periodLabel:"Periodo",periodHelper:"Il totale considera il numero di mesi selezionato.",periodOptions:{oneMonth:"1 mese",threeMonths:"3 mesi",sixMonths:"6 mesi",twelveMonths:"12 mesi",other:"Altro"},addButton:"Aggiungi al preventivo",remove:"Rimuovi",pickerPlaceholder:"Seleziona un servizio",noServices:"Nessun servizio disponibile in questo gruppo.",noResults:"Nessun servizio corrisponde ai filtri.",selectedLabel:"servizi",clearAll:"Azzera tutto",emptySelection:"Scegli i servizi dallelenco per comporre il preventivo.",customPeriodLabel:"{months} mesi",customPeriodPlaceholder:"Inserisci il numero di mesi",customPeriodHint:"Durata personalizzata"}},LL={pageTitle:"Servicios y Tarifas Amazon FBA en Francia",pageSubtitle:"Servicios profesionales de prep Amazon FBA y fulfillment FBM en Francia y Europa. Recepcin veloz, etiquetado y almacenamiento con precios transparentes y respuesta en 24 h. Ideal para vendedores que envan a centros Amazon UE o gestionan pedidos FBM directos.",pricingSection:{title:"Tarifas actualizadas en tiempo real",description:"",export:"Descargar oferta completa",loading:"Cargando tarifas",empty:"Las tarifas estn en preparacin. Vuelve pronto.",error:"No pudimos cargar las tarifas. Intenta nuevamente.",contact:"Solicitar oferta",updated:"ltima actualizacin: {date}",ctaFba:"Solicitar cotizacin FBA",ctaFbm:"Aadir plataforma FBM",ctaStorage:"Contactar por opciones de almacenamiento",ctaExtra:"Pedir servicio personalizado",finalTitle:"Descarga el libro completo de tarifas.",finalNote:"Archivo tabular estilo XLS listo para abrir en Excel o enviar a tus clientes.",groups:{fba:{title:"Servicios FBA Prep",subtitle:"Nuestro prep Amazon FBA incluye recepcin, inspeccin, etiquetado y embalaje por unidad."},fbm:{title:"Fulfillment FBM",subtitle:"Gestionamos pedidos FBM en Francia y Europa para Amazon, eBay, Shopify y Vinted."},extra:{title:"Servicios extra",subtitle:"Opciones para branding, documentos y traducciones."},storage:{title:"Soluciones de almacenamiento",subtitle:"Planes mensuales y recargos."},custom:{title:"Categora adicional",subtitle:"Publicada desde el panel de administracin."}}},newCustomerBonus:"Bonus Cliente Nuevo",bonusFirstMonths:"Primeros 2 meses: {new_customer_rate}/producto (en lugar de {standard_rate}) + Consulta de configuracin gratuita",bonusFreelabels:"Plus: 100 etiquetas FNSKU GRATIS cuando superes 1000 unidades en un mes calendario",standardFbaTitle:"Servicios FBA Estndar",standardFbaSubtitle:"Solucin de preparacin completa con todo incluido",fnskuLabelingService:"Suscripcin de almacenamiento de fotos",perProduct:"/ producto",includedInRate:"(incluido en la tarifa estndar)",receptionInspection:"Recepcin e inspeccin visual",professionalPolybagging:"Embolsado profesional",fnskuLabeling:"Suscripcin de almacenamiento de fotos (hasta 6 fotos/SKU)",dunnageProtection:"Proteccin con material de relleno",standardRate:"Tarifa Estndar",newCustomers:"Nuevos clientes: {new_customer_rate}",privateLabelTitle:"Servicios Private Label y Multi-Plataforma",privateLabelSubtitle:"Soluciones de fulfillment completas para tu marca en todas las plataformas",privateLabelPartnership:"Asociacin Private Label",fnskuLabelingOnly:"Suscripcin de almacenamiento de fotos",polybaggingSealing:"Embolsado y Sellado",multipackBundling:"Multipack / Agrupacin (1 kg)",qualityCheckVisual:"Control de Calidad (inspeccin visual)",insertMaterials:"Materiales de Insercin (folletos, manuales, cdigo QR)",customPricing:"Precio Personalizado",free:"Gratis",perUnit:"/ unidad",perSet:"/ conjunto",multiPlatformFbm:"FBM Multi-Plataforma",amazonFbmOrders:"Pedidos Amazon FBM",cartonsIncluded:"/ pedido (cartones incluidos)",ebayIntegration:"Integracin eBay",shopifyWebsiteOrders:"Pedidos Shopify/Sitio Web",shippingViaPacklink:"Envo va PackLink",automaticDataIntegration:"integracin automtica de datos para etiquetas y recogida de mensajera",extraServices:"Servicios Extra",additionalLabelsClient:"Etiquetas Adicionales (Traducciones proporcionadas por el cliente)",additionalLabelsTranslation:"Etiquetas Adicionales (Proporcionamos la traduccin)",translationFee:"tarifa de traduccin",applicationFee:"/ unidad aplicacin",otherLabels:"Otras Etiquetas (cdigos de transparencia, etiquetas de advertencia, etc.)",fbmShippingTitle:"Tarifas de Envo FBM y No-Socios",fbmShippingSubtitle:"Tarifas competitivas basadas en tu volumen mensual",fbmMultiPlatformTitle:"Fulfillment FBM y Multi-Plataforma",fbmDescription1:"En Prep Center France, gestionamos ms que FBA  tambin nos ocupamos de pedidos FBM y multi-plataforma con velocidad y precisin. Desde almacenamiento y manejo de stock hasta picking, empaquetado, envo y devoluciones, todo se procesa bajo un mismo techo.",fbmFeatures:{storage:"Almacenamiento y Control de Inventario  almacenaje seguro y organizado en Francia",orderProcessing:"Procesamiento de Pedidos  picking y empaquetado rpidos y precisos",dispatch24h:"Despacho en 24h  todos los pedidos salen de nuestro almacn en mximo un da hbil",sameDayShipping:"Envo el Mismo Da  pedidos recibidos antes de las 12:00 PM se envan el mismo da",returnsSupport:"Soporte de Devoluciones  verificacin, reempaquetado o eliminacin de artculos devueltos, segn tus instrucciones"},fbmDescription2:"De esta manera, tus clientes reciben sus pedidos rpida y confiablemente en cualquier lugar de Europa, mientras t te enfocas en hacer crecer tu negocio.",starter:"Principiante",growth:"Crecimiento",enterprise:"Empresa",popular:"Popular",unitsPerMonth0999:"0-999 unidades/mes",unitsPerMonth1000:"1000-1999 unidades/mes",unitsPerMonth2000:"2000+ unidades/mes",perOrder:"por pedido",additionalFbmCharges:"Cargos FBM Adicionales:",multiProductParcels:"Paquetes multi-producto >2kg: +0.10/producto extra",singleProducts:"Productos individuales >3kg: Precio personalizado",transportTitle:"Precios de Transporte FBM y No-Socios",transportSubtitle:"Tarifas de Envo de Paquetes FBM",deliveryFrance:"Entrega en Francia (<2kg)",viaColissimo:"Va Colissimo",internationalDelivery:"Entrega internacional (<3kg)",pricesIndicative:"Estos precios son indicativos",specializedTransport:"Transporte Especializado:",dangerousGoods:"Mercancas peligrosas (mx 60x40x40cm, 20kg)",viaUps24h:"Va UPS - entrega 24h",storageSolutions:"Soluciones de Almacenamiento",storageSubtitle:"Almacenamiento seguro y flexible para tu inventario",warehouseStorage:"Almacenamiento en Almacn",storageIncluded:"1 m de Almacenamiento Incluido",additionalStorage:"Almacenamiento Adicional",perCubicMeterMonth:"/ m / mes",specializedStorage:"Almacenamiento Especializado",oversizedProducts:"Productos Sobredimensionados",oversizedNote:"(artculos de ms de 60 cm o ms pesados que 15 kg)",fragileItemsHandling:"Manejo de Artculos Frgiles",fragileNote:"(vidrio, cermica, electrnicos  proteccin extra)",hazardousMaterials:"Materiales Peligrosos",hazardousNote:"(bateras, aerosoles, qumicos)",highValueItems:"Artculos de Alto Valor",highValueNote:"(seguridad extra para productos premium)",inspectionTitle:"Inspeccin y Control de Calidad",inspectionDescription1:"Cada caja o pallet que llega a nuestro almacn es inspeccionado cuidadosamente para asegurar que est en buenas condiciones y libre de daos. Si se encuentran problemas, los documentamos con fotos detalladas y te notificamos inmediatamente por email.",inspectionDescription2:"Adems de verificar el empaque exterior, podemos fotografiar productos bajo solicitud y enviarte las imgenes directamente por email. Esto te da prueba clara de la calidad y fotos que tambin puedes usar para listados en lnea o comunicacin con clientes.",inspectionDescription3:"A travs de este proceso, te beneficias de transparencia completa sobre tu inventario y control riguroso de tus productos antes de que sean enviados a Amazon o directamente a clientes.",calculatorTitle:"Obtn una Cotizacin Personalizada",calculatorSubtitle:"Calcula tus costos estimados basados en tus necesidades",numberOfUnits:"Nmero de SKU con almacenamiento de fotos",numberOfFbmOrders:"Nmero de Pedidos FBM por Mes",numberOfPallets:"Nmero de Pallets para Almacenamiento",selectServices:"Seleccionar Servicios:",fnskuLabelingCalc:"Suscripcin de almacenamiento de fotos",polybaggingSealingCalc:"Embolsado y Sellado (0.30/unidad)",shippingCartons:"Cartones de Envo (3.00/cartn)",multipackBundlingCalc:"Multipack/Agrupacin (0.50/conjunto)",insertMaterialsCalc:"Materiales de Insercin (0.15/unidad)",fbmShipping:"Envo FBM",ebayIntegrationCalc:"Integracin eBay",shopifyIntegrationCalc:"Pedidos Shopify/Sitio Web",palletStorage:"Almacenamiento de Pallets",additionalStorageCalc:"Almacenamiento Adicional (15/m/mes)",additionalLabelsClientCalc:"Etiquetas Adicionales (Traducciones proporcionadas por el cliente) (0.20/unidad)",additionalLabelsTranslationCalc:"Etiquetas Adicionales (Proporcionamos la traduccin) (5.00 + 0.20/unidad)",otherLabelsCalc:"Otras Etiquetas (cdigos de transparencia, etiquetas de advertencia, etc.) (0.10/unidad)",estimatedTotalCost:"Costo Total Estimado:",pricesExcludeVat:"Precios sin IVA",requestQuote:"Solicitar Cotizacin",numberOfUnitsPolybagging:"Nmero de Unidades para Embolsado y Sellado (0.30/unidad)",numberOfShippingCartons:"Nmero de Cartones de Envo (3.00/cartn)",numberOfMultipackSets:"Nmero de Conjuntos Multipack (0.50/conjunto, 1kg)",numberOfUnitsInsert:"Nmero de Unidades con Materiales de Insercin (0.15/unidad)",additionalStorageVolume:"Volumen de Almacenamiento Adicional (m/mes) - 15/m",additionalLabelsClientUnits:"Etiquetas Adicionales (Traducciones proporcionadas por el cliente) (0.20/unidad)",additionalLabelsTranslationUnits:"Etiquetas Adicionales (Proporcionamos la traduccin) (5.00 + 0.20/unidad)",otherLabelsUnits:"Otras Etiquetas (cdigos de transparencia, etiquetas de advertencia, etc.) (0.10/unidad)",shippingSection:{domesticTitle:"Tarifas de envo FBM",domesticSubtitle:"Envos nacionales  Francia",domesticDisclaimer:"Estos precios son orientativos y pueden cambiar. Para tarifas exactas, contctanos.",internationalTitle:"Tarifas de envo FBM internacionales",internationalSubtitle:"Elige el destino para comparar transportistas",internationalDisclaimer:"Estas tarifas internacionales son orientativas y pueden cambiar. Para tarifas exactas, contctanos.",dropdownLabel:"Selecciona destino",table:{transporter:"Transportista",info:"Info"}},calculator:{title:"Calculadora de presupuesto",subtitle:"Marca los servicios y las cantidades que necesitas para obtener una estimacin instantnea (precios sin IVA).",selectorsHint:"Crea tu presupuesto servicio por servicio con los selectores.",empty:"La lista de servicios an se est cargando. Intntalo de nuevo en unos instantes.",priceUnavailable:"Precio bajo solicitud",quantity:"Cant.",totalLabel:"Total estimado (sin IVA)",note:"Importe orientativo; la cotizacin final puede variar segn el producto y el volumen.",categoryLabel:"Grupo de servicios",serviceLabel:"Servicio",serviceSearchPlaceholder:"Filtrar servicios",periodLabel:"Periodo",periodHelper:"El total tiene en cuenta los meses que selecciones.",periodOptions:{oneMonth:"1 mes",threeMonths:"3 meses",sixMonths:"6 meses",twelveMonths:"12 meses",other:"Otro"},addButton:"Aadir a la estimacin",remove:"Eliminar",pickerPlaceholder:"Selecciona un servicio",noServices:"No hay servicios disponibles en este grupo.",noResults:"No hay servicios que coincidan con los filtros.",selectedLabel:"servicios",clearAll:"Limpiar seleccin",emptySelection:"Selecciona servicios de la lista para generar tu presupuesto.",customPeriodLabel:"{months} meses",customPeriodPlaceholder:"Introduce los meses",customPeriodHint:"Duracin personalizada"}},BL={pageTitle:"Servicii i Tarife Amazon FBA n Frana",pageSubtitle:"Servicii profesionale Amazon FBA i fulfillment FBM n Frana i Europa. Recepie rapid, etichetare i depozitare cu tarife transparente i timp de 24h. Ideal pentru vnztori care trimit ctre centre Amazon UE sau gestioneaz comenzi FBM directe.",pricingSection:{title:"Tarife actualizate n timp real",description:"",export:"Descarc oferta complet",loading:"ncrcm tarifele",empty:"Tarifele sunt n curs de configurare. Revino n scurt timp.",error:"Nu am putut ncrca tarifele. Rencearc.",contact:"Solicit ofert",updated:"Ultima remprosptare: {date}",ctaFba:"Solicit ofert FBA",ctaFbm:"Adaug platform FBM",ctaStorage:"Contacteaz-ne pentru depozitare",ctaExtra:"Cere serviciu personalizat",finalTitle:"Descarci imediat oferta complet.",finalNote:"Fiier tabelar n stil XLS, gata de folosit n Excel sau de trimis clienilor.",groups:{fba:{title:"Servicii FBA Prep",subtitle:"Serviciul nostru Amazon FBA include recepie, verificare, etichetare i ambalare per unitate."},fbm:{title:"Fulfillment FBM",subtitle:"Gestionm fulfillment FBM n Frana i Europa pentru comenzi Amazon, eBay, Shopify i Vinted."},extra:{title:"Servicii extra",subtitle:"Opiuni suplimentare pentru branding i documente."},storage:{title:"Depozitare",subtitle:"Planuri lunare i suprataxe pentru stoc."},custom:{title:"Categorie suplimentar",subtitle:"Publicat din panoul de administrare."}}},newCustomerBonus:"Bonus Client Nou",bonusFirstMonths:"Primele 2 luni: {new_customer_rate}/produs (n loc de {standard_rate}) + Consultan de configurare gratuit",bonusFreelabels:"Plus: 100 etichete FNSKU GRATUITE cnd depeti 1000 uniti ntr-o lun calendaristic",standardFbaTitle:"Servicii FBA Standard",standardFbaSubtitle:"Soluie de preparare complet cu totul inclus",fnskuLabelingService:"Abonament stocare foto",perProduct:"/ produs",includedInRate:"(inclus n tariful standard)",receptionInspection:"Recepie i inspecie vizual",professionalPolybagging:"Ambalare profesional",fnskuLabeling:"Abonament stocare foto (pn la 6 poze/SKU)",dunnageProtection:"Protecie cu material de umplutur",standardRate:"Tarif Standard",newCustomers:"Clieni noi: {new_customer_rate}",privateLabelTitle:"Servicii Private Label i Multi-Platform",privateLabelSubtitle:"Soluii complete de fulfillment pentru brandul tu pe toate platformele",privateLabelPartnership:"Parteneriat Private Label",fnskuLabelingOnly:"Abonament stocare foto",polybaggingSealing:"Ambalare i Sigilare",multipackBundling:"Multipack / Grupare (1 kg)",qualityCheckVisual:"Control Calitate (inspecie vizual)",insertMaterials:"Materiale de Inserie (pliante, manuale, cod QR)",customPricing:"Pre Personalizat",free:"Gratuit",perUnit:"/ unitate",perSet:"/ set",multiPlatformFbm:"FBM Multi-Platform",amazonFbmOrders:"Comenzi Amazon FBM",cartonsIncluded:"/ comand (cartoane incluse)",ebayIntegration:"Integrare eBay",shopifyWebsiteOrders:"Comenzi Shopify/Site Web",shippingViaPacklink:"Expediere via PackLink",automaticDataIntegration:"integrare automat de date pentru etichete i ridicare curier",extraServices:"Servicii Extra",additionalLabelsClient:"Etichete Adiionale (Traduceri furnizate de client)",additionalLabelsTranslation:"Etichete Adiionale (Furnizm noi traducerea)",translationFee:"tax de traducere",applicationFee:"/ unitate aplicare",otherLabels:"Alte Etichete (coduri de transparen, etichete de avertizare, etc.)",fbmShippingTitle:"Tarife de Expediere FBM i Non-Parteneri",fbmShippingSubtitle:"Tarife competitive bazate pe volumul tu lunar",fbmMultiPlatformTitle:"Fulfillment FBM i Multi-Platform",fbmDescription1:"La Prep Center France, gestionm mai mult dect FBA  ne ocupm i de comenzile FBM i multi-platform cu vitez i precizie. De la depozitare i gestionarea stocului pn la picking, mpachetare, expediere i returnri, totul este procesat sub acelai acoperi.",fbmFeatures:{storage:"Depozitare i Control Inventar  depozitare sigur i organizat n Frana",orderProcessing:"Procesarea Comenzilor  picking i mpachetare rapide i precise",dispatch24h:"Expediere n 24h  toate comenzile prsesc depozitul nostru n maximum o zi lucrtoare",sameDayShipping:"Expediere n Aceeai Zi  comenzile primite nainte de 12:00 sunt expediate n aceeai zi",returnsSupport:"Suport Returnri  verificare, rempachetare sau eliminarea articolelor returnate, conform instruciunilor tale"},fbmDescription2:"n acest fel, clienii ti primesc comenzile rapid i fiabil oriunde n Europa, n timp ce tu te concentrezi pe dezvoltarea afacerii tale.",starter:"nceptor",growth:"Cretere",enterprise:"ntreprindere",popular:"Popular",unitsPerMonth0999:"0-999 uniti/lun",unitsPerMonth1000:"1000-1999 uniti/lun",unitsPerMonth2000:"2000+ uniti/lun",perOrder:"per comand",additionalFbmCharges:"Taxe FBM Adiionale:",multiProductParcels:"Pachete multi-produs >2kg: +0.10/produs extra",singleProducts:"Produse individuale >3kg: Pre personalizat",transportTitle:"Preuri Transport FBM i Non-Parteneri",transportSubtitle:"Tarife de Expediere Pachete FBM",deliveryFrance:"Livrare n Frana (<2kg)",viaColissimo:"Via Colissimo",internationalDelivery:"Livrare internaional (<3kg)",pricesIndicative:"Aceste preuri sunt orientative",specializedTransport:"Transport Specializat:",dangerousGoods:"Mrfuri periculoase (max 60x40x40cm, 20kg)",viaUps24h:"Via UPS - livrare 24h",storageSolutions:"Soluii de Depozitare",storageSubtitle:"Depozitare sigur i flexibil pentru inventarul tu",warehouseStorage:"Depozitare n Magazie",storageIncluded:"1 m Depozitare Inclus",additionalStorage:"Depozitare Adiional",perCubicMeterMonth:"/ m / lun",specializedStorage:"Depozitare Specializat",oversizedProducts:"Produse Supradimensionate",oversizedNote:"(articole peste 60 cm sau mai grele de 15 kg)",fragileItemsHandling:"Manipularea Articolelor Fragile",fragileNote:"(sticl, ceramic, electronice  protecie extra)",hazardousMaterials:"Materiale Periculoase",hazardousNote:"(baterii, spray-uri, chimicale)",highValueItems:"Articole de Valoare Mare",highValueNote:"(securitate extra pentru produse premium)",inspectionTitle:"Inspecie i Control Calitate",inspectionDescription1:"Fiecare cutie sau palet care sosete n depozitul nostru este inspectat cu atenie pentru a ne asigura c este n stare bun i fr deteriorri. Dac sunt gsite probleme, le documentm cu fotografii detaliate i te anunm imediat prin email.",inspectionDescription2:"Pe lng verificarea ambalajului exterior, putem fotografia produsele la cerere i s i trimitem imaginile direct prin email. Aceasta i ofer dovada clar a calitii i fotografii pe care le poi folosi i pentru listri online sau comunicarea cu clienii.",inspectionDescription3:"Prin acest proces, beneficiezi de transparen complet asupra inventarului tu i control riguros al produselor tale nainte ca acestea s fie expediate ctre Amazon sau direct ctre clieni.",calculatorTitle:"Obine o Ofert Personalizat",calculatorSubtitle:"Calculeaz costurile estimate pe baza nevoilor tale",numberOfUnits:"Numrul de SKU-uri care folosesc stocarea foto",numberOfFbmOrders:"Numrul de Comenzi FBM pe Lun",numberOfPallets:"Numrul de Palei pentru Depozitare",selectServices:"Selecteaz Serviciile:",fnskuLabelingCalc:"Abonament stocare foto",polybaggingSealingCalc:"Ambalare i Sigilare (0.30/unitate)",shippingCartons:"Cartoane de Expediere (3.00/carton)",multipackBundlingCalc:"Multipack/Grupare (0.50/set)",insertMaterialsCalc:"Materiale de Inserie (0.15/unitate)",fbmShipping:"Expediere FBM",ebayIntegrationCalc:"Integrare eBay",shopifyIntegrationCalc:"Comenzi Shopify/Site Web",palletStorage:"Depozitare Palei",additionalStorageCalc:"Depozitare Adiional (15/m/lun)",additionalLabelsClientCalc:"Etichete Adiionale (Traduceri furnizate de client) (0.20/unitate)",additionalLabelsTranslationCalc:"Etichete Adiionale (Furnizm noi traducerea) (5.00 + 0.20/unitate)",otherLabelsCalc:"Alte Etichete (coduri de transparen, etichete de avertizare, etc.) (0.10/unitate)",estimatedTotalCost:"Cost Total Estimat:",pricesExcludeVat:"Preurile exclud TVA",requestQuote:"Solicit Ofert",numberOfUnitsPolybagging:"Numrul de Uniti pentru Ambalare i Sigilare (0.30/unitate)",numberOfShippingCartons:"Numrul de Cartoane de Expediere (3.00/carton)",numberOfMultipackSets:"Numrul de Seturi Multipack (0.50/set, 1kg)",numberOfUnitsInsert:"Numrul de Uniti cu Materiale de Inserie (0.15/unitate)",additionalStorageVolume:"Volumul de Depozitare Adiional (m/lun) - 15/m",additionalLabelsClientUnits:"Etichete Adiionale (Traduceri furnizate de client) (0.20/unitate)",additionalLabelsTranslationUnits:"Etichete Adiionale (Furnizm noi traducerea) (5.00 + 0.20/unitate)",otherLabelsUnits:"Alte Etichete (coduri de transparen, etichete de avertizare, etc.) (0.10/unitate)",shippingSection:{domesticTitle:"Tarife FBM  livrri interne",domesticSubtitle:"Expediere intern  Frana",domesticDisclaimer:"Aceste preuri sunt orientative i pot fi actualizate fr notificare. Pentru tarife exacte, contacteaz-ne.",internationalTitle:"Tarife FBM  livrri internaionale",internationalSubtitle:"Alege destinaia pentru a compara transportatorii",internationalDisclaimer:"Aceste tarife internaionale sunt orientative i pot fi actualizate fr notificare. Pentru tarife exacte, contacteaz-ne.",dropdownLabel:"Selecteaz destinaia",table:{transporter:"Transportator",info:"Info"}},calculator:{title:"Calculeaz bugetul",subtitle:"Bifeaz serviciile i cantitile necesare pentru a vedea instant o estimare (preuri afiate fr TVA).",selectorsHint:"Construiete estimarea adugnd serviciile dorite pe rnd.",empty:"Lista de servicii se ncarc nc. ncearc din nou peste cteva momente.",priceUnavailable:"Pre la cerere",quantity:"Cant.",totalLabel:"Total estimativ (fr TVA)",note:"Suma este orientativ. Oferta final poate varia n funcie de specificaiile produselor i volume.",categoryLabel:"Grup de servicii",serviceLabel:"Serviciu",serviceSearchPlaceholder:"Filtreaz serviciile",periodLabel:"Perioad",periodHelper:"Totalul ia n calcul numrul de luni selectat.",periodOptions:{oneMonth:"1 lun",threeMonths:"3 luni",sixMonths:"6 luni",twelveMonths:"12 luni",other:"Alt perioad"},addButton:"Adaug n estimare",remove:"terge",pickerPlaceholder:"Selecteaz un serviciu",noServices:"Nu exist servicii n acest grup.",noResults:"Nu exist servicii care s corespund cutrii.",selectedLabel:"servicii",clearAll:"Reseteaz selecia",emptySelection:"Alege serviciile din list pentru a genera oferta.",customPeriodLabel:"{months} luni",customPeriodPlaceholder:"Introdu numrul de luni",customPeriodHint:"Durat personalizat"}},Uh={en:ML,fr:FL,de:RL,it:DL,es:LL,ro:BL},nw=(e,t)=>t.split(".").reduce((r,n)=>r&&r[n]!==void 0?r[n]:void 0,e),qL=e=>({t:r=>{const n=Uh[e]||Uh.en;return nw(n,r)??nw(Uh.en,r)??r}}),UL="modulepreload",$L=function(e){return"/"+e},iw={},sm=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=$L(c),c in iw)return;iw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":UL,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((h,m)=>{p.addEventListener("load",h),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var l2={exports:{}};(function(e,t){(function(r,n){n()})(Zn,function(){function r(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,d,p){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){c(h.response,d,p)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Zn=="object"&&Zn.global===Zn?Zn:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,d,p){var h=o.URL||o.webkitURL,m=document.createElement("a");d=d||u.name||"download",m.download=d,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?a(m):i(m.href)?n(u,d,p):a(m,m.target="_blank")):(m.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(m.href)},4e4),setTimeout(function(){a(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,p){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,p),d);else if(i(u))n(u,d,p);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){a(h)})}}:function(u,d,p,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return n(u,d,p);var m=u.type==="application/octet-stream",y=/constructor/i.test(o.HTMLElement)||o.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||m&&y||l)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var _=g.result;_=f?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=_:location=_,h=null},g.readAsDataURL(u)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(u);h?h.location=b:location.href=b,h=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=c.saveAs=c,e.exports=c})})(l2);var c2=l2.exports;async function u2(e,t="pricing.pdf"){const{jsPDF:r}=await sm(async()=>{const{jsPDF:c}=await import("./jspdf.es.min-m__sMxas.js").then(u=>u.j);return{jsPDF:c}},[]),n=new r,i=14;let a=20;n.setFontSize(18),n.text("Services & Pricing",i,a);const o=Object.entries(e||{});n.setFontSize(12),o.forEach(([c,u])=>{a+=10,a>280&&(n.addPage(),a=20),n.setFont(void 0,"bold"),n.text(c,i,a),n.setFont(void 0,"normal"),(u||[]).forEach(d=>{a+=7,a>280&&(n.addPage(),a=20);const p=`${d.service_name||""}  ${d.price||"0.00"} / ${d.unit||""}`;n.text(p,i+4,a)})});const l=n.output("blob");c2.saveAs(l,t)}const aw=[{id:"FBA Prep Services",key:"fba"},{id:"FBM Fulfillment",key:"fbm"},{id:"Extra Services",key:"extra"},{id:"Storage",key:"storage"}],$h=["0.25","0.5","1","20"],vu={"Germany/Austria":["0.5","1","10","20"],Spain:["0.5","1","10","20"],Italy:["0.5","1","10","20"],Belgium:["0.5","1","10","20"],"United Kingdom":["0.5","1","2","5"]},Vh=[{id:"1m",labelKey:"oneMonth",multiplier:1},{id:"3m",labelKey:"threeMonths",multiplier:3},{id:"6m",labelKey:"sixMonths",multiplier:6},{id:"12m",labelKey:"twelveMonths",multiplier:12}],sw={Colissimo:{bg:"#FEF3C7",text:"#92400E"},"Colis Priv":{bg:"#E0F2FE",text:"#075985"},UPS:{bg:"#EDE9FE",text:"#5B21B6"},"Mondial Relay":{bg:"#FDE68A",text:"#92400E"},Chronopost:{bg:"#DBEAFE",text:"#1D4ED8"},FedEx:{bg:"#F3E8FF",text:"#6B21A8"}},ow={fba:{wrapper:"bg-blue-50 border-blue-100",pill:"bg-blue-100 text-blue-900",icon:"text-blue-900"},fbm:{wrapper:"bg-slate-50 border-slate-200",pill:"bg-slate-200 text-slate-900",icon:"text-slate-900"},extra:{wrapper:"bg-green-50 border-green-100",pill:"bg-green-100 text-green-900",icon:"text-green-900"},storage:{wrapper:"bg-gray-50 border-gray-100",pill:"bg-gray-200 text-gray-900",icon:"text-gray-900"},custom:{wrapper:"bg-white border-gray-100",pill:"bg-gray-100 text-gray-900",icon:"text-gray-900"}},VL={fr:"fr-FR",en:"en-US",de:"de-DE",it:"it-IT",es:"es-ES",ro:"ro-RO"},WL=e=>{if(e==null)return null;const t=String(e).replace(/[^0-9,.\-]/g,"").replace(",",".").trim();if(!t)return null;const r=Number(t);return Number.isFinite(r)?r:null},KL=(e=[])=>{const t={};return e.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push({id:r.id,service_name:r.service_name,price:r.price,unit:r.unit,position:r.position??0})}),Object.keys(t).forEach(r=>{t[r].sort((n,i)=>n.position-i.position)}),t};function HL(){const{currentLanguage:e}=Dr(),{t}=qL(e);Jp();const[r,n]=x.useState({}),[i,a]=x.useState({}),[o,l]=x.useState({domestic:[],international:{}}),[c,u]=x.useState("Germany/Austria"),[d,p]=x.useState(""),[h,m]=x.useState(!0),[y,f]=x.useState(!0),[g,v]=x.useState(""),[b,_]=x.useState(""),[S,w]=x.useState([]),N=t("pricingSection.error"),j=t("shippingSection.domesticDisclaimer"),O=L=>{const Z=(L||"").toString().trim();return Z?Z.toUpperCase().includes("HT")?Z:`${Z} HT`:t("pricingSection.contact")},E=x.useCallback((L,Z)=>{var Ae,Fe,Xe;const X=`${L}_${e}`,le=`${L}_en`,ce=(Ae=r==null?void 0:r[X])==null?void 0:Ae.trim();if(ce)return ce;const ae=Z?t(Z):"";if(ae&&ae!==Z)return ae;const be=(Fe=r==null?void 0:r[le])==null?void 0:Fe.trim();if(be)return be;const me=(Xe=r==null?void 0:r[L])==null?void 0:Xe.trim();return me||ae||""},[r,e,t]),P=E("services_title","pageTitle"),M=E("services_subtitle","pageSubtitle"),T=x.useCallback(async()=>{f(!0),v("");try{const{data:L,error:Z}=await he.getPricingServices();if(Z)throw Z;a(KL(L||[]))}catch(L){console.error("Pricing fetch failed",L),v(N)}finally{f(!1)}},[N]),$=x.useCallback(async()=>{const{data:L,error:Z}=await he.getContent();if(Z){console.error("Content fetch failed",Z);return}n(L||{})},[]),C=x.useCallback(async()=>{m(!0),p("");try{const{data:L,error:Z}=await he.getFbmShippingRates();if(Z)throw Z;const X=[],le={};(L||[]).forEach(ce=>{const ae={id:ce.id,provider:ce.provider,info:ce.info||"",color:ce.color||"",rates:ce.rates||{}};ce.category==="domestic"?X.push(ae):(le[ce.region]||(le[ce.region]=[]),le[ce.region].push(ae))}),l({domestic:X,international:le})}catch(L){console.error("Shipping fetch failed",L),p(j)}finally{m(!1)}},[j]);x.useEffect(()=>{T(),$(),C()},[T,$,C]);const U=x.useMemo(()=>{const L=aw.filter(le=>{var ce;return(ce=i[le.id])==null?void 0:ce.length}),Z=Object.keys(i).filter(le=>!aw.some(ce=>ce.id===le));return[...L,...Z.map(le=>({id:le,key:"custom"}))].map(le=>({...le,items:i[le.id]||[]}))},[i]),K=x.useMemo(()=>U.map(L=>({...L,items:L.items.map(Z=>({...Z,normalizedName:(Z.service_name||"").toLowerCase(),numericPrice:WL(Z.price),sectionId:L.id}))})),[U]),F=x.useMemo(()=>{const L={};return K.forEach(Z=>{Z.items.forEach(X=>{L[X.id]=X})}),L},[K]),H=K,G=H.some(L=>L.items.length>0);x.useEffect(()=>{if(!G){_("");return}_(L=>H.some(X=>X.items.some(le=>le.id===L))?L:"")},[H,G]);const ie=x.useMemo(()=>Vh.reduce((L,Z)=>(L[Z.id]=Z,L),{}),[]),J=x.useCallback(L=>{var Z;return(L==null?void 0:L.sectionId)==="Storage"&&((Z=Vh[0])==null?void 0:Z.id)||"1m"},[]),Y=x.useCallback((L,Z=null)=>{if(!L)return;const X=F[L],le=Z||J(X);w(ce=>{const ae=[...ce],be=ae.findIndex(me=>me.serviceId===L&&me.periodId===le);return be>=0?ae[be]={...ae[be],qty:(ae[be].qty||1)+1}:ae.push({serviceId:L,periodId:le,qty:1}),ae})},[F,J]),pe=L=>{L&&(Y(L),_(""))},oe=x.useMemo(()=>S.map(L=>{const Z=F[L.serviceId];if(!Z)return null;const X=Math.max(1,Number(L.qty)||1),ce=Z.sectionId==="Storage"&&L.periodId==="custom",ae=ie[L.periodId]||ie["1m"],be=ce?Math.max(1,Number(L.customPeriodMonths)||1):null,me=be??(ae==null?void 0:ae.multiplier)??1,Ae=ce?t("calculator.customPeriodLabel",{months:me}):t(`calculator.periodOptions.${(ae==null?void 0:ae.labelKey)||"oneMonth"}`),Fe=Z.numericPrice==null?null:Z.numericPrice*X*me;return{...L,qty:X,service:Z,period:{id:ce?"custom":(ae==null?void 0:ae.id)||"1m",labelKey:ce?"other":(ae==null?void 0:ae.labelKey)||"oneMonth",multiplier:me,displayLabel:Ae},customPeriodMonths:be,lineTotal:Fe}}).filter(Boolean),[S,F,ie,t]),se=x.useMemo(()=>oe.reduce((L,Z)=>Z.lineTotal==null?L:L+Z.lineTotal,0),[oe]),_e=(L,Z,X)=>{const le=Math.max(1,Number(X)||1);w(ce=>ce.map(ae=>ae.serviceId===L&&ae.periodId===Z?{...ae,qty:le}:ae))},te=(L,Z,X)=>{!X||Z===X||w(le=>{const ce=le.findIndex(me=>me.serviceId===L&&me.periodId===Z);if(ce===-1)return le;const ae=[...le],be=ae.findIndex((me,Ae)=>Ae!==ce&&me.serviceId===L&&me.periodId===X);return be>=0?(ae[be]={...ae[be],qty:(ae[be].qty||1)+(ae[ce].qty||1)},ae.splice(ce,1)):ae[ce]={...ae[ce],periodId:X,customPeriodMonths:null},ae})},de=(L,Z,X=12)=>{const le=Math.max(1,Number(X)||1);w(ce=>ce.map(ae=>ae.serviceId===L&&ae.periodId===Z?{...ae,periodId:"custom",customPeriodMonths:le}:ae))},B=(L,Z)=>{const X=Math.max(1,Number(Z)||1);w(le=>le.map(ce=>ce.serviceId===L&&ce.periodId==="custom"?{...ce,customPeriodMonths:X}:ce))},I=(L,Z)=>{w(X=>X.filter(le=>!(le.serviceId===L&&le.periodId===Z)))},R=x.useMemo(()=>new Intl.NumberFormat(VL[e]||"en-US",{style:"currency",currency:"EUR",maximumFractionDigits:2}),[e]),q=()=>{w([])},re=async()=>{if(!Object.keys(i).length){v(t("pricingSection.error"));return}try{await u2(i)}catch(L){console.error("PDF export failed",L),v(t("pricingSection.error"))}},k=(L="")=>{const Z=L.toLowerCase();return Z.includes("label")?Ly:Z.includes("polybag")||Z.includes("pack")?$a:Z.includes("storage")||Z.includes("pallet")?CM:Z.includes("ship")||Z.includes("fbm")||Z.includes("order")?vc:Z.includes("insert")||Z.includes("custom")?My:Z.includes("quality")||Z.includes("check")?Ln:CF},ee=(L,Z)=>{const X=sw[L.provider]||{bg:L.color||"transparent",text:"#111827"};return s.jsxs("tr",{className:"border-t",style:{backgroundColor:X.bg},children:[s.jsx("td",{className:"px-4 py-3 font-semibold",style:{color:X.text},children:L.provider}),Z.map(le=>{var ce;return s.jsx("td",{className:"px-4 py-3 text-center",children:((ce=L.rates)==null?void 0:ce[le])||""},le)}),s.jsx("td",{className:"px-4 py-3 text-sm text-text-secondary",children:L.info||""})]},L.id)},D=(L,Z)=>s.jsx("div",{className:"md:hidden space-y-4",children:L.map(X=>{const le=sw[X.provider]||{bg:X.color||"#F8FAFC",text:"#111827"};return s.jsxs("article",{className:"rounded-2xl border shadow-sm p-4",style:{backgroundColor:le.bg},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-semibold",style:{color:le.text},children:X.provider}),s.jsx("span",{className:"text-xs uppercase text-text-light",children:t("shippingSection.table.transporter")})]}),s.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3",children:Z.map(ce=>{var ae;return s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-text-light",children:ce.includes("kg")?ce:`${ce} kg`}),s.jsx("p",{className:"text-base font-semibold text-text-primary",children:((ae=X.rates)==null?void 0:ae[ce])||""})]},ce)})}),X.info&&s.jsx("p",{className:"mt-3 text-sm text-text-secondary",children:X.info})]},X.id)})}),A=x.useMemo(()=>({fba:{label:t("pricingSection.ctaFba"),href:"/contact"},fbm:{label:t("pricingSection.ctaFbm"),href:"/contact"},storage:{label:t("pricingSection.ctaStorage"),href:"/contact"},extra:{label:t("pricingSection.ctaExtra"),href:"/contact"}}),[t]),z=t("pricingSection.description"),W=z&&z!=="pricingSection.description"?z:"";return s.jsx("div",{className:"min-h-screen py-20 bg-gradient-to-b from-white via-gray-50 to-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 space-y-12",children:[s.jsxs("header",{className:"text-center space-y-5 mx-auto max-w-lg",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-text-primary leading-tight",children:P}),s.jsx("p",{className:"text-sm md:text-base text-text-secondary",children:M})]}),s.jsxs("section",{className:"bg-white border rounded-3xl shadow-sm p-6 space-y-6 -mt-4",children:[g&&s.jsx("div",{className:"px-4 py-3 bg-red-50 border border-red-100 rounded-lg text-sm text-red-700",children:g}),y?s.jsx("div",{className:"px-4 py-10 text-center text-text-secondary",children:t("pricingSection.loading")}):U.length===0?s.jsx("div",{className:"px-4 py-10 text-center text-text-secondary",children:t("pricingSection.empty")}):s.jsx("div",{className:"space-y-8",children:U.map(L=>{const Z=ow[L.key]||ow.custom,X=A[L.key];return s.jsxs("article",{className:`rounded-3xl border shadow-sm p-6 space-y-6 ${Z.wrapper}`,children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide ${Z.pill}`,children:t(`pricingSection.groups.${L.key}.title`)||L.id}),s.jsx("h2",{className:"mt-2 text-2xl font-semibold text-text-primary",children:L.id}),s.jsx("p",{className:"text-sm text-text-secondary",children:t(`pricingSection.groups.${L.key}.subtitle`)||L.id})]}),L.key!=="extra"&&W&&s.jsx("div",{className:"text-sm text-text-secondary max-w-lg",children:W})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:L.items.map(le=>{const ce=k(le.service_name);return s.jsxs("div",{className:"flex gap-4 rounded-2xl bg-white/80 border border-white shadow-sm p-4",children:[s.jsx("div",{className:"shrink-0 rounded-xl bg-white p-3 shadow",children:s.jsx(ce,{className:`w-5 h-5 ${Z.icon}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-semibold text-text-primary",children:le.service_name}),s.jsxs("p",{className:"text-sm text-text-secondary",children:[O(le.price),s.jsxs("span",{className:"text-xs text-text-light",children:[" / ",le.unit]})]})]})]},le.id)})}),X&&s.jsxs("a",{href:X.href,className:"inline-flex items-center gap-2 px-5 py-2 rounded-lg bg-primary text-white font-semibold hover:bg-primary-dark self-start",children:[X.label,s.jsx(_g,{className:"w-4 h-4"})]})]},L.id)})})]}),s.jsxs("section",{className:"bg-[#0B1221] text-white rounded-3xl p-8 space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:t("pricingSection.finalTitle")}),s.jsx("p",{className:"text-white/80 text-sm md:text-base",children:t("pricingSection.finalNote")})]}),s.jsx("div",{children:s.jsxs("button",{onClick:re,className:"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-white text-gray-900 font-semibold hover:bg-gray-100",children:[s.jsx(Qp,{className:"w-4 h-4"}),t("pricingSection.export")]})})]}),s.jsxs("section",{className:"space-y-12",children:[s.jsxs("div",{className:"bg-white border rounded-3xl shadow-sm p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:t("shippingSection.domesticTitle")}),s.jsx("p",{className:"text-text-secondary",children:t("shippingSection.domesticSubtitle")})]}),h?s.jsx("div",{className:"py-10 text-center text-text-secondary",children:t("pricingSection.loading")}):s.jsxs(s.Fragment,{children:[D(o.domestic,$h),s.jsx("div",{className:"hidden md:block overflow-auto border rounded-xl",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-text-secondary",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:t("shippingSection.table.transporter")}),$h.map(L=>s.jsx("th",{className:"px-4 py-3 text-center",children:L==="20"?"20 kg":`${L} kg`},L)),s.jsx("th",{className:"px-4 py-3 text-left",children:t("shippingSection.table.info")})]})}),s.jsx("tbody",{children:o.domestic.map(L=>ee(L,$h))})]})})]}),s.jsx("p",{className:"text-xs text-text-light",children:t("shippingSection.domesticDisclaimer")})]}),s.jsxs("div",{className:"bg-white border rounded-3xl shadow-sm p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:t("shippingSection.internationalTitle")}),s.jsx("p",{className:"text-text-secondary",children:t("shippingSection.internationalSubtitle")})]}),s.jsx("select",{value:c,onChange:L=>u(L.target.value),className:"border rounded-lg px-4 py-2","aria-label":t("shippingSection.dropdownLabel"),children:Object.keys(vu).map(L=>s.jsx("option",{value:L,children:L},L))})]}),h?s.jsx("div",{className:"py-10 text-center text-text-secondary",children:t("pricingSection.loading")}):s.jsxs(s.Fragment,{children:[D(o.international[c]||[],vu[c]||[]),s.jsx("div",{className:"hidden md:block overflow-auto border rounded-xl",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-text-secondary",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:t("shippingSection.table.transporter")}),(vu[c]||[]).map(L=>s.jsxs("th",{className:"px-4 py-3 text-center",children:[L," kg"]},L)),s.jsx("th",{className:"px-4 py-3 text-left",children:t("shippingSection.table.info")})]})}),s.jsx("tbody",{children:(o.international[c]||[]).map(L=>ee(L,vu[c]||[]))})]})})]}),d&&s.jsx("div",{className:"text-xs text-red-500",children:d}),s.jsx("p",{className:"text-xs text-text-light",children:t("shippingSection.internationalDisclaimer")})]})]}),s.jsxs("section",{className:"bg-white border rounded-3xl shadow-sm p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs uppercase text-text-light tracking-wide",children:t("calculator.title")}),s.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:t("calculator.subtitle")}),s.jsx("p",{className:"text-sm text-text-secondary",children:t("calculator.selectorsHint")})]}),s.jsxs("div",{className:"text-left lg:text-right",children:[s.jsx("p",{className:"text-xs uppercase text-text-light",children:t("calculator.totalLabel")}),s.jsx("p",{className:"text-3xl font-bold text-primary",children:R.format(se||0)})]})]}),K.length===0?s.jsx("div",{className:"py-12 text-center text-text-secondary",children:t("calculator.empty")}):s.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsx("div",{className:"rounded-3xl border bg-gray-50/80 p-5 space-y-5 shadow-inner",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs uppercase text-text-light",children:t("calculator.categoryLabel")}),s.jsx("select",{value:b,onChange:L=>pe(L.target.value),disabled:!G,className:"w-full rounded-lg border px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary disabled:bg-gray-100",children:G?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",disabled:!0,children:t("calculator.pickerPlaceholder")}),H.map(L=>s.jsx("optgroup",{label:t(`pricingSection.groups.${L.key}.title`)||L.id,children:L.items.map(Z=>s.jsx("option",{value:Z.id,children:`${Z.service_name}  ${Z.price??t("calculator.priceUnavailable")}  ${Z.unit}`},Z.id))},L.id))]}):s.jsx("option",{value:"",children:t("calculator.noResults")})})]})}),s.jsx("div",{className:"space-y-2",children:oe.length===0?s.jsx("div",{className:"rounded-2xl border border-dashed bg-white p-6 text-sm text-text-secondary text-center",children:t("calculator.emptySelection")}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:oe.map(L=>s.jsxs("div",{className:"relative rounded-2xl border bg-white p-3 text-xs shadow-sm flex flex-col gap-2 min-h-[140px]",children:[s.jsx("button",{type:"button","aria-label":t("calculator.remove"),onClick:()=>I(L.service.id,L.period.id),className:"absolute top-2 right-2 text-text-light hover:text-text-primary text-sm",children:""}),s.jsxs("div",{className:"space-y-1 pr-4",children:[s.jsx("p",{className:"font-semibold text-text-primary text-sm leading-tight",children:L.service.service_name}),s.jsxs("p",{className:"text-[11px] text-text-light",children:[L.service.sectionId,"  ",L.period.displayLabel]}),s.jsx("p",{className:"text-[11px] text-text-secondary",children:L.service.price==null?t("calculator.priceUnavailable"):`${O(L.service.price)}  ${L.service.unit}`})]}),L.service.sectionId==="Storage"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[Vh.map(Z=>{const X=L.period.id===Z.id;return s.jsx("button",{type:"button",onClick:()=>te(L.service.id,L.period.id,Z.id),className:`px-2 py-1 rounded-full text-[11px] border transition ${X?"bg-primary text-white border-primary":"bg-white text-text-secondary border-gray-200 hover:border-primary"}`,children:t(`calculator.periodOptions.${Z.labelKey}`)},Z.id)}),s.jsx("button",{type:"button",onClick:()=>de(L.service.id,L.period.id),className:`px-2 py-1 rounded-full text-[11px] border transition ${L.period.id==="custom"?"bg-primary text-white border-primary":"bg-white text-text-secondary border-gray-200 hover:border-primary"}`,children:t("calculator.periodOptions.other")})]}),L.period.id==="custom"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",min:"1",value:L.customPeriodMonths||"",onChange:Z=>B(L.service.id,Z.target.value),className:"w-20 rounded-lg border px-2 py-1 text-xs",placeholder:t("calculator.customPeriodPlaceholder")}),s.jsx("span",{className:"text-[11px] text-text-light",children:t("calculator.customPeriodHint")})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 mt-auto",children:[s.jsx("span",{className:"text-[10px] uppercase text-text-light",children:t("calculator.quantity")}),s.jsx("input",{id:`qty-inline-${L.service.id}-${L.period.id}`,type:"number",min:"1",value:L.qty,onChange:Z=>_e(L.service.id,L.period.id,Z.target.value),className:"w-14 rounded-lg border px-2 py-1 text-xs text-center"})]})]},`${L.service.id}-${L.period.id}`))})})]}),s.jsxs("aside",{className:"bg-[#0B1221] text-white rounded-3xl p-5 space-y-4 shadow-xl lg:sticky lg:top-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-white/50",children:t("calculator.totalLabel")}),s.jsx("p",{className:"text-2xl font-semibold",children:R.format(se||0)})]}),oe.length>0&&s.jsx("button",{type:"button",onClick:q,className:"text-xs underline decoration-dotted text-white/80 hover:text-white",children:t("calculator.clearAll")})]}),s.jsx("div",{className:"space-y-2 max-h-[360px] overflow-auto pr-1",children:oe.length===0?s.jsx("p",{className:"text-sm text-white/70",children:t("calculator.emptySelection")}):oe.map(L=>s.jsxs("div",{className:"flex items-start justify-between gap-3 border-b border-white/10 pb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:L.service.service_name}),s.jsxs("p",{className:"text-[11px] text-white/60",children:[L.service.sectionId,"  ",L.period.displayLabel]}),s.jsxs("p",{className:"text-[11px] text-white/60",children:[L.qty," "," ",L.service.price==null?t("calculator.priceUnavailable"):`${O(L.service.price)}  ${L.service.unit}`]})]}),s.jsx("p",{className:"text-sm font-semibold",children:L.lineTotal==null?t("calculator.priceUnavailable"):R.format(L.lineTotal)})]},`${L.service.id}-${L.period.id}`))}),s.jsx("p",{className:"text-xs text-white/70",children:t("calculator.note")})]})]})]})]})})}const GL={pageTitle:"About Prep Center France  Amazon FBA Prep Services for European Sellers",pageSubtitle:"With over 4 years of hands-on Amazon FBA experience, Prep Center France is a professional Amazon FBA prep center in France offering fast 24h prep, labeling, and FBM order fulfillment across Europe.",ourStory:"Our Story",ourStoryParagraph1:"Prep Center France was established to support European Amazon and e-commerce sellers with fast, reliable, and transparent FBA prep services. Its location in France provides a strategic hub for efficient distribution across the European Union.",ourStoryParagraph2:"With over 4 years of hands-on experience in Amazon FBA, I built this logistics center as a direct response to the challenges sellers face when preparing and shipping products to Amazon fulfillment centers. The goal is simple: to deliver a service that combines speed, compliance, and fair pricing.",whyMattersTitle:"Why It Matters for Sellers",whyMattersParagraph:"Our Amazon FBA prep center in France helps sellers reduce restocking delays, minimize FBA errors, and maintain full compliance with European packaging and labeling standards. Each shipment includes detailed photo documentation and live tracking updates. We support multiple EU marketplaces and communicate daily in English, French, and Romanian, ensuring smooth collaboration for every project.",ourStoryParagraph3:"Today, Prep Center France processes hundreds of orders every month for platforms such as Amazon FBA/FBM, eBay, Shopify, and custom websites. We are committed to meeting 24-hour turnaround times while ensuring every product is prepared in full compliance with platform requirements.",yearsExperience:"Years of Experience",ordersProcessed:"Orders Processed",happyClients:"Happy Clients",averageTurnaround:"Average Turnaround",ourValues:"Our Values",speedEfficiency:"Speed & Efficiency",speedEfficiencyDesc:"24-hour turnaround times with same-day processing for orders received before noon.",qualityCompliance:"Quality & Compliance",qualityComplianceDesc:"Rigorous quality control and full compliance with Amazon FBA and European regulations.",partnershipSupport:"Partnership & Support",partnershipSupportDesc:"We work as your logistics partner, providing transparent communication and reliable support.",meetFounder:"Meet Our Founder",findUsOnGoogle:"Find Us on Google",googleSearchText:'Search "Prep Center France" on Google to see our verified business listing and customer reviews.',adrianBucur:"Adrian Bucur",founderCEO:"Founder & CEO",adrianBio:"With over 4 years of hands-on Amazon FBA experience, Adrian founded Prep Center France to provide European sellers with fast, reliable, and transparent prep services. His deep understanding of Amazon requirements and European logistics ensures every product is prepared to the highest standards.",linkedinProfile:"LinkedIn Profile",tiktokProfile:"TikTok Profile",readyPartner:"Ready to Partner with Us?",joinCommunity:"Join our community of successful European Amazon sellers and experience the difference professional prep services can make.",getStartedToday:"Get Started Today",chatWhatsApp:"Chat on WhatsApp",warehouseFacilityAlt:"Warehouse Facility",adrianBucurAlt:"Adrian Bucur",googleSearchResultsAlt:"Google Search Results for Prep Center France"},ZL={pageTitle:" Propos de Prep Center France  Services de Prparation Amazon FBA pour Vendeurs Europens",pageSubtitle:"Avec plus de 4 ans d'exprience pratique Amazon FBA, Prep Center France fournit des services de prparation rapides et fiables en France : rception, contrle qualit, tiquetage FNSKU, emballage plastique et expdition vers les centres de fulfillment Amazon  travers l'Europe.",ourStory:"Notre Histoire",ourStoryParagraph1:"Prep Center France a t tabli pour soutenir les vendeurs Amazon et e-commerce europens avec des services de prparation FBA rapides, fiables et transparents. Sa localisation en France fournit un hub stratgique pour une distribution efficace  travers l'Union Europenne.",ourStoryParagraph2:"Avec plus de 4 ans d'exprience pratique dans Amazon FBA, j'ai construit ce centre logistique en rponse directe aux dfis que rencontrent les vendeurs lors de la prparation et de l'expdition de produits vers les centres de fulfillment Amazon. L'objectif est simple : livrer un service qui combine vitesse, conformit et prix quitables.",whyMattersTitle:"Pourquoi c'est important pour les vendeurs",whyMattersParagraph:"Notre centre de prep Amazon FBA en France aide les vendeurs  rduire les retards de rapprovisionnement,  minimiser les erreurs FBA et  respecter les normes europennes d'emballage et d'tiquetage. Chaque expdition comprend une documentation photo dtaille et un suivi en temps rel. Nous couvrons plusieurs marketplaces UE et communiquons quotidiennement en franais, anglais et roumain.",ourStoryParagraph3:"Aujourd'hui, Prep Center France traite des centaines de commandes chaque mois pour des plateformes telles qu'Amazon FBA/FBM, eBay, Shopify et sites web personnaliss. Nous nous engageons  respecter les dlais de traitement de 24 heures tout en nous assurant que chaque produit est prpar en pleine conformit avec les exigences des plateformes.",yearsExperience:"Annes d'Exprience",ordersProcessed:"Commandes Traites",happyClients:"Clients Satisfaits",averageTurnaround:"Dlai Moyen",ourValues:"Nos Valeurs",speedEfficiency:"Vitesse et Efficacit",speedEfficiencyDesc:"Dlais de traitement de 24 heures avec traitement le jour mme pour les commandes reues avant midi.",qualityCompliance:"Qualit et Conformit",qualityComplianceDesc:"Contrle qualit rigoureux et pleine conformit avec Amazon FBA et les rglementations europennes.",partnershipSupport:"Partenariat et Support",partnershipSupportDesc:"Nous travaillons comme votre partenaire logistique, fournissant une communication transparente et un support fiable.",meetFounder:"Rencontrez Notre Fondateur",findUsOnGoogle:"Trouvez-nous sur Google",googleSearchText:`Recherchez "Prep Center France" sur Google pour voir notre fiche d'entreprise vrifie et les avis clients.`,adrianBucur:"Adrian Bucur",founderCEO:"Fondateur et PDG",adrianBio:"Avec plus de 4 ans d'exprience pratique Amazon FBA, Adrian a fond Prep Center France pour fournir aux vendeurs europens des services de prparation rapides, fiables et transparents. Sa comprhension approfondie des exigences Amazon et de la logistique europenne garantit que chaque produit est prpar selon les plus hauts standards.",linkedinProfile:"Profil LinkedIn",tiktokProfile:"Profil TikTok",readyPartner:"Prt  Vous Associer avec Nous ?",joinCommunity:"Rejoignez notre communaut de vendeurs Amazon europens prospres et dcouvrez la diffrence que peuvent faire des services de prparation professionnels.",getStartedToday:"Commencez Aujourd'hui",chatWhatsApp:"Chat WhatsApp",warehouseFacilityAlt:"Installation d'Entrept",adrianBucurAlt:"Adrian Bucur",googleSearchResultsAlt:"Rsultats de Recherche Google pour Prep Center France"},QL={pageTitle:"ber Prep Center France  Amazon FBA Prep Services fr Europische Verkufer",pageSubtitle:"Mit ber 4 Jahren praktischer Amazon FBA Erfahrung bietet Prep Center France schnelle und zuverlssige Prep-Services in Frankreich: Empfang, Qualittskontrolle, FNSKU-Etikettierung, Polyverpackung und Versand zu Amazon Fulfillment-Zentren in ganz Europa.",ourStory:"Unsere Geschichte",ourStoryParagraph1:"Prep Center France wurde gegrndet, um europische Amazon- und E-Commerce-Verkufer mit schnellen, zuverlssigen und transparenten FBA Prep-Services zu untersttzen. Die Lage in Frankreich bietet einen strategischen Hub fr effiziente Distribution in der gesamten Europischen Union.",ourStoryParagraph2:"Mit ber 4 Jahren praktischer Erfahrung in Amazon FBA habe ich dieses Logistikzentrum als direkte Antwort auf die Herausforderungen gebaut, denen Verkufer bei der Vorbereitung und dem Versand von Produkten zu Amazon Fulfillment-Zentren gegenberstehen. Das Ziel ist einfach: einen Service zu liefern, der Geschwindigkeit, Compliance und faire Preise kombiniert.",whyMattersTitle:"Warum es fr Verkufer wichtig ist",whyMattersParagraph:"Unser Amazon-FBA-Prep-Center in Frankreich hilft Verkufern, Nachschubverzgerungen zu reduzieren, FBA-Fehler zu minimieren und die Einhaltung europischer Verpackungs- und Etikettierstandards sicherzustellen. Jede Sendung enthlt eine detaillierte Fotodokumentation und Live-Tracking. Wir betreuen mehrere EU-Marktpltze und kommunizieren tglich auf Deutsch, Englisch und Rumnisch.",ourStoryParagraph3:"Heute verarbeitet Prep Center France Hunderte von Bestellungen jeden Monat fr Plattformen wie Amazon FBA/FBM, eBay, Shopify und benutzerdefinierte Websites. Wir verpflichten uns, 24-Stunden-Bearbeitungszeiten einzuhalten und dabei sicherzustellen, dass jedes Produkt in voller bereinstimmung mit den Plattformanforderungen vorbereitet wird.",yearsExperience:"Jahre Erfahrung",ordersProcessed:"Bestellungen Bearbeitet",happyClients:"Zufriedene Kunden",averageTurnaround:"Durchschnittliche Bearbeitung",ourValues:"Unsere Werte",speedEfficiency:"Geschwindigkeit und Effizienz",speedEfficiencyDesc:"24-Stunden-Bearbeitungszeiten mit Bearbeitung am selben Tag fr Bestellungen, die vor Mittag eingehen.",qualityCompliance:"Qualitt und Compliance",qualityComplianceDesc:"Rigorose Qualittskontrolle und volle Compliance mit Amazon FBA und europischen Vorschriften.",partnershipSupport:"Partnerschaft und Support",partnershipSupportDesc:"Wir arbeiten als Ihr Logistikpartner und bieten transparente Kommunikation und zuverlssigen Support.",meetFounder:"Lernen Sie Unseren Grnder Kennen",findUsOnGoogle:"Finden Sie Uns auf Google",googleSearchText:'Suchen Sie "Prep Center France" auf Google, um unseren verifizierten Geschftseintrag und Kundenbewertungen zu sehen.',adrianBucur:"Adrian Bucur",founderCEO:"Grnder und CEO",adrianBio:"Mit ber 4 Jahren praktischer Amazon FBA Erfahrung grndete Adrian Prep Center France, um europischen Verkufern schnelle, zuverlssige und transparente Prep-Services zu bieten. Sein tiefes Verstndnis der Amazon-Anforderungen und europischen Logistik stellt sicher, dass jedes Produkt nach hchsten Standards vorbereitet wird.",linkedinProfile:"LinkedIn Profil",tiktokProfile:"TikTok Profil",readyPartner:"Bereit fr eine Partnerschaft mit Uns?",joinCommunity:"Treten Sie unserer Gemeinschaft erfolgreicher europischer Amazon-Verkufer bei und erleben Sie den Unterschied, den professionelle Prep-Services machen knnen.",getStartedToday:"Heute Beginnen",chatWhatsApp:"WhatsApp Chat",warehouseFacilityAlt:"Lagereinrichtung",adrianBucurAlt:"Adrian Bucur",googleSearchResultsAlt:"Google Suchergebnisse fr Prep Center France"},YL={pageTitle:"Chi Siamo Prep Center France  Servizi di Preparazione Amazon FBA per Venditori Europei",pageSubtitle:"Con oltre 4 anni di esperienza pratica Amazon FBA, Prep Center France fornisce servizi di preparazione veloci e affidabili in Francia: ricezione, controllo qualit, etichettatura FNSKU, imballaggio e spedizione ai centri di fulfillment Amazon in tutta Europa.",ourStory:"La Nostra Storia",ourStoryParagraph1:"Prep Center France  stato fondato per supportare i venditori Amazon ed e-commerce europei con servizi di preparazione FBA veloci, affidabili e trasparenti. La sua posizione in Francia fornisce un hub strategico per una distribuzione efficiente in tutta l'Unione Europea.",ourStoryParagraph2:"Con oltre 4 anni di esperienza pratica in Amazon FBA, ho costruito questo centro logistico come risposta diretta alle sfide che i venditori affrontano nella preparazione e spedizione di prodotti ai centri di fulfillment Amazon. L'obiettivo  semplice: fornire un servizio che combina velocit, conformit e prezzi equi.",whyMattersTitle:"Perch  importante per i venditori",whyMattersParagraph:"Il nostro centro Amazon FBA in Francia aiuta i venditori a ridurre i ritardi di riassortimento, minimizzare gli errori FBA e rispettare gli standard europei di imballaggio ed etichettatura. Ogni spedizione include documentazione fotografica dettagliata e aggiornamenti in tempo reale. Supportiamo diversi marketplace UE e comunichiamo ogni giorno in inglese, francese e rumeno.",ourStoryParagraph3:"Oggi, Prep Center France elabora centinaia di ordini ogni mese per piattaforme come Amazon FBA/FBM, eBay, Shopify e siti web personalizzati. Ci impegniamo a rispettare i tempi di elaborazione di 24 ore assicurando che ogni prodotto sia preparato in piena conformit con i requisiti delle piattaforme.",yearsExperience:"Anni di Esperienza",ordersProcessed:"Ordini Elaborati",happyClients:"Clienti Soddisfatti",averageTurnaround:"Elaborazione Media",ourValues:"I Nostri Valori",speedEfficiency:"Velocit ed Efficienza",speedEfficiencyDesc:"Tempi di elaborazione di 24 ore con elaborazione in giornata per ordini ricevuti prima di mezzogiorno.",qualityCompliance:"Qualit e Conformit",qualityComplianceDesc:"Controllo qualit rigoroso e piena conformit con Amazon FBA e regolamenti europei.",partnershipSupport:"Partnership e Supporto",partnershipSupportDesc:"Lavoriamo come vostro partner logistico, fornendo comunicazione trasparente e supporto affidabile.",meetFounder:"Incontra il Nostro Fondatore",findUsOnGoogle:"Trovaci su Google",googleSearchText:'Cerca "Prep Center France" su Google per vedere la nostra scheda aziendale verificata e le recensioni dei clienti.',adrianBucur:"Adrian Bucur",founderCEO:"Fondatore e CEO",adrianBio:"Con oltre 4 anni di esperienza pratica Amazon FBA, Adrian ha fondato Prep Center France per fornire ai venditori europei servizi di preparazione veloci, affidabili e trasparenti. La sua profonda comprensione dei requisiti Amazon e della logistica europea garantisce che ogni prodotto sia preparato secondo i pi alti standard.",linkedinProfile:"Profilo LinkedIn",tiktokProfile:"Profilo TikTok",readyPartner:"Pronti a Collaborare con Noi?",joinCommunity:"Unisciti alla nostra comunit di venditori Amazon europei di successo e sperimenta la differenza che possono fare i servizi di preparazione professionale.",getStartedToday:"Inizia Oggi",chatWhatsApp:"Chat WhatsApp",warehouseFacilityAlt:"Struttura Magazzino",adrianBucurAlt:"Adrian Bucur",googleSearchResultsAlt:"Risultati di Ricerca Google per Prep Center France"},XL={pageTitle:"Acerca de Prep Center France  Servicios de Preparacin Amazon FBA para Vendedores Europeos",pageSubtitle:"Con ms de 4 aos de experiencia prctica en Amazon FBA, Prep Center France proporciona servicios de preparacin rpidos y confiables en Francia: recepcin, control de calidad, etiquetado FNSKU, embolsado y envo a centros de fulfillment Amazon en toda Europa.",ourStory:"Nuestra Historia",ourStoryParagraph1:"Prep Center France fue establecido para apoyar a vendedores Amazon y e-commerce europeos con servicios de preparacin FBA rpidos, confiables y transparentes. Su ubicacin en Francia proporciona un hub estratgico para distribucin eficiente en toda la Unin Europea.",ourStoryParagraph2:"Con ms de 4 aos de experiencia prctica en Amazon FBA, constru este centro logstico como respuesta directa a los desafos que enfrentan los vendedores al preparar y enviar productos a centros de fulfillment Amazon. El objetivo es simple: entregar un servicio que combine velocidad, cumplimiento y precios justos.",whyMattersTitle:"Por qu es importante para los vendedores",whyMattersParagraph:"Nuestro centro de preparacin Amazon FBA en Francia ayuda a reducir las demoras de reabastecimiento, minimizar los errores FBA y mantener el cumplimiento de las normas europeas de empaquetado y etiquetado. Cada envo incluye documentacin fotogrfica detallada y seguimiento en vivo. Cubrimos mltiples marketplaces de la UE y nos comunicamos a diario en ingls, francs y rumano.",ourStoryParagraph3:"Hoy, Prep Center France procesa cientos de pedidos cada mes para plataformas como Amazon FBA/FBM, eBay, Shopify y sitios web personalizados. Nos comprometemos a cumplir tiempos de procesamiento de 24 horas mientras aseguramos que cada producto sea preparado en pleno cumplimiento con los requisitos de las plataformas.",yearsExperience:"Aos de Experiencia",ordersProcessed:"Pedidos Procesados",happyClients:"Clientes Satisfechos",averageTurnaround:"Procesamiento Promedio",ourValues:"Nuestros Valores",speedEfficiency:"Velocidad y Eficiencia",speedEfficiencyDesc:"Tiempos de procesamiento de 24 horas con procesamiento el mismo da para pedidos recibidos antes del medioda.",qualityCompliance:"Calidad y Cumplimiento",qualityComplianceDesc:"Control de calidad riguroso y pleno cumplimiento con Amazon FBA y regulaciones europeas.",partnershipSupport:"Asociacin y Soporte",partnershipSupportDesc:"Trabajamos como su socio logstico, proporcionando comunicacin transparente y soporte confiable.",meetFounder:"Conoce a Nuestro Fundador",findUsOnGoogle:"Encuntranos en Google",googleSearchText:'Busca "Prep Center France" en Google para ver nuestro listado de negocio verificado y reseas de clientes.',adrianBucur:"Adrian Bucur",founderCEO:"Fundador y CEO",adrianBio:"Con ms de 4 aos de experiencia prctica en Amazon FBA, Adrian fund Prep Center France para proporcionar a vendedores europeos servicios de preparacin rpidos, confiables y transparentes. Su profundo entendimiento de los requisitos de Amazon y logstica europea asegura que cada producto sea preparado segn los ms altos estndares.",linkedinProfile:"Perfil LinkedIn",tiktokProfile:"Perfil TikTok",readyPartner:"Listo para Asociarte con Nosotros?",joinCommunity:"nete a nuestra comunidad de vendedores Amazon europeos exitosos y experimenta la diferencia que pueden hacer los servicios de preparacin profesional.",getStartedToday:"Comienza Hoy",chatWhatsApp:"Chat WhatsApp",warehouseFacilityAlt:"Instalacin de Almacn",adrianBucurAlt:"Adrian Bucur",googleSearchResultsAlt:"Resultados de Bsqueda Google para Prep Center France"},JL={pageTitle:"Despre Prep Center France  Servicii de Preparare Amazon FBA pentru Vnztorii Europeni",pageSubtitle:"Cu peste 4 ani de experien practic Amazon FBA, Prep Center France ofer servicii de preparare rapide i fiabile n Frana: recepie, control calitate, etichetare FNSKU, ambalare i expediere ctre centrele de fulfillment Amazon din toat Europa.",ourStory:"Povestea Noastr",ourStoryParagraph1:"Prep Center France a fost nfiinat pentru a sprijini vnztorii Amazon i e-commerce europeni cu servicii de preparare FBA rapide, fiabile i transparente. Locaia sa din Frana ofer un hub strategic pentru distribuie eficient n toat Uniunea European.",ourStoryParagraph2:"Cu peste 4 ani de experien practic n Amazon FBA, am construit acest centru logistic ca rspuns direct la provocrile cu care se confrunt vnztorii n prepararea i expedierea produselor ctre centrele de fulfillment Amazon. Obiectivul este simplu: s livrez un serviciu care combin viteza, conformitatea i preurile echitabile.",whyMattersTitle:"De ce este important pentru vnztori",whyMattersParagraph:"Centrul nostru Amazon FBA din Frana i ajut pe vnztori s reduc ntrzierile de reaprovizionare, s minimizeze erorile FBA i s respecte standardele europene de ambalare i etichetare. Fiecare expediie include documentaie foto detaliat i actualizri live. Suportm marketplace-uri UE multiple i comunicm zilnic n romn, englez i francez pentru o colaborare fluent.",ourStoryParagraph3:"Astzi, Prep Center France proceseaz sute de comenzi n fiecare lun pentru platforme precum Amazon FBA/FBM, eBay, Shopify i site-uri web personalizate. Ne angajm s respectm timpii de procesare de 24 de ore, asigurndu-ne c fiecare produs este pregtit n deplin conformitate cu cerinele platformelor.",yearsExperience:"Ani de Experien",ordersProcessed:"Comenzi Procesate",happyClients:"Clieni Mulumii",averageTurnaround:"Procesare Medie",ourValues:"Valorile Noastre",speedEfficiency:"Vitez i Eficien",speedEfficiencyDesc:"Timpi de procesare de 24 de ore cu procesare n aceeai zi pentru comenzile primite nainte de amiaz.",qualityCompliance:"Calitate i Conformitate",qualityComplianceDesc:"Control de calitate riguros i conformitate complet cu Amazon FBA i reglementrile europene.",partnershipSupport:"Parteneriat i Suport",partnershipSupportDesc:"Lucrm ca partenerul tu logistic, oferind comunicare transparent i suport de ncredere.",meetFounder:"ntlnete Fondatorul Nostru",findUsOnGoogle:"Gsete-ne pe Google",googleSearchText:'Caut "Prep Center France" pe Google pentru a vedea listarea noastr de afaceri verificat i recenziile clienilor.',adrianBucur:"Adrian Bucur",founderCEO:"Fondator i CEO",adrianBio:"Cu peste 4 ani de experien practic Amazon FBA, Adrian a fondat Prep Center France pentru a oferi vnztorilor europeni servicii de preparare rapide, fiabile i transparente. nelegerea sa profund a cerinelor Amazon i logisticii europene asigur c fiecare produs este pregtit conform celor mai nalte standarde.",linkedinProfile:"Profil LinkedIn",tiktokProfile:"Profil TikTok",readyPartner:"Gata s Colaborezi cu Noi?",joinCommunity:"Altur-te comunitii noastre de vnztori Amazon europeni de succes i experimenteaz diferena pe care o pot face serviciile de preparare profesionale.",getStartedToday:"ncepe Astzi",chatWhatsApp:"Chat WhatsApp",warehouseFacilityAlt:"Facilitatea Depozitului",adrianBucurAlt:"Adrian Bucur",googleSearchResultsAlt:"Rezultatele Cutrii Google pentru Prep Center France"},lw={en:GL,fr:ZL,de:QL,it:YL,es:XL,ro:JL},e5=e=>({t:r=>{var n;return((n=lw[e])==null?void 0:n[r])||lw.en[r]||r}});function t5(){const{currentLanguage:e}=Dr(),{t}=e5(e),r=["https://i.postimg.cc/J7SVPbtc/3-BD91-B45-0354-4-BEF-85-B7-5-F6949-F4-C814.png","https://i.postimg.cc/Qd3LrhQF/3-DB7-A80-F-CAC3-45-AF-A046-C4-D29-C6329-CF.png","https://i.postimg.cc/W4NQh8fj/718-D0-B72-E1-E0-48-E3-A153-6-CFC579-F91-E5.png","https://i.postimg.cc/xTHr7czr/85-CF0738-B8-EF-4-F58-8627-9-A51605760-D9.png","https://i.postimg.cc/jSQpxmcZ/89-B2118-F-C99-C-4-F59-B273-5-AF174-E636-D8.png","https://i.postimg.cc/RFqyTFBD/B9-A03935-9-EB2-4472-8-CA0-77-F6-F2699311.png","https://i.postimg.cc/XvstF5T5/E26783-CD-7-EF7-4-C38-B3-DE-88-C0-E136-EBE9.png","https://i.postimg.cc/hjwwZB4P/F2-EDC678-330-B-4905-AC01-ABBB971-A5-C44.png","https://i.postimg.cc/rsrHvPzG/rn-image-picker-lib-temp-77215b1c-8d60-4042-9db0-7f13a590c647.jpg","https://i.postimg.cc/Y027zQWp/ED3-D0320-0-A71-4-C30-97-FF-74-E4-D0709-B5-E.png","https://i.postimg.cc/GtMC79Fv/A0493481-C674-44-B5-B071-AEF8-D7-F295-A3.png","https://content-studio.biela.dev/i/content-studio/68a9b2648cd1ba15f2ff2bbc/1755951730702-68a9b2648cd1ba15f2ff2bbc/1756508278444.png/a0493481-c674-44b5-b071-aef8d7f295a3.webp","https://content-studio.biela.dev/i/content-studio/68a9b2648cd1ba15f2ff2bbc/1755951730702-68a9b2648cd1ba15f2ff2bbc/1756508278969.png/ed3d0320-0a71-4c30-97ff-74e4d0709b5e.webp"],[n,i]=x.useState(0);return x.useEffect(()=>{const a=setInterval(()=>{i(o=>(o+1)%r.length)},5e3);return()=>clearInterval(a)},[r.length]),s.jsx("div",{className:"min-h-screen py-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-text-primary mb-6",children:t("pageTitle")}),s.jsx("p",{className:"text-xl text-text-secondary max-w-3xl mx-auto",children:t("pageSubtitle")})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-20",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-6",children:t("ourStory")}),s.jsxs("div",{className:"space-y-4 text-text-secondary",children:[s.jsx("p",{children:t("ourStoryParagraph1")}),s.jsx("p",{children:t("ourStoryParagraph2")}),s.jsx("p",{children:t("ourStoryParagraph3")})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative rounded-xl overflow-hidden aspect-video flex items-center justify-center bg-black",children:[s.jsx("img",{src:r[n],alt:t("warehouseFacilityAlt"),className:"w-full h-full object-contain transition-opacity duration-1000 ease-in-out"}),s.jsx("div",{className:"flex justify-center mt-4 absolute bottom-2 w-full",children:s.jsxs("a",{href:"https://www.tiktok.com/@prepcenterfrance?lang=ro-RO",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-white bg-black/60 px-3 py-2 rounded-lg hover:bg-black/80 transition-colors",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:s.jsx("path",{d:"M12.525 0H11.475C10.118 0 9.005 1.113 9.005 2.475v19.05c0 1.362 1.113 2.475 2.475 2.475h1.05c1.362 0 2.475-1.113 2.475-2.475V12.525c0-1.362-1.113-2.475-2.475-2.475H11.475V0zM18.525 0H17.475C16.118 0 15.005 1.113 15.005 2.475v19.05c0 1.362 1.113 2.475 2.475 2.475h1.05c1.362 0 2.475-1.113 2.475-2.475V12.525c0-1.362-1.113-2.475-2.475-2.475H17.475V0zM6.525 0H5.475C4.118 0 3.005 1.113 3.005 2.475v19.05c0 1.362 1.113 2.475 2.475 2.475h1.05c1.362 0 2.475-1.113 2.475-2.475V12.525c0-1.362-1.113-2.475-2.475-2.475H6.525V0z"})}),s.jsx("span",{className:"ml-2 font-medium",children:"Follow us on TikTok"})]})})]}),s.jsxs("p",{className:"text-text-secondary",children:[s.jsx("strong",{children:"Main warehouse:"})," 5 Rue des Enclos, 35350 La Gouesnire, France"]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-6",children:t("whyMattersTitle")}),s.jsx("p",{className:"text-text-secondary text-lg",children:t("whyMattersParagraph")})]}),s.jsxs("section",{className:"mb-20",children:[s.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-12 text-center",children:t("ourValues")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Bd,{className:"w-12 h-12 text-primary mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-4",children:t("speedEfficiency")}),s.jsx("p",{className:"text-text-secondary",children:t("speedEfficiencyDesc")})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(Ln,{className:"w-12 h-12 text-primary mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-4",children:t("qualityCompliance")}),s.jsx("p",{className:"text-text-secondary",children:t("qualityComplianceDesc")})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(Wa,{className:"w-12 h-12 text-primary mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-4",children:t("partnershipSupport")}),s.jsx("p",{className:"text-text-secondary",children:t("partnershipSupportDesc")})]})]})]}),s.jsx("section",{className:"mb-20",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[s.jsx("img",{src:"https://i.postimg.cc/68C52wGT/Adrian-Bucur.jpg",alt:t("adrianBucurAlt"),className:"w-32 h-32 rounded-full object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h3",{className:"text-2xl font-bold text-text-primary mb-2",children:t("adrianBucur")}),s.jsx("p",{className:"text-primary font-medium mb-4",children:t("founderCEO")}),s.jsx("p",{className:"text-text-secondary",children:t("adrianBio")}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("a",{href:"https://linkedin.com/in/adrian-bucur-82baa91a5",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-primary hover:text-primary-dark transition-colors",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 mr-2",children:s.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.362-.027-3.119-1.902-3.119-1.901 0-2.186 1.485-2.186 3.031v5.657h-3.554v-11.998h3.418v1.661h.046c.477-.9 1.637-1.901 3.37-1.901 3.601 0 4.267 2.37 4.267 7.225v6.61H20.447zM9.729 8.377a1.838 1.838 0 11-.009-3.676 1.838 1.838 0 01.009 3.676zm-1.729 12.075h-3.554v-11.998h3.554v11.998zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.454c.98 0 1.771-.773 1.771-1.729V1.729C24 .774 23.209 0 22.225 0z"})}),t("linkedinProfile")]}),s.jsxs("a",{href:"https://www.tiktok.com/@franceprepservices?lang=ro-RO",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-primary hover:text-primary-dark transition-colors ml-4",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 mr-2",children:s.jsx("path",{d:"M12.525 0H11.475C10.118 0 9.005 1.113 9.005 2.475v19.05c0 1.362 1.113 2.475 2.475 2.475h1.05c1.362 0 2.475-1.113 2.475-2.475V12.525c0-1.362-1.113-2.475-2.475-2.475H11.475V0zM18.525 0H17.475C16.118 0 15.005 1.113 15.005 2.475v19.05c0 1.362 1.113 2.475 2.475 2.475h1.05c1.362 0 2.475-1.113 2.475-2.475V12.525c0-1.362-1.113-2.475-2.475-2.475H17.475V0zM6.525 0H5.475C4.118 0 3.005 1.113 3.005 2.475v19.05c0 1.362 1.113 2.475 2.475 2.475h1.05c1.362 0 2.475-1.113 2.475-2.475V12.525c0-1.362-1.113-2.475-2.475-2.475H6.525V0z"})}),t("tiktokProfile")]})]})]})]})})})}),s.jsx("section",{className:"text-center",children:s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl p-12 space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-text-primary",children:"Ready to Partner with Us?"}),s.jsx("p",{className:"text-xl text-text-secondary",children:"Streamline your logistics with Prep Center France  your trusted partner for Amazon FBA and FBM fulfillment in Europe."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("a",{href:"https://prep-center.eu/contact",className:"bg-primary text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-primary-dark transition-colors text-center",children:"Get a Quote"}),s.jsx("a",{href:"https://wa.me/33675116218",target:"_blank",rel:"noopener noreferrer",className:"bg-accent text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-accent-dark transition-colors text-center",children:"Chat on WhatsApp"})]})]})})]})})}const r5={pageTitle:"Contact Prep Center France  Amazon FBA Prep Services",pageSubtitle:"Get in touch for Amazon FBA prep in France: quotes, WhatsApp support, email or phone. Fast response for European Amazon sellers.",sendMessage:"Send us a Message",nameLabel:"Name *",namePlaceholder:"Your Name",emailLabel:"Email *",emailPlaceholder:"your.email@example.com",companyLabel:"Company",companyPlaceholder:"Your Company",reasonLabel:"Reason for Contact *",reasonPlaceholder:"Select a reason",reasonOptions:{requestQuote:"Request a Quote (cerere de ofert / cotatie)",generalInquiry:"General Inquiry (informaii generale)",technicalIssue:"Technical Issue (problem tehnic / suport)",partnershipRequest:"Partnership Request (colaborri / parteneriate)",other:"Other (cmp liber pentru detalii)"},otherDetailsLabel:"Please specify *",otherDetailsPlaceholder:"Please provide more details",phoneLabel:"Phone",phonePlaceholder:"Your Phone Number",messageLabel:"Message *",messagePlaceholder:"Your message...",sendButton:"Send Message",sendingButton:"Sending...",successMessage:"Your message has been sent successfully! We will contact you soon.",errorMessage:"An error occurred while sending the message. Please try again.",quickContact:"Quick Contact",chatWhatsApp:"Chat on WhatsApp",bookZoomMeeting:"Book Zoom Meeting",contactInformation:"Contact Information",addressLabel:"Address",addressValue:"35350 La Gouesnire, France",phoneLabel:"Phone",phoneValue:"+33 6 75 11 62 18",emailLabel:"Email",emailValue:"contact@prep-center.eu",businessHours:"Business Hours",mondayFriday:"Monday - Friday",mondayFridayHours:"8:00 AM - 6:00 PM",saturday:"Saturday",saturdayHours:"9:00 AM - 2:00 PM",sunday:"Sunday",sundayHours:"Closed",ourLocation:"Our Location",mapTitle:"Prep Center France Location - La Gouesnire",locationName:"Prep Center France",locationAddress:"35350 La Gouesnire, France",locationDescription:"Strategic location for EU-wide Amazon FBA distribution"},n5={pageTitle:"Contact Prep Center France  Services de Prparation Amazon FBA",pageSubtitle:"Contactez-nous pour la prparation Amazon FBA en France : devis, support WhatsApp, email ou tlphone. Rponse rapide pour les vendeurs Amazon europens.",sendMessage:"Envoyez-nous un Message",nameLabel:"Nom *",namePlaceholder:"Votre Nom",emailLabel:"Email *",emailPlaceholder:"votre.email@exemple.com",companyLabel:"Entreprise",companyPlaceholder:"Votre Entreprise",reasonLabel:"Raison du Contact *",reasonPlaceholder:"Slectionnez une raison",reasonOptions:{requestQuote:"Demande de Devis (cerere de ofert / cotatie)",generalInquiry:"Demande Gnrale (informaii generale)",technicalIssue:"Problme Technique (problem tehnic / suport)",partnershipRequest:"Demande de Partenariat (colaborri / parteneriate)",other:"Autre (cmp liber pentru detalii)"},otherDetailsLabel:"Veuillez prciser *",otherDetailsPlaceholder:"Veuillez fournir plus de dtails",phoneLabel:"Tlphone",phonePlaceholder:"Votre Numro de Tlphone",messageLabel:"Message *",messagePlaceholder:"Votre message...",sendButton:"Envoyer le Message",sendingButton:"Envoi en cours...",successMessage:"Votre message a t envoy avec succs ! Nous vous contacterons bientt.",errorMessage:"Une erreur s'est produite lors de l'envoi du message. Veuillez ressayer.",quickContact:"Contact Rapide",chatWhatsApp:"Chat WhatsApp",bookZoomMeeting:"Rserver une Runion Zoom",contactInformation:"Informations de Contact",addressLabel:"Adresse",addressValue:"35350 La Gouesnire, France",phoneLabel:"Tlphone",phoneValue:"+33 6 75 11 62 18",emailLabel:"Email",emailValue:"contact@prep-center.eu",businessHours:"Heures d'Ouverture",mondayFriday:"Lundi - Vendredi",mondayFridayHours:"8h00 - 18h00",saturday:"Samedi",saturdayHours:"9h00 - 14h00",sunday:"Dimanche",sundayHours:"Ferm",ourLocation:"Notre Emplacement",mapTitle:"Emplacement Prep Center France - La Gouesnire",locationName:"Prep Center France",locationAddress:"35350 La Gouesnire, France",locationDescription:"Emplacement stratgique pour la distribution Amazon FBA dans toute l'UE"},i5={pageTitle:"Kontakt Prep Center France  Amazon FBA Prep Services",pageSubtitle:"Kontaktieren Sie uns fr Amazon FBA Prep in Frankreich: Angebote, WhatsApp Support, Email oder Telefon. Schnelle Antwort fr europische Amazon Verkufer.",sendMessage:"Senden Sie uns eine Nachricht",nameLabel:"Name *",namePlaceholder:"Ihr Name",emailLabel:"Email *",emailPlaceholder:"ihre.email@beispiel.com",companyLabel:"Unternehmen",companyPlaceholder:"Ihr Unternehmen",reasonLabel:"Grund fr Kontakt *",reasonPlaceholder:"Whlen Sie einen Grund",reasonOptions:{requestQuote:"Angebot Anfordern (cerere de ofert / cotatie)",generalInquiry:"Allgemeine Anfrage (informaii generale)",technicalIssue:"Technisches Problem (problem tehnic / suport)",partnershipRequest:"Partnerschaftsanfrage (colaborri / parteneriate)",other:"Andere (cmp liber pentru detalii)"},otherDetailsLabel:"Bitte spezifizieren *",otherDetailsPlaceholder:"Bitte geben Sie weitere Details an",phoneLabel:"Telefon",phonePlaceholder:"Ihre Telefonnummer",messageLabel:"Nachricht *",messagePlaceholder:"Ihre Nachricht...",sendButton:"Nachricht Senden",sendingButton:"Wird gesendet...",successMessage:"Ihre Nachricht wurde erfolgreich gesendet! Wir werden Sie bald kontaktieren.",errorMessage:"Ein Fehler ist beim Senden der Nachricht aufgetreten. Bitte versuchen Sie es erneut.",quickContact:"Schnellkontakt",chatWhatsApp:"WhatsApp Chat",bookZoomMeeting:"Zoom Meeting Buchen",contactInformation:"Kontaktinformationen",addressLabel:"Adresse",addressValue:"35350 La Gouesnire, Frankreich",phoneLabel:"Telefon",phoneValue:"+33 6 75 11 62 18",emailLabel:"Email",emailValue:"contact@prep-center.eu",businessHours:"Geschftszeiten",mondayFriday:"Montag - Freitag",mondayFridayHours:"8:00 - 18:00",saturday:"Samstag",saturdayHours:"9:00 - 14:00",sunday:"Sonntag",sundayHours:"Geschlossen",ourLocation:"Unser Standort",mapTitle:"Prep Center France Standort - La Gouesnire",locationName:"Prep Center France",locationAddress:"35350 La Gouesnire, Frankreich",locationDescription:"Strategischer Standort fr EU-weite Amazon FBA Distribution"},a5={pageTitle:"Contatto Prep Center France  Servizi di Preparazione Amazon FBA",pageSubtitle:"Contattaci per la preparazione Amazon FBA in Francia: preventivi, supporto WhatsApp, email o telefono. Risposta veloce per venditori Amazon europei.",sendMessage:"Inviaci un Messaggio",nameLabel:"Nome *",namePlaceholder:"Il Tuo Nome",emailLabel:"Email *",emailPlaceholder:"tua.email@esempio.com",companyLabel:"Azienda",companyPlaceholder:"La Tua Azienda",reasonLabel:"Motivo del Contatto *",reasonPlaceholder:"Seleziona un motivo",reasonOptions:{requestQuote:"Richiesta Preventivo (cerere de ofert / cotatie)",generalInquiry:"Richiesta Generale (informaii generale)",technicalIssue:"Problema Tecnico (problem tehnic / suport)",partnershipRequest:"Richiesta Partnership (colaborri / parteneriate)",other:"Altro (cmp liber pentru detalii)"},otherDetailsLabel:"Si prega di specificare *",otherDetailsPlaceholder:"Si prega di fornire maggiori dettagli",phoneLabel:"Telefono",phonePlaceholder:"Il Tuo Numero di Telefono",messageLabel:"Messaggio *",messagePlaceholder:"Il tuo messaggio...",sendButton:"Invia Messaggio",sendingButton:"Invio in corso...",successMessage:"Il tuo messaggio  stato inviato con successo! Ti contatteremo presto.",errorMessage:"Si  verificato un errore durante l'invio del messaggio. Riprova.",quickContact:"Contatto Rapido",chatWhatsApp:"Chat WhatsApp",bookZoomMeeting:"Prenota Meeting Zoom",contactInformation:"Informazioni di Contatto",addressLabel:"Indirizzo",addressValue:"35350 La Gouesnire, Francia",phoneLabel:"Telefono",phoneValue:"+33 6 75 11 62 18",emailLabel:"Email",emailValue:"contact@prep-center.eu",businessHours:"Orari di Lavoro",mondayFriday:"Luned - Venerd",mondayFridayHours:"8:00 - 18:00",saturday:"Sabato",saturdayHours:"9:00 - 14:00",sunday:"Domenica",sundayHours:"Chiuso",ourLocation:"La Nostra Posizione",mapTitle:"Posizione Prep Center France - La Gouesnire",locationName:"Prep Center France",locationAddress:"35350 La Gouesnire, Francia",locationDescription:"Posizione strategica per la distribuzione Amazon FBA in tutta l'UE"},s5={pageTitle:"Contacto Prep Center France  Servicios de Preparacin Amazon FBA",pageSubtitle:"Contctanos para preparacin Amazon FBA en Francia: cotizaciones, soporte WhatsApp, email o telfono. Respuesta rpida para vendedores Amazon europeos.",sendMessage:"Envanos un Mensaje",nameLabel:"Nombre *",namePlaceholder:"Tu Nombre",emailLabel:"Email *",emailPlaceholder:"tu.email@ejemplo.com",companyLabel:"Empresa",companyPlaceholder:"Tu Empresa",reasonLabel:"Motivo del Contacto *",reasonPlaceholder:"Selecciona un motivo",reasonOptions:{requestQuote:"Solicitar Cotizacin (cerere de ofert / cotatie)",generalInquiry:"Consulta General (informaii generale)",technicalIssue:"Problema Tcnico (problem tehnic / suport)",partnershipRequest:"Solicitud de Asociacin (colaborri / parteneriate)",other:"Otro (cmp liber pentru detalii)"},otherDetailsLabel:"Por favor especifica *",otherDetailsPlaceholder:"Por favor proporciona ms detalles",phoneLabel:"Telfono",phonePlaceholder:"Tu Nmero de Telfono",messageLabel:"Mensaje *",messagePlaceholder:"Tu mensaje...",sendButton:"Enviar Mensaje",sendingButton:"Enviando...",successMessage:"Tu mensaje ha sido enviado exitosamente! Te contactaremos pronto.",errorMessage:"Ocurri un error al enviar el mensaje. Por favor intenta de nuevo.",quickContact:"Contacto Rpido",chatWhatsApp:"Chat WhatsApp",bookZoomMeeting:"Reservar Reunin Zoom",contactInformation:"Informacin de Contacto",addressLabel:"Direccin",addressValue:"35350 La Gouesnire, Francia",phoneLabel:"Telfono",phoneValue:"+33 6 75 11 62 18",emailLabel:"Email",emailValue:"contact@prep-center.eu",businessHours:"Horarios de Trabajo",mondayFriday:"Lunes - Viernes",mondayFridayHours:"8:00 AM - 6:00 PM",saturday:"Sbado",saturdayHours:"9:00 AM - 2:00 PM",sunday:"Domingo",sundayHours:"Cerrado",ourLocation:"Nuestra Ubicacin",mapTitle:"Ubicacin Prep Center France - La Gouesnire",locationName:"Prep Center France",locationAddress:"35350 La Gouesnire, Francia",locationDescription:"Ubicacin estratgica para distribucin Amazon FBA en toda la UE"},o5={pageTitle:"Contact Prep Center France  Servicii de Preparare Amazon FBA",pageSubtitle:"Contacteaz-ne pentru prepararea Amazon FBA n Frana: oferte, suport WhatsApp, email sau telefon. Rspuns rapid pentru vnztorii Amazon europeni.",sendMessage:"Trimite-ne un Mesaj",nameLabel:"Nume *",namePlaceholder:"Numele Tu",emailLabel:"Email *",emailPlaceholder:"email.tau@exemplu.com",companyLabel:"Companie",companyPlaceholder:"Compania Ta",reasonLabel:"Motivul Contactului *",reasonPlaceholder:"Selecteaz un motiv",reasonOptions:{requestQuote:"Cerere de Ofert (cerere de ofert / cotatie)",generalInquiry:"ntrebare General (informaii generale)",technicalIssue:"Problem Tehnic (problem tehnic / suport)",partnershipRequest:"Cerere de Parteneriat (colaborri / parteneriate)",other:"Altele (cmp liber pentru detalii)"},otherDetailsLabel:"Te rugm s specifici *",otherDetailsPlaceholder:"Te rugm s oferi mai multe detalii",phoneLabel:"Telefon",phonePlaceholder:"Numrul Tu de Telefon",messageLabel:"Mesaj *",messagePlaceholder:"Mesajul tu...",sendButton:"Trimite Mesajul",sendingButton:"Se trimite...",successMessage:"Mesajul tu a fost trimis cu succes! Te vom contacta n curnd.",errorMessage:"A aprut o eroare la trimiterea mesajului. Te rugm s ncerci din nou.",quickContact:"Contact Rapid",chatWhatsApp:"Chat WhatsApp",bookZoomMeeting:"Rezerv ntlnire Zoom",contactInformation:"Informaii de Contact",addressLabel:"Adres",addressValue:"35350 La Gouesnire, Frana",phoneLabel:"Telefon",phoneValue:"+33 6 75 11 62 18",emailLabel:"Email",emailValue:"contact@prep-center.eu",businessHours:"Program de Lucru",mondayFriday:"Luni - Vineri",mondayFridayHours:"8:00 - 18:00",saturday:"Smbt",saturdayHours:"9:00 - 14:00",sunday:"Duminic",sundayHours:"nchis",ourLocation:"Locaia Noastr",mapTitle:"Locaia Prep Center France - La Gouesnire",locationName:"Prep Center France",locationAddress:"35350 La Gouesnire, Frana",locationDescription:"Locaie strategic pentru distribuia Amazon FBA n toat UE"},cw={en:r5,fr:n5,de:i5,it:a5,es:s5,ro:o5},l5=e=>({t:r=>{var n;return((n=cw[e])==null?void 0:n[r])||cw.en[r]||r}});function c5(){const{currentLanguage:e}=Dr(),{t}=l5(e),[r,n]=x.useState({name:"",email:"",company:"",reason:"",otherDetails:"",message:"",phone:""}),[i,a]=x.useState(!1),[o,l]=x.useState(""),c=async d=>{d.preventDefault(),a(!0),l("");try{const p=await fetch("https://formspree.io/f/xandwobv",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(p.ok)l(t("successMessage")),n({name:"",email:"",company:"",reason:"",otherDetails:"",phone:"",message:""});else{const h=await p.json();Object.hasOwn(h,"errors")?l(h.errors.map(m=>m.message).join(", ")):l(t("errorMessage"))}}catch(p){l(p.message||t("errorMessage"))}a(!1)},u=d=>{n({...r,[d.target.name]:d.target.value})};return s.jsx("div",{className:"min-h-screen py-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-text-primary mb-6",children:t("pageTitle")}),s.jsx("p",{className:"text-xl text-text-secondary max-w-3xl mx-auto",children:t("pageSubtitle")})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsx("div",{children:s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:t("sendMessage")}),o&&s.jsx("div",{className:`mb-6 px-4 py-3 rounded-lg ${o.includes("succes")||o===t("successMessage")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"}`,children:o}),s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-primary mb-2",children:t("nameLabel")}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:r.name,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:t("namePlaceholder")})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:t("emailLabel")}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:t("emailPlaceholder")})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-text-primary mb-2",children:t("companyLabel")}),s.jsx("input",{type:"text",id:"company",name:"company",value:r.company,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:t("companyPlaceholder")})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-text-primary mb-2",children:t("reasonLabel")}),s.jsxs("select",{id:"reason",name:"reason",required:!0,value:r.reason,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[s.jsx("option",{value:"",children:t("reasonPlaceholder")}),s.jsx("option",{value:"Request a Quote",children:t("Reques Quote")}),s.jsx("option",{value:"General Inquiry",children:t("General Inquiry")}),s.jsx("option",{value:"Technical Issue",children:t("Technical Issue")}),s.jsx("option",{value:"Partnership Request",children:t("Partnership Request")}),s.jsx("option",{value:"Other",children:t("Other")})]})]}),r.reason==="Other"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"otherDetails",className:"block text-sm font-medium text-text-primary mb-2",children:t("otherDetailsLabel")}),s.jsx("input",{type:"text",id:"otherDetails",name:"otherDetails",required:!0,value:r.otherDetails,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:t("otherDetailsPlaceholder")})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-text-primary mb-2",children:t("phoneLabel")}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:t("phonePlaceholder")})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-text-primary mb-2",children:t("messageLabel")}),s.jsx("textarea",{id:"message",name:"message",required:!0,rows:5,value:r.message,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:t("messagePlaceholder")})]}),s.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary text-white py-3 px-6 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t(i?"sendingButton":"sendButton")})]})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-text-primary mb-6",children:t("quickContact")}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("a",{href:"https://wa.me/33675116218",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-full bg-accent text-white py-4 px-6 rounded-lg font-semibold hover:bg-accent-dark transition-colors",children:[s.jsx(RF,{className:"w-5 h-5 mr-2"}),t("chatWhatsApp")]}),s.jsxs("a",{href:"https://calendly.com/adrian-bucur/30min",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-full bg-primary text-white py-4 px-6 rounded-lg font-semibold hover:bg-primary-dark transition-colors",children:[s.jsx(Ys,{className:"w-5 h-5 mr-2"}),t("bookZoomMeeting")]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-text-primary mb-6",children:t("contactInformation")}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Gl,{className:"w-5 h-5 text-primary mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-text-primary",children:t("addressLabel")}),s.jsx("p",{className:"text-text-secondary",children:t("addressValue")})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Uj,{className:"w-5 h-5 text-primary flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-text-primary",children:t("phoneLabel")}),s.jsx("p",{className:"text-text-secondary",children:t("phoneValue")})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(fo,{className:"w-5 h-5 text-primary flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-text-primary",children:t("emailLabel")}),s.jsx("p",{className:"text-text-secondary",children:t("emailValue")})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-text-primary mb-6",children:t("businessHours")}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-text-secondary",children:t("mondayFriday")}),s.jsx("span",{className:"text-text-primary font-medium",children:t("mondayFridayHours")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-text-secondary",children:t("saturday")}),s.jsx("span",{className:"text-text-primary font-medium",children:t("saturdayHours")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-text-secondary",children:t("sunday")}),s.jsx("span",{className:"text-text-primary font-medium",children:t("sundayHours")})]})]})]})]})]}),s.jsxs("section",{className:"mt-20",children:[s.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-8 text-center",children:t("ourLocation")}),s.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg",children:s.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2659.8234567890123!2d-1.8234567890123456!3d48.61234567890123!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x480e9a1234567890%3A0x1234567890abcdef!2s35350%20La%20Gouesnire%2C%20France!5e0!3m2!1sen!2sus!4v1234567890123",width:"100%",height:"400",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:t("mapTitle")})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("div",{className:"inline-flex items-center bg-white rounded-lg border border-gray-200 px-6 py-4 shadow-sm",children:[s.jsx(Gl,{className:"w-5 h-5 text-primary mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold text-text-primary",children:t("locationName")}),s.jsx("p",{className:"text-text-secondary",children:t("locationAddress")}),s.jsx("p",{className:"text-sm text-text-light",children:t("locationDescription")})]})]})})]})]})})}function u5(){const{t:e,LA:t,LO:r}=DR(),n=r("sections.data_lists"),i=r("sections.data_labels");return s.jsx("div",{className:"min-h-screen py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(Ln,{className:"w-16 h-16 text-primary mx-auto mb-4"}),s.jsx("h1",{className:"text-4xl font-bold text-text-primary mb-4",children:e("title")}),s.jsx("p",{className:"text-xl text-text-secondary",children:e("lastUpdated")})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:e("sections.intro_h")}),s.jsx("p",{className:"text-text-secondary leading-relaxed",children:e("sections.intro_p")})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:e("sections.controller_h")}),s.jsx("ul",{className:"list-disc list-inside text-text-secondary space-y-1",children:t("sections.controller_lines").map((a,o)=>s.jsx("li",{children:a},o))})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:e("sections.data_h")}),s.jsx("div",{className:"space-y-4",children:["id","billing","tech"].map(a=>s.jsxs("div",{children:[i[a]&&s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:i[a]}),s.jsx("ul",{className:"list-disc list-inside text-text-secondary space-y-1",children:(Array.isArray(n[a])?n[a]:[]).map((o,l)=>s.jsx("li",{children:o},l))})]},a))})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:e("sections.purposes_h")}),s.jsx("ul",{className:"list-disc list-inside text-text-secondary space-y-2",children:t("sections.purposes_list").map((a,o)=>s.jsx("li",{children:a},o))})]}),["recipients","transfers"].map(a=>s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:e(`sections.${a}_h`)}),s.jsx("p",{className:"text-text-secondary",children:e(`sections.${a}_p`)})]},a)),["security","retention"].map(a=>s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:e(`sections.${a}_h`)}),s.jsx("ul",{className:"list-disc list-inside text-text-secondary space-y-1",children:t(`sections.${a}_list`).map((o,l)=>s.jsx("li",{children:o},l))})]},a)),["rights","children","dpa","cookies","changes"].map(a=>{const o=t(`sections.${a}_list`);return s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:e(`sections.${a}_h`)}),o.length?s.jsx("ul",{className:"list-disc list-inside text-text-secondary space-y-1",children:o.map((l,c)=>s.jsx("li",{children:l},c))}):s.jsx("p",{className:"text-text-secondary",children:e(`sections.${a}_p`)})]},a)}),s.jsx("section",{children:s.jsx("div",{className:"bg-primary-light bg-opacity-10 p-6 rounded-lg",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(fo,{className:"w-4 h-4 text-primary mr-2"}),s.jsx("span",{className:"text-text-secondary",children:t("sections.controller_lines")[0]||"contact@prep-center.eu"})]})})})})]})]})})}function d5(){const e=Nn(),[t]=Rj(),r=t.get("next")||"/login";return x.useEffect(()=>{const n=setTimeout(()=>e(`${r}?verified=1`,{replace:!0}),800);return()=>clearTimeout(n)},[e,r]),s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"p-8 bg-white rounded-xl shadow-sm text-center",children:[s.jsx("div",{className:"text-2xl font-semibold mb-2",children:"Email confirmed"}),s.jsx("div",{className:"text-gray-600",children:"Youll be redirected"})]})})}function p5(){const[e]=Rj(),t=Nn(),[r,n]=x.useState("processing"),[i,a]=x.useState("Processing");x.useEffect(()=>{const l=e.get("spapi_oauth_code")||e.get("code"),c=e.get("state"),u=e.get("selling_partner_id")||e.get("sellingPartnerId"),d=e.get("marketplace_id")||e.get("marketplaceId");if(!l||!c){n("error"),a("Missing authorization data.");return}(async()=>{n("processing"),a("Saving integration");const{data:h,error:m}=await Q.functions.invoke("amazon_oauth_callback",{body:{code:l,state:c,sellingPartnerId:u,marketplaceId:d}});if(m||(h==null?void 0:h.ok)===!1){n("error"),a((m==null?void 0:m.message)||(h==null?void 0:h.error)||"Unable to save integration.");return}n("success"),a("Integration saved successfully. Redirecting"),setTimeout(()=>t("/dashboard?tab=integrations",{replace:!0}),2e3)})()},[e]);const o=()=>r==="success"?"text-emerald-600":r==="error"?"text-red-600":"text-text-secondary";return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 max-w-md w-full text-center space-y-3",children:[s.jsx("div",{className:`text-lg font-semibold ${o()}`,children:r==="success"?"All good!":r==="error"?"Oops":"Please wait"}),s.jsx("p",{className:"text-sm text-text-secondary",children:i}),r==="error"&&s.jsx("button",{onClick:()=>t("/dashboard?tab=integrations",{replace:!0}),className:"mt-2 inline-flex items-center justify-center px-4 py-2 rounded-lg bg-primary text-white",children:"Back to dashboard"})]})})}function m5(){return s.jsx("div",{className:"min-h-screen py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(Ln,{className:"w-16 h-16 text-primary mx-auto mb-4"}),s.jsx("h1",{className:"text-4xl font-bold text-text-primary mb-4",children:"Panou de Administrare"}),s.jsx("p",{className:"text-xl text-text-secondary",children:"Gestioneaz coninutul i preurile site-ului"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Admin Features"})," ",s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[" ",s.jsx("div",{className:"flex items-center mb-4",children:s.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Editare Coninut"})}),s.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[s.jsx("li",{children:" Modific textele de pe homepage"}),s.jsx("li",{children:" Actualizeaz descrierile serviciilor"}),s.jsx("li",{children:" Editeaz informaiile de contact"}),s.jsx("li",{children:" Gestioneaz coninutul n toate limbile"})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[" ",s.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Gestionare Preuri"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[s.jsx("li",{children:" Actualizeaz preurile serviciilor"}),s.jsx("li",{children:" Modific tarifele FBA i FBM"}),s.jsx("li",{children:" Adaug servicii noi"}),s.jsx("li",{children:" Gestioneaz oferte speciale"})]})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Simplified Access"})," ",s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:[" ",s.jsx("div",{className:"flex items-center mb-4",children:s.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"Modificri Directe"})}),s.jsx("p",{className:"text-yellow-800 mb-4",children:"Pentru moment, modificrile se fac direct n fiierele de cod. Aceasta este o soluie simpl i eficient pentru un site static."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Pentru modificarea preurilor:"}),s.jsxs("p",{className:"text-sm text-yellow-700",children:["Editeaz fiierul ",s.jsx("code",{className:"bg-yellow-100 px-2 py-1 rounded",children:"src/components/admin/SupabaseAdminPanel.jsx"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Pentru modificarea textelor:"}),s.jsxs("p",{className:"text-sm text-yellow-700",children:["Editeaz fiierul ",s.jsx("code",{className:"bg-yellow-100 px-2 py-1 rounded",children:"src/components/admin/SupabaseAdminPanel.jsx"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Pentru informaii de contact:"}),s.jsxs("p",{className:"text-sm text-yellow-700",children:["Editeaz fiierul ",s.jsx("code",{className:"bg-yellow-100 px-2 py-1 rounded",children:"src/components/Footer.jsx"})]})]})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Contact Information"})," ",s.jsxs("div",{className:"bg-primary-light bg-opacity-10 p-6 rounded-lg",children:[" ",s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Email Principal:"}),s.jsx("p",{className:"text-text-secondary",children:"contact@prep-center.eu"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"WhatsApp:"}),s.jsx("p",{className:"text-text-secondary",children:"+33 6 75 11 62 18"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Adres:"}),s.jsx("p",{className:"text-text-secondary",children:"35350 La Gouesnire, France"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Program:"}),s.jsx("p",{className:"text-text-secondary",children:"Luni-Vineri: 8:00-18:00"})]})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Next Steps"})," ",s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[" ",s.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-4",children:"Site-ul este gata de lansare!"}),s.jsxs("ul",{className:"space-y-2 text-green-800",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Toate paginile funcioneaz perfect"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Formularul de contact trimite email-uri"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Design responsive pentru toate dispozitivele"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Traduceri complete n 8 limbi"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"SEO optimizat pentru Google"]})]})]})]})]})]})})}const h5={shell:{title:"Admin Panel",subtitle:""},sidebar:{analytics:"Analytics",profiles:"Clients",receiving:"Receptions",prepRequests:"Prep Requests",services:"Services",pricing:"Pricing",homeContent:"Homepage Content",reviews:"Reviews",userGuide:"User Guide",settings:"Settings",affiliates:"Affiliates"},common:{loading:"Loading",errorPrefix:"Error",delete:"Delete",cancel:"Cancel",save:"Save",refresh:"Refresh",signOut:"Sign out",accessDeniedTitle:"Access denied",accessDeniedDesc:"Your account does not have administrator permissions."},clients:{filters:{month:"Month",prevMonth:"Previous month",nextMonth:"Next month",balance:"Balance filter",search:"Search",searchPlaceholder:"Name / company / email"},balanceFilters:{all:"All",advance:"Advance credit",overdue:"Past due"},buttons:{exportCsv:"Export CSV",showEmail:"Show Email",hideEmail:"Hide Email",toggleEmail:"Show/Hide email column"},rpcRange:"RPC period: {start} (inclusive)  {end} (inclusive)",table:{store:"Store",name:"Name",company:"Company",email:"Email",createdAt:"Created",currentBalance:"Balance",carryBalance:"Outstanding / Advance",liveBalance:"Live balance",actions:"Actions",open:"Open"},csv:{name:"Name",company:"Company",email:"Email",createdAt:"Created",current:"Balance",carry:"Outstanding / advance",live:"Live balance",footer:"Current page total"},empty:"No clients found.",pagination:"Page {page} / {total}",paginationPrev:"Previous page",paginationNext:"Next page"},serviceNames:{photoSubscription:"Photo storage subscription",manualPhoto:"Manual photo capture"},adminPricing:{title:"Pricing manager",subtitle:"Add, edit or publish prep, FBM, extra and storage fees in one place.",sync:"Sync to website",export:"Export pricing PDF",loading:"Loading pricing",save:"Save changes",saving:"Saving",addPrep:"Add new prep service",addPlatform:"Add new platform",addService:"Add new service",addStorage:"Add new storage type",fields:{service:"Service name",price:"Price",unit:"Unit"},validation:"Row {index}: please fill service, price and unit.",saveSuccess:"Pricing saved successfully.",saveError:"Unable to save pricing. Please try again.",loadError:"Unable to load pricing services.",exportError:"Failed to generate PDF.",groups:{fba:{title:"FBA Prep Services",subtitle:"Inbound preparation, packaging and protective steps."},fbm:{title:"FBM Fulfillment",subtitle:"Pick & pack per order for each marketplace."},extra:{title:"Extra Services",subtitle:"Branding, inserts, documentation or translation fees."},storage:{title:"Storage",subtitle:"Monthly storage plans and surcharges."},custom:{title:"Custom category",subtitle:"Published from the admin panel."}}},adminShipping:{title:"FBM shipping rates",subtitle:"Manage domestic and international FBM package rates.",refresh:"Reload rates",loadError:"Unable to load shipping rates.",saveError:"Unable to save shipping rates.",saveSuccess:"Shipping rates saved successfully.",validation:"Please fill every price and provider before saving.",loading:"Loading shipping tables",addProvider:"Add provider",save:"Save table",remove:"Remove",domesticBadge:"Domestic",domesticTitle:"FBM package shipping  France",internationalBadge:"International",internationalTitle:"International FBM shipping",provider:"Transporter",info:"Info",actions:"Actions",providerPlaceholder:"Carrier name",infoPlaceholder:"Transit time / notes",colorPlaceholder:"Row color (optional)"},receiving:{title:"Reception management",subtitle:"Manage client reception announcements",filters:{status:"All statuses",searchPlaceholder:"Search by tracking, client, email"},buttons:{markSelected:"Mark selected as received",refresh:"Refresh"},status:{draft:"Draft",submitted:"Submitted",received:"Received",processed:"Processed",cancelled:"Cancelled"},messages:{selectOne:"Select at least one reception first.",marked:"Reception marked as received.",deleted:"Reception deleted successfully.",processed:"Reception processed into stock successfully.",bulkMarked:"{count} reception(s) marked as received.",error:"Error",processingError:"Processing error",deleteError:"Delete error"},confirm:{mark:"Mark this reception as received?",bulkMark:"Mark selected receptions as received?",delete:"Delete this reception? This action cannot be undone.",process:"Process this reception into stock? This action cannot be undone."},table:{client:"Client",carrier:"Carrier",tracking:"Tracking",status:"Status",products:"Products",lines:"Lines",date:"Date",actions:"Actions",noRows:"No receptions found",more:"+{count} more"},detail:{client:"Client",carrier:"Carrier",otherCarrier:"Carrier name",trackingNumbers:"Tracking numbers",addTracking:"Add tracking number",trackingPlaceholder:"Ex: 1Z999AA1234567890",fbaIds:"FBA Shipment ID(s)",addFba:"Add FBA shipment ID",notes:"Notes",status:"Status",actions:{mark:"Mark as received",delete:"Delete",process:"Process to stock"},products:"Products"}},affiliates:{title:"Affiliate program",subtitle:"Create referral codes, approve requests, and track commissions.",createTitle:"Create affiliate code",ownerSelect:"Client owner",ownerPlaceholder:"Select client",ownerLoading:"Loading clients",ownerEmpty:"No clients available yet. Once a client requests a code they will appear here.",ownerHasCode:"has code",codeLabel:"Code",labelLabel:"Label",descriptionLabel:"Description",descriptionPlaceholder:"Internal note",payoutType:"Payout type",modePercent:"Percentage",modeThreshold:"Threshold / fixed",percentBelow:"Percent under threshold",percentAbove:"Percent over threshold",threshold:"Threshold (EUR)",fixedAmount:"Fixed amount (EUR)",createBtn:"Create code",createSuccess:"Affiliate code created.",formError:"Owner and code are required.",requestsTitle:"Pending requests",requestApprove:"Use request",requestReject:"Reject",noNotes:"No note provided",viewMembers:"Members",disable:"Disable",enable:"Enable",assignedTitle:"Assigned clients",candidatesTitle:"Clients who entered the code",noAssigned:"No assigned clients yet.",noCandidates:"No pending clients.",assign:"Assign",remove:"Remove",requestsEmpty:"No affiliate requests yet."}},f5={shell:{title:"Panneau administrateur",subtitle:""},sidebar:{analytics:"Analytics",profiles:"Clients",receiving:"Rceptions",prepRequests:"Demandes de prparation",services:"Services",pricing:"Tarifs",homeContent:"Contenu d'accueil",reviews:"Avis",userGuide:"Guide utilisateur",settings:"Paramtres",affiliates:"Affiliates"},common:{loading:"Chargement",errorPrefix:"Erreur",delete:"Supprimer",cancel:"Annuler",save:"Enregistrer",refresh:"Actualiser",signOut:"Se dconnecter",accessDeniedTitle:"Accs refus",accessDeniedDesc:"Votre compte n'a pas de permissions administrateur."},clients:{filters:{month:"Mois",prevMonth:"Mois prcdent",nextMonth:"Mois suivant",balance:"Filtre solde",search:"Recherche",searchPlaceholder:"Nom / socit / email"},balanceFilters:{all:"Tous",advance:"Avec avance",overdue:"En retard"},buttons:{exportCsv:"Exporter CSV",showEmail:"Afficher l'email",hideEmail:"Masquer l'email",toggleEmail:"Afficher / masquer la colonne email"},rpcRange:"Priode RPC : {start} (inclus)  {end} (inclus)",table:{store:"Store",name:"Nom",company:"Socit",email:"Email",createdAt:"Cr le",currentBalance:"Solde",carryBalance:"Solde restant / avance",liveBalance:"Solde du jour",actions:"Actions",open:"Ouvrir"},csv:{name:"Nom",company:"Socit",email:"Email",createdAt:"Cr le",current:"Solde",carry:"Restant / avance",live:"Solde du jour",footer:"Total page courante"},empty:"Aucun client trouv.",pagination:"Page {page} / {total}",paginationPrev:"Page prcdente",paginationNext:"Page suivante"},serviceNames:{photoSubscription:"Abonnement stockage photos",manualPhoto:"Prise de photos manuelle"},adminPricing:{title:"Gestionnaire de tarifs",subtitle:"Ajoutez, modifiez ou publiez les tarifs FBA, FBM, extra et stockage en un seul endroit.",sync:"Synchroniser avec le site",export:"Exporter les tarifs en PDF",loading:"Chargement des tarifs",save:"Enregistrer",saving:"Enregistrement",addPrep:"Ajouter un service de prparation",addPlatform:"Ajouter une plateforme",addService:"Ajouter un service",addStorage:"Ajouter un type de stockage",fields:{service:"Nom du service",price:"Tarif",unit:"Unit"},validation:"Ligne {index} : renseignez nom, tarif et unit.",saveSuccess:"Tarifs enregistrs avec succs.",saveError:"Impossible denregistrer les tarifs.",loadError:"Impossible de charger les tarifs.",exportError:"chec de la gnration du PDF.",groups:{fba:{title:"Services FBA Prep",subtitle:"Prparation inbound par unit."},fbm:{title:"Fulfillment FBM",subtitle:"Traitement par commande suivant la plateforme."},extra:{title:"Services additionnels",subtitle:"Branding, inserts et traductions."},storage:{title:"Stockage",subtitle:"Formules mensuelles et supplments."},custom:{title:"Catgorie personnalise",subtitle:"Publie depuis ladmin."}}},receiving:{title:"Gestion des rceptions",subtitle:"Grez les annonces de rception des clients",filters:{status:"Tous les statuts",searchPlaceholder:"Rechercher par tracking, client, email"},buttons:{markSelected:"Marquer la slection comme reue",refresh:"Actualiser"},status:{draft:"Brouillon",submitted:"Soumise",received:"Reue",processed:"Traite",cancelled:"Annule"},messages:{selectOne:"Slectionnez d'abord au moins une rception.",marked:"Rception marque comme reue.",deleted:"Rception supprime avec succs.",processed:"Rception traite vers le stock.",bulkMarked:"{count} rception(s) marque(s) comme reue(s).",error:"Erreur",processingError:"Erreur de traitement",deleteError:"Erreur de suppression"},confirm:{mark:"Marquer cette rception comme reue ?",bulkMark:"Marquer les rceptions slectionnes comme reues ?",delete:"Supprimer cette rception ? Cette action est dfinitive.",process:"Traiter cette rception vers le stock ? Cette action est irrversible."},table:{client:"Client",carrier:"Transporteur",tracking:"Tracking",status:"Statut",products:"Produits",lines:"Lignes",date:"Date",actions:"Actions",noRows:"Aucune rception trouve",more:"+{count} de plus"},detail:{client:"Client",carrier:"Transporteur",otherCarrier:"Nom du transporteur",trackingNumbers:"Numros de suivi",addTracking:"Ajouter un numro de suivi",trackingPlaceholder:"Ex: 1Z999AA1234567890",fbaIds:"ID(s) d'expdition FBA",addFba:"Ajouter un ID FBA",notes:"Notes",status:"Statut",actions:{mark:"Marquer comme reu",delete:"Supprimer",process:"Traiter vers le stock"},products:"Produits"}},affiliates:{title:"Affiliate program",subtitle:"Create referral codes, approve requests, and track commissions.",createTitle:"Create affiliate code",ownerSelect:"Client owner",ownerPlaceholder:"Select client",ownerLoading:"Chargement des clients",ownerEmpty:"Aucun client disponible pour le moment. Ils apparatront aprs une demande de code.",ownerHasCode:"a dj un code",codeLabel:"Code",labelLabel:"Label",descriptionLabel:"Description",descriptionPlaceholder:"Internal note",payoutType:"Payout type",modePercent:"Percentage",modeThreshold:"Threshold / fixed",percentBelow:"Percent under threshold",percentAbove:"Percent over threshold",threshold:"Threshold (EUR)",fixedAmount:"Fixed amount (EUR)",createBtn:"Create code",createSuccess:"Affiliate code created.",formError:"Owner and code are required.",requestsTitle:"Pending requests",requestApprove:"Use request",requestReject:"Reject",noNotes:"No note provided",viewMembers:"Members",disable:"Disable",enable:"Enable",assignedTitle:"Assigned clients",candidatesTitle:"Clients who entered the code",noAssigned:"No assigned clients yet.",noCandidates:"No pending clients.",assign:"Assign",remove:"Remove",requestsEmpty:"No affiliate requests yet."}},g5={shell:{title:"Panou Admin",subtitle:""},sidebar:{analytics:"Analytics",profiles:"Clieni",receiving:"Recepii",prepRequests:"Cereri prep",services:"Servicii",pricing:"Preuri",homeContent:"Coninut Homepage",reviews:"Recenzii",userGuide:"Ghid utilizator",settings:"Setri",affiliates:"Afiliai"},common:{loading:"Se ncarc",errorPrefix:"Eroare",delete:"terge",cancel:"Anuleaz",save:"Salveaz",refresh:"Actualizeaz",signOut:"Deconectare",accessDeniedTitle:"Acces interzis",accessDeniedDesc:"Contul tu nu are permisiuni de administrator."},clients:{filters:{month:"Luna",prevMonth:"Luna anterioar",nextMonth:"Luna urmtoare",balance:"Filtru sold",search:"Cutare",searchPlaceholder:"Nume / companie / email"},balanceFilters:{all:"Toate",advance:"Cu avans",overdue:"Cu termen depit"},buttons:{exportCsv:"Export CSV",showEmail:"Afieaz email",hideEmail:"Ascunde email",toggleEmail:"Afieaz/ascunde coloana email"},rpcRange:"Perioad RPC: {start} (inclusiv)  {end} (inclusiv)",table:{store:"Store",name:"Nume",company:"Companie",email:"Email",createdAt:"Creat la",currentBalance:"Sold",carryBalance:"Sold restant / avans",liveBalance:"Sold la zi",actions:"Aciuni",open:"Deschide"},csv:{name:"Nume",company:"Companie",email:"Email",createdAt:"Creat la",current:"Sold",carry:"Restant / avans",live:"Sold la zi",footer:"Total pagin curent"},empty:"Niciun client gsit.",pagination:"Pagina {page} / {total}",paginationPrev:"Pagina anterioar",paginationNext:"Pagina urmtoare"},serviceNames:{photoSubscription:"Abonament stocare fotografii",manualPhoto:"Fotografiere manual"},adminPricing:{title:"Manager tarife",subtitle:"Adaug, editeaz sau public tarifele FBA, FBM, Extra i depozitare dintr-un singur loc.",sync:"Sincronizeaz pe site",export:"Export tarife PDF",loading:"Se ncarc tarifele",save:"Salveaz modificrile",saving:"Se salveaz",addPrep:"Adaug serviciu de pregtire",addPlatform:"Adaug platform",addService:"Adaug serviciu",addStorage:"Adaug tip de depozitare",fields:{service:"Nume serviciu",price:"Pre",unit:"Unitate"},validation:"Linia {index}: completeaz numele, preul i unitatea.",saveSuccess:"Tarife salvate cu succes.",saveError:"Tarifele nu au putut fi salvate.",loadError:"Tarifele nu au putut fi ncrcate.",exportError:"Nu am putut genera PDF-ul.",groups:{fba:{title:"Servicii FBA Prep",subtitle:"Recepie, etichetare i protecie per unitate."},fbm:{title:"Fulfillment FBM",subtitle:"Procesare per comand pentru fiecare platform."},extra:{title:"Servicii extra",subtitle:"Branding, materiale de inserie i traduceri."},storage:{title:"Depozitare",subtitle:"Planuri lunare i suprataxe."},custom:{title:"Categorie suplimentar",subtitle:"Publicat din panoul de administrare."}}},receiving:{title:"Gestionare recepii",subtitle:"Gestioneaz anunurile de recepie ale clienilor",filters:{status:"Toate statusurile",searchPlaceholder:"Caut dup tracking, client, email"},buttons:{markSelected:"Marcheaz selecia ca recepionat",refresh:"Actualizeaz"},status:{draft:"Ciorn",submitted:"Trimis",received:"Recepionat",processed:"Procesat",cancelled:"Anulat"},messages:{selectOne:"Selecteaz mai nti cel puin o recepie.",marked:"Recepia a fost marcat ca recepionat.",deleted:"Recepia a fost tears cu succes.",processed:"Recepia a fost procesat n stoc.",bulkMarked:"{count} recepie(i) marcate ca recepionate.",error:"Eroare",processingError:"Eroare la procesare",deleteError:"Eroare la tergere"},confirm:{mark:"Marchezi aceast recepie ca recepionat?",bulkMark:"Marchezi recepiile selectate ca recepionate?",delete:"tergi aceast recepie? Aciunea este definitiv.",process:"Procesezi recepia ctre stoc? Aciunea este definitiv."},table:{client:"Client",carrier:"Curier",tracking:"Tracking",status:"Status",products:"Produse",lines:"Linii",date:"Dat",actions:"Aciuni",noRows:"Nu exist recepii",more:"+{count} n plus"},detail:{client:"Client",carrier:"Curier",otherCarrier:"Nume curier",trackingNumbers:"Numere de tracking",addTracking:"Adaug numr de tracking",trackingPlaceholder:"Ex: 1Z999AA1234567890",fbaIds:"ID-uri FBA",addFba:"Adaug ID FBA",notes:"Note",status:"Status",actions:{mark:"Marcheaz ca recepionat",delete:"terge",process:"Proceseaz n stoc"},products:"Produse"}},affiliates:{title:"Program de afiliere",subtitle:"Creeaz coduri, aprob cereri i urmrete comisioanele.",createTitle:"Creeaz cod",ownerSelect:"Client deinator",ownerPlaceholder:"Selecteaz clientul",ownerLoading:"Se ncarc lista de clieni",ownerEmpty:"nc nu exist clieni disponibili. Apar automat dup ce solicit un cod.",ownerHasCode:"are deja cod",codeLabel:"Cod",labelLabel:"Etichet",descriptionLabel:"Descriere",descriptionPlaceholder:"Not intern",payoutType:"Tip recompens",modePercent:"Procent lunar",modeThreshold:"Prag / sum fix",percentBelow:"Procent sub prag",percentAbove:"Procent peste prag",threshold:"Prag (EUR)",fixedAmount:"Sum fix (EUR)",createBtn:"Salveaz codul",createSuccess:"Codul a fost creat.",formError:"Selecteaz clientul i codul.",requestsTitle:"Cereri n ateptare",requestApprove:"Folosete cererea",requestReject:"Respinge",noNotes:"Fr not adugat",viewMembers:"Clieni",disable:"Dezactiveaz",enable:"Activeaz",assignedTitle:"Clieni asignai",candidatesTitle:"Clieni care au introdus codul",noAssigned:"Niciun client asignat.",noCandidates:"Nu sunt clieni n ateptare.",assign:"Asigneaz",remove:"terge",requestsEmpty:"Nu exist cereri de afiliere."}},Lg={en:h5,fr:f5,ro:g5},uw=(e={},t="")=>t.split(".").reduce((r,n)=>r&&r[n]!=null?r[n]:void 0,e),v5=e=>Lg[e]||Lg.en,y5=(e,t={})=>typeof e=="string"?e.replace(/\{(\w+)\}/g,(r,n)=>t[n]!==void 0?t[n]:`{${n}}`):e,xo=()=>{const{currentLanguage:e}=Dr(),t=v5(e),r=Lg.en,n=l=>{const c=uw(t,l);return c!==void 0?c:uw(r,l)},i=l=>{const c=n(l);return typeof c=="string"?c:l};return{t:i,tp:(l,c)=>y5(i(l),c),LO:l=>{const c=n(l);return c&&typeof c=="object"&&!Array.isArray(c)?c:{}},lang:e}},dw=(e,t)=>{try{const r=Xt.getItem(e);return r==null?t:JSON.parse(r)}catch{return t}},pw=(e,t)=>{try{t===void 0?Xt.removeItem(e):Xt.setItem(e,JSON.stringify(t))}catch{}};function bt(e,t){const r=x.useRef(e),[n,i]=x.useState(()=>dw(e,t));x.useEffect(()=>{r.current!==e&&(r.current=e,i(dw(e,t)))},[e,t]);const a=x.useCallback(o=>{i(l=>{const c=typeof o=="function"?o(l):o;return pw(r.current,c),c})},[]);return x.useEffect(()=>{pw(e,n)},[e,n]),[n,a]}const Wh=20,Kh=e=>Number.isFinite(e)?e.toFixed(2):"0.00";function yu(e=new Date){return new Date(e.getFullYear(),e.getMonth(),1)}function xu(e=new Date){return new Date(e.getFullYear(),e.getMonth()+1,0)}function x5(e,t){const r=new Date(e);return r.setMonth(r.getMonth()+t),r}function En(e){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function Hh(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}const nd=(e=[],t="units")=>(e||[]).reduce((r,n)=>{const i=(n==null?void 0:n.total)!=null?Number(n.total):Number((n==null?void 0:n.unit_price)||0)*Number((n==null?void 0:n[t])||0);return r+(Number.isFinite(i)?i:0)},0),mw=(e=[])=>nd(e,"units"),b5=(e=[])=>(e||[]).reduce((t,r)=>{const n=String((r==null?void 0:r.status)||"").trim().toLowerCase(),i=Number(r==null?void 0:r.amount);return n==="paid"&&Number.isFinite(i)?t+i:t},0);async function _5(e){if(!e)return 0;const[{data:t},{data:r},{data:n},{data:i}]=await Promise.all([Q.from("fba_lines").select("unit_price, units, total").eq("company_id",e),Q.from("fbm_lines").select("unit_price, orders_units, total").eq("company_id",e),Q.from("other_lines").select("unit_price, units, total").eq("company_id",e),Q.from("invoices").select("amount, status").eq("company_id",e)]),a=nd(t,"units")+nd(r,"orders_units")+nd(n,"units"),o=b5(i);return a-o}async function w5(e,t,r){if(!e)return{monthTotal:0,carryTotal:0};const[{data:n,error:i},{data:a,error:o}]=await Promise.all([Q.from("other_lines").select("total, unit_price, units, service_date").eq("company_id",e).gte("service_date",t).lte("service_date",r),Q.from("other_lines").select("total, unit_price, units, service_date").eq("company_id",e).lt("service_date",t)]);return i||o?{monthTotal:0,carryTotal:0}:{monthTotal:mw(n),carryTotal:mw(a)}}function hw({value:e}){const t=d2(Number(e)),r=t==="neutral",n=t==="advance"?"bg-green-100 text-green-800":t==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700";let i="0.00";if(!r){const a=Math.abs(e);i=e>0?`-${a.toFixed(2)}`:a.toFixed(2)}return s.jsx("span",{className:`px-2 py-1 rounded-md text-sm font-medium ${n}`,children:i})}const d2=e=>!Number.isFinite(e)||Math.abs(e)<1e-9?"neutral":e>0?"overdue":"advance",S5="admin-clients-filters",N5=["all","advance","overdue"];function k5({onSelect:e}){const{t,tp:r}=xo(),[n,i]=bt(S5,{selectedMonth:Hh(new Date),showEmail:!1,from:En(yu(new Date)),to:En(xu(new Date)),q:"",page:1,restFilter:"all"}),[a,o]=x.useState(n.selectedMonth||Hh(new Date)),[l,c]=x.useState(!!n.showEmail),[u,d]=x.useState(n.from||En(yu(new Date))),[p,h]=x.useState(n.to||En(xu(new Date))),m=I=>{const[R,q]=a.split("-").map(Number),re=x5(new Date(R,q-1,1),I);o(Hh(re)),d(En(yu(re))),h(En(xu(re)))},y=x.useMemo(()=>{if(!a)return"";const[I,R]=a.split("-").map(Number);return!Number.isFinite(I)||!Number.isFinite(R)?a:new Date(I,R-1,1).toLocaleDateString(void 0,{month:"long",year:"numeric"})},[a]),[f,g]=x.useState([]),[v,b]=x.useState(!0),[_,S]=x.useState(n.q||""),[w,N]=x.useState(n.page||1),[j,O]=x.useState(""),[E,P]=x.useState({}),[M,T]=x.useState(N5.includes(n.restFilter)?n.restFilter:"all"),[$,C]=x.useState(null),[U,K]=x.useState(""),[F,H]=x.useState("");x.useEffect(()=>{i({selectedMonth:a,showEmail:l,from:u,to:p,q:_,page:w,restFilter:M})},[a,l,u,p,_,w,M,i]),x.useEffect(()=>{if(!F)return;const I=setTimeout(()=>H(""),4e3);return()=>clearTimeout(I)},[F]);const G=(I,R)=>{const q=R.get(I.id)||[],re=q.find(A=>A.is_default)||q[0]||{},k=I.first_name||(re==null?void 0:re.first_name)||null,ee=I.last_name||(re==null?void 0:re.last_name)||null,D=I.company_name||(re==null?void 0:re.company_name)||null;return{...I,display_first_name:k,display_last_name:ee,display_company_name:D}},ie=x.useCallback(async()=>{b(!0),O("");try{const{data:I,error:R}=await Q.from("profiles").select("id,email,first_name,last_name,company_name,created_at,account_type,company_id,store_name").order("created_at",{ascending:!1});if(R)throw R;const q=(I||[]).filter(D=>(D.account_type||"").toLowerCase()!=="admin");let re=new Map;const k=q.map(D=>D.id).filter(Boolean);if(k.length){const{data:D,error:A}=await Q.from("billing_profiles").select("user_id, first_name, last_name, company_name, is_default").in("user_id",k);A&&console.error("billing_profiles load failed",A),(D||[]).forEach(z=>{z!=null&&z.user_id&&(re.has(z.user_id)||re.set(z.user_id,[]),re.get(z.user_id).push(z))})}const ee=q.map(D=>G(D,re));g(ee),P({})}catch(I){g([]),O((I==null?void 0:I.message)||"Failed to load clients")}finally{b(!1)}},[]);x.useEffect(()=>{ie()},[ie]);const J=x.useMemo(()=>{const I=_.trim().toLowerCase();return I?f.filter(R=>(R.display_first_name||R.first_name||"").toLowerCase().includes(I)||(R.display_last_name||R.last_name||"").toLowerCase().includes(I)||(R.display_company_name||R.company_name||"").toLowerCase().includes(I)||(R.email||"").toLowerCase().includes(I)):f},[f,_]),Y=Math.max(1,Math.ceil(J.length/Wh)),pe=Math.min(w,Y),oe=x.useMemo(()=>{const I=(pe-1)*Wh;return J.slice(I,I+Wh)},[J,pe]),se=x.useMemo(()=>M==="all"||!oe.every(R=>E[R.id])?oe:oe.filter(R=>{var re;const q=Number(((re=E[R.id])==null?void 0:re.diff)??0);return d2(q)===M}),[oe,M,E]),_e=x.useMemo(()=>{const I=se.reduce((q,re)=>{var k;return q+Number(((k=E[re.id])==null?void 0:k.currentSold)??0)},0),R=se.reduce((q,re)=>{var k;return q+Number(((k=E[re.id])==null?void 0:k.carry)??0)},0);return{totCurrent:I,totCarry:R}},[se,E]);x.useEffect(()=>{let I=!0;return(async()=>{if(oe.length===0)return;const[R,q]=a.split("-").map(Number),re=En(new Date(R,q-1,1)),k=En(new Date(R,q,0)),ee=await Promise.all(oe.map(async D=>{if(!D.company_id)return[D.id,{currentSold:0,carry:0,diff:0}];const[{data:A,error:z},W]=await Promise.all([he.getPeriodBalances(D.id,D.company_id,re,k),_5(D.company_id)]);if(z||!A)return[D.id,{currentSold:0,carry:0,diff:W||0}];let L=Number(A.sold_current??A.sold_curent??0),Z=Number(A.sold_restant??0);const X=await w5(D.company_id,re,k);return L+=X.monthTotal,Z+=X.carryTotal,[D.id,{currentSold:L,carry:Z,diff:W}]}));I&&P(D=>{const A={...D};return ee.forEach(([z,W])=>{z&&(A[z]=W)}),A})})(),()=>{I=!1}},[oe,a]);const te=I=>{C(I.id),K(I.store_name||"")},de=()=>{C(null),K("")},B=async()=>{if($)try{const I={store_name:U.trim()||null},{error:R}=await Q.from("profiles").update(I).eq("id",$);if(R)throw R;g(q=>q.map(re=>re.id===$?{...re,store_name:I.store_name}:re)),H("Store name saved."),de(),await ie()}catch(I){console.error("Failed to save store name:",I),H((I==null?void 0:I.message)||"Failed to save store name.")}};return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white border rounded-xl shadow-sm p-3 space-y-3 max-w-4xl",children:s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-[minmax(0,260px)_minmax(0,180px)_minmax(0,260px)_auto] text-xs",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-[11px] text-text-secondary",children:t("clients.filters.month")}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("button",{className:"border rounded px-2 py-1",onClick:()=>m(-1),title:t("clients.filters.prevMonth"),children:s.jsx(Ld,{className:"w-3 h-3"})}),s.jsxs("div",{className:"relative flex-1 min-w-[150px]",children:[s.jsx(Ys,{className:"w-3.5 h-3.5 absolute left-2.5 top-1/2 -translate-y-1/2 text-text-light"}),s.jsx("input",{type:"month",value:a,onChange:I=>{const R=I.target.value;o(R);const[q,re]=R.split("-").map(Number),k=new Date(q,re-1,1);d(En(yu(k))),h(En(xu(k))),N(1)},className:"pl-7 pr-2 py-1.5 border rounded w-full text-xs"})]}),s.jsx("button",{className:"border rounded px-2 py-1",onClick:()=>m(1),title:t("clients.filters.nextMonth"),children:s.jsx(Wl,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"text-[11px] text-text-secondary space-y-0.5",children:[s.jsx("div",{className:"font-semibold text-text-primary capitalize",children:y}),s.jsxs("div",{className:"text-[10px] text-gray-500",children:[u,"  ",p]})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-[11px] text-text-secondary",children:t("clients.filters.balance")}),s.jsxs("div",{className:"relative",children:[s.jsx(Ry,{className:"w-3.5 h-3.5 absolute left-2.5 top-1/2 -translate-y-1/2 text-text-light"}),s.jsxs("select",{value:M,onChange:I=>T(I.target.value),className:"pl-7 pr-2 py-1.5 border rounded w-full text-xs",children:[s.jsx("option",{value:"all",children:t("clients.balanceFilters.all")}),s.jsx("option",{value:"advance",children:t("clients.balanceFilters.advance")}),s.jsx("option",{value:"overdue",children:t("clients.balanceFilters.overdue")})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-[11px] text-text-secondary",children:t("clients.filters.search")}),s.jsxs("div",{className:"relative",children:[s.jsx(Xp,{className:"w-3.5 h-3.5 absolute left-2.5 top-1/2 -translate-y-1/2 text-text-light"}),s.jsx("input",{value:_,onChange:I=>{S(I.target.value),N(1)},placeholder:t("clients.filters.searchPlaceholder"),className:"pl-7 pr-2 py-1.5 w-full border rounded text-xs placeholder:text-[11px]"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-[11px] text-text-secondary",children:t("clients.table.email")}),s.jsx("button",{onClick:()=>c(!l),className:"inline-flex items-center justify-center gap-2 px-3 py-1.5 border rounded shadow-sm w-full text-xs",title:t("clients.buttons.toggleEmail"),children:t(l?"clients.buttons.hideEmail":"clients.buttons.showEmail")})]})]})}),F&&s.jsx("div",{className:"px-4 py-2 rounded bg-blue-50 border border-blue-200 text-blue-700 text-sm",children:F}),s.jsx("div",{className:"border rounded-lg bg-white overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-text-secondary",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:t("clients.table.store")}),s.jsx("th",{className:"px-4 py-3 text-left",children:t("clients.table.name")}),s.jsx("th",{className:"px-4 py-3 text-left",children:t("clients.table.company")}),l&&s.jsx("th",{className:"px-4 py-3 text-left",children:t("clients.table.email")}),s.jsx("th",{className:"px-4 py-3 text-left",children:t("clients.table.createdAt")}),s.jsx("th",{className:"px-4 py-3 text-left whitespace-pre-line",children:t("clients.table.currentBalance")}),s.jsx("th",{className:"px-4 py-3 text-left",children:t("clients.table.carryBalance")}),s.jsx("th",{className:"px-4 py-3 text-left",children:t("clients.table.liveBalance")}),s.jsx("th",{className:"px-4 py-3 text-right",children:t("clients.table.actions")})]})}),s.jsx("tbody",{children:v?s.jsx("tr",{children:s.jsx("td",{colSpan:l?9:8,className:"px-4 py-6 text-center text-gray-400",children:t("common.loading")})}):j?s.jsx("tr",{children:s.jsx("td",{colSpan:l?9:8,className:"px-4 py-6 text-center text-red-600",children:j})}):J.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:l?9:8,className:"px-4 py-6 text-center text-gray-400",children:t("clients.empty")})}):se.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:l?9:8,className:"px-4 py-6 text-center text-gray-400",children:t("clients.empty")})}):se.map(I=>{var re;const R=[I.display_first_name||I.first_name,I.display_last_name||I.last_name].filter(Boolean).join(" ")||"",q=E[I.id]||{currentSold:0,carry:0,diff:0};return s.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3",children:$===I.id?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:U,onChange:k=>K(k.target.value),className:"border border-gray-300 rounded-md px-2 py-1 w-40 text-sm",placeholder:"Store..."}),s.jsx("button",{className:"px-2 py-1 bg-primary text-white rounded text-xs",onClick:B,children:"Save"}),s.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:de,children:"Cancel"})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:I.store_name||""}),s.jsx("button",{className:"text-xs text-primary hover:underline",onClick:()=>te(I),children:I.store_name?"Edit":"Add"})]})}),s.jsx("td",{className:"px-4 py-3",children:R}),s.jsx("td",{className:"px-4 py-3",title:I.company_id||"",children:I.display_company_name||I.company_name||""}),l&&s.jsx("td",{className:"px-4 py-3",children:I.email||""}),s.jsx("td",{className:"px-4 py-3",children:((re=I.created_at)==null?void 0:re.slice(0,10))||""}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"px-2 py-1 rounded-md text-sm font-medium bg-gray-100 text-gray-900",children:Kh(Number(q.currentSold||0))})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(hw,{value:q.carry})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(hw,{value:q.diff})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx("button",{className:"text-sm bg-primary text-white rounded px-3 py-1",onClick:()=>e==null?void 0:e(I),children:t("clients.table.open")})})]},I.id)})}),!v&&se.length>0&&s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t bg-slate-50/80 font-semibold text-text-primary",children:[s.jsx("td",{className:"px-4 py-3",children:t("clients.csv.footer")}),s.jsx("td",{className:"px-4 py-3",colSpan:l?4:3}),s.jsx("td",{className:"px-4 py-3",children:Kh(_e.totCurrent)}),s.jsx("td",{className:"px-4 py-3",children:Kh(_e.totCarry)}),s.jsx("td",{className:"px-4 py-3"}),s.jsx("td",{className:"px-4 py-3"})]})})]})}),s.jsxs("div",{className:"flex items-center gap-2 justify-end text-sm",children:[s.jsx("button",{className:"border rounded px-2 py-1 disabled:opacity-50",onClick:()=>N(I=>Math.max(1,I-1)),disabled:pe<=1,title:t("clients.paginationPrev"),children:s.jsx(Ld,{className:"w-4 h-4"})}),s.jsx("span",{children:r("clients.pagination",{page:pe,total:Y})}),s.jsx("button",{className:"border rounded px-2 py-1 disabled:opacity-50",onClick:()=>N(I=>Math.min(Y,I+1)),disabled:pe>=Y,title:t("clients.paginationNext"),children:s.jsx(Wl,{className:"w-4 h-4"})})]})]})}function p2(){const[e,t]=x.useState(30),[r,n]=x.useState(!0),[i,a]=x.useState(null),[o,l]=x.useState({byDay:[],topPaths:[],topReferrers:[]});x.useEffect(()=>{let h=!1;return n(!0),a(null),(async()=>{const{byDay:m,topPaths:y,topReferrers:f,error:g}=await he.getAnalytics({days:e});h||(g?a(g):l({byDay:m||[],topPaths:y||[],topReferrers:f||[]}),n(!1))})(),()=>{h=!0}},[e]);const c=x.useMemo(()=>{const h=new Map;(o.byDay||[]).forEach(f=>{const v=new Date(f.created_at).toISOString().slice(0,10);h.set(v,(h.get(v)||0)+1)});const m=Array.from(h.entries()).sort((f,g)=>f[0].localeCompare(g[0])),y=Math.max(1,...m.map(f=>f[1]));return{arr:m,max:y}},[o.byDay]),u=(h,m)=>{const y=new Map;return(h||[]).forEach(f=>{const g=f[m]||"(direct)";y.set(g,(y.get(g)||0)+1)}),Array.from(y.entries()).sort((f,g)=>g[1]-f[1]).slice(0,10)},d=u(o.topPaths,"path"),p=u(o.topReferrers,"referrer");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-text-primary flex items-center gap-2",children:[s.jsx(Lj,{className:"w-6 h-6"}),"Analytics"]}),s.jsxs("select",{className:"border rounded-lg px-3 py-2",value:e,onChange:h=>t(Number(h.target.value)),children:[s.jsx("option",{value:7,children:"Ultimele 7 zile"}),s.jsx("option",{value:30,children:"Ultimele 30 zile"}),s.jsx("option",{value:90,children:"Ultimele 90 zile"})]})]}),r&&s.jsx("div",{className:"py-8 text-text-secondary",children:"Loading"}),i&&s.jsxs("div",{className:"py-8 text-red-600",children:["Eroare: ",i.message||String(i)]}),!r&&!i&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsx("div",{className:"text-sm text-text-secondary mb-3",children:"Vizite pe zi"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:[c.arr.map(([h,m])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-24 text-sm text-text-secondary",children:h}),s.jsx("div",{className:"flex-1 h-3 bg-white rounded-md overflow-hidden border",children:s.jsx("div",{className:"h-full bg-primary",style:{width:`${m/c.max*100}%`}})}),s.jsx("div",{className:"w-10 text-right text-sm",children:m})]},h)),c.arr.length===0&&s.jsx("div",{className:"text-text-secondary",children:"Nicio vizit n interval."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-text-secondary",children:[s.jsx(Dy,{className:"w-4 h-4"})," Pagini top"]}),s.jsxs("ul",{className:"space-y-2",children:[d.map(([h,m])=>s.jsxs("li",{className:"flex justify-between gap-3",children:[s.jsx("span",{className:"truncate",children:h}),s.jsx("span",{className:"font-semibold",children:m})]},h)),d.length===0&&s.jsx("li",{className:"text-text-secondary",children:""})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-text-secondary",children:[s.jsx(sF,{className:"w-4 h-4"})," Referrers"]}),s.jsxs("ul",{className:"space-y-2",children:[p.map(([h,m])=>s.jsxs("li",{className:"flex justify-between gap-3",children:[s.jsx("span",{className:"truncate",children:h}),s.jsx("span",{className:"font-semibold",children:m})]},h)),p.length===0&&s.jsx("li",{className:"text-text-secondary",children:""})]})]})]})]})]})}function Oa({title:e,children:t,right:r}){return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e?s.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:e}):s.jsx("span",{}),r]}),t]})}function j5({profile:e,hideTitles:t=!1}){const r=e==null?void 0:e.id,n=e==null?void 0:e.company_id,[i,a]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(!1),[d,p]=x.useState(!1),[h,m]=x.useState(null),[y,f]=x.useState(""),[g,v]=x.useState({invoice_number:"",amount:"",vat_amount:"",description:"",issue_date:"",due_date:"",status:"pending"}),[b,_]=x.useState(null),[S,w]=x.useState({invoice_number:"",amount:"",vat_amount:"",description:"",issue_date:"",due_date:"",status:"pending"}),N=async()=>{if(!n){a([]),l(!1);return}l(!0);let U,K;try{const F=await Q.from("invoices").select("*").eq("company_id",n).order("issue_date",{ascending:!1});U=F.data,K=F.error}catch(F){K=F}K||a(U||[]),l(!1)};x.useEffect(()=>{N()},[n]);const j=async U=>{if(U.preventDefault(),!r||!n)return f("Missing user / company id.");if(!g.invoice_number||!g.amount||!g.issue_date)return f("Invoice number, amount and issue date are required.");const K=ie=>{if(ie==null)return null;const J=String(ie).trim();if(J==="")return null;if(/^\d{4}-\d{2}-\d{2}$/.test(J))return J;if(/^\d{2}\.\d{2}\.\d{4}$/.test(J)){const[pe,oe,se]=J.split(".");return`${se}-${oe}-${pe}`}const Y=new Date(J);if(!Number.isNaN(Y.getTime())){const pe=Y.getFullYear(),oe=String(Y.getMonth()+1).padStart(2,"0"),se=String(Y.getDate()).padStart(2,"0");return`${pe}-${oe}-${se}`}return null};p(!0),f("");const F=ie=>Number(String(ie).replace(/[\s\u00A0\u200B\u200C\u200D]/g,"").replace(",",".")),H=F(g.amount),G=g.vat_amount===""?null:F(g.vat_amount);if(Number.isNaN(H)||G!==null&&Number.isNaN(G))return p(!1),f("Amount/VAT invalid (format).");try{const ie=K(g.issue_date),J=K(g.due_date);if(!ie)return p(!1),f("Issue date invalid.");const Y={...g,amount:H,vat_amount:G,company_id:n,user_id:r,issue_date:ie,due_date:J},{error:pe}=await he.uploadInvoice(h,r,Y);if(pe)throw pe;f("Invoice uploaded successfully."),u(!1),m(null),v({invoice_number:"",amount:"",vat_amount:"",description:"",issue_date:"",due_date:"",status:"pending"}),N()}catch(ie){f(ie.message||"Upload failed.")}finally{p(!1)}},O=async U=>{const{data:K,error:F}=await he.downloadInvoice(U.file_path);if(F){f("Download failed.");return}const H=window.URL.createObjectURL(K),G=document.createElement("a");G.href=H,G.download=`invoice-${U.invoice_number}.pdf`,document.body.appendChild(G),G.click(),window.URL.revokeObjectURL(H),G.remove()},E=async U=>{const{data:K,error:F}=await he.getInvoiceSignedUrl(U.file_path,300);!F&&(K!=null&&K.signedUrl)&&window.open(K.signedUrl,"_blank")},P=U=>{_(U.id),w({invoice_number:U.invoice_number||"",amount:U.amount??"",vat_amount:U.vat_amount??"",description:U.description||"",issue_date:U.issue_date||"",due_date:U.due_date||"",status:U.status||"pending"})},M=()=>{_(null)},T=async()=>{if(!b)return;const U={...S,amount:S.amount===""?null:Number(String(S.amount).replace(",",".")),vat_amount:S.vat_amount===""?null:Number(String(S.vat_amount).replace(",",".")),company_id:n},{error:K}=await he.updateInvoice(b,U);if(K){f(K.message||"Update failed.");return}f("Invoice updated."),_(null),N()},$=async U=>{if(!confirm("Delete this invoice? The PDF will also be removed."))return;const{error:K}=await he.deleteInvoice(U);if(K){f(K.message||"Delete failed.");return}f("Invoice deleted."),N()},C=U=>({paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",overdue:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[U]||"bg-gray-100 text-gray-800";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`flex items-center ${t?"justify-end":"justify-between"}`,children:[!t&&s.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Invoices (admin upload)"}),s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center px-4 py-2 bg-primary text-white rounded-lg",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Upload invoice (PDF optional)"]})]}),y&&s.jsx("div",{className:`px-4 py-3 rounded-lg ${/success|updated|deleted|uploaded/i.test(y)?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:y}),c&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"text-md font-semibold",children:"Upload new invoice"}),s.jsx("button",{onClick:()=>u(!1),className:"text-text-secondary hover:text-text-primary",children:""})]}),s.jsxs("form",{onSubmit:j,className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Invoice number *"}),s.jsx("input",{className:"w-full px-3 py-2 border rounded-lg",value:g.invoice_number,onChange:U=>v(K=>({...K,invoice_number:U.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Amount (EUR) *"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg",value:g.amount,onChange:U=>v(K=>({...K,amount:U.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"VAT (EUR)"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg",value:g.vat_amount,onChange:U=>v(K=>({...K,vat_amount:U.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Status"}),s.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",value:g.status,onChange:U=>v(K=>({...K,status:U.target.value})),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"overdue",children:"Overdue"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Issue date *"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:g.issue_date,onChange:U=>v(K=>({...K,issue_date:U.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Due date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:g.due_date,onChange:U=>v(K=>({...K,due_date:U.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Invoice file (PDF)  opional"}),s.jsx("input",{type:"file",accept:".pdf",onChange:U=>{var K;return m(((K=U.target.files)==null?void 0:K[0])||null)}})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-5 py-2 border rounded-lg",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:d,className:"px-5 py-2 bg-primary text-white rounded-lg disabled:opacity-60",children:d?"Uploading":"Save"})]})]})]}),s.jsx("div",{className:"space-y-4",children:o?s.jsx("div",{className:"text-text-secondary",children:"Loading"}):i.length===0?s.jsx("div",{className:"text-text-secondary",children:"No invoices yet."}):i.map(U=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:b===U.id?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Invoice number"}),s.jsx("input",{className:"w-full px-3 py-2 border rounded-lg",value:S.invoice_number,onChange:K=>w(F=>({...F,invoice_number:K.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Amount (EUR)"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg",value:S.amount,onChange:K=>w(F=>({...F,amount:K.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"VAT (EUR)"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg",value:S.vat_amount??"",onChange:K=>w(F=>({...F,vat_amount:K.target.value}))})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm mb-1",children:"Description"}),s.jsx("textarea",{rows:2,className:"w-full px-3 py-2 border rounded-lg",value:S.description,onChange:K=>w(F=>({...F,description:K.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Issue date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:S.issue_date||"",onChange:K=>w(F=>({...F,issue_date:K.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Due date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:S.due_date||"",onChange:K=>w(F=>({...F,due_date:K.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"Status"}),s.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",value:S.status,onChange:K=>w(F=>({...F,status:K.target.value})),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"overdue",children:"Overdue"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs("button",{onClick:M,className:"px-3 py-2 border rounded-lg flex items-center",children:[s.jsx(yr,{className:"w-4 h-4 mr-1"})," Cancel"]}),s.jsxs("button",{onClick:T,className:"px-3 py-2 bg-green-600 text-white rounded-lg flex items-center",children:[s.jsx(Jt,{className:"w-4 h-4 mr-1"})," Save"]})]})]}):s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[s.jsxs("div",{className:"flex-1 mb-3 md:mb-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(za,{className:"w-5 h-5 text-text-secondary"}),s.jsxs("h4",{className:"font-semibold text-text-primary",children:["Invoice #",U.invoice_number]}),s.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${C(U.status)}`,children:U.status})]}),s.jsxs("div",{className:"text-sm text-text-secondary space-y-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ys,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:["Issue: ",U.issue_date]})]}),U.due_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ys,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:["Due: ",U.due_date]})]}),U.description&&s.jsx("p",{children:U.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[U.file_path&&s.jsxs("button",{onClick:()=>E(U),className:"flex items-center px-3 py-2 text-primary border border-primary rounded-lg hover:bg-primary hover:text-white transition-colors",children:[s.jsx(qn,{className:"w-4 h-4 mr-1"}),"View"]}),U.file_path&&s.jsxs("button",{onClick:()=>O(U),className:"flex items-center px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[s.jsx(Kl,{className:"w-4 h-4 mr-1"}),"Download"]}),s.jsxs("button",{onClick:()=>P(U),className:"flex items-center px-3 py-2 border rounded-lg hover:bg-gray-50",children:[s.jsx(gc,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs("button",{onClick:()=>$(U),className:"flex items-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[s.jsx(Nt,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})},U.id))})]})}const bu={type:"individual",first_name:"",last_name:"",company_name:"",cui:"",vat_number:"",country:"",address:"",city:"",postal_code:""};function A5({profile:e,hideTitles:t=!1}){const r=e==null?void 0:e.id,[n,i]=x.useState([]),[a,o]=x.useState(!0),[l,c]=x.useState(""),[u,d]=x.useState(null),[p,h]=x.useState({}),[m,y]=x.useState(!1),[f,g]=x.useState(bu),v=async()=>{if(!r){i([]),o(!1);return}o(!0);const{data:P,error:M}=await he.getBillingProfiles(r);M&&c(M.message),i(P||[]),o(!1)};x.useEffect(()=>{v()},[r]);const b=P=>{d(P.id),h({type:P.type,first_name:P.first_name||"",last_name:P.last_name||"",company_name:P.company_name||"",cui:P.cui||"",vat_number:P.vat_number||"",country:P.country||"",address:P.address||"",city:P.city||"",postal_code:P.postal_code||""})},_=()=>{d(null),h({})},S=async()=>{c("");const{error:P}=await he.updateBillingProfile(u,p);if(P){c(P.message);return}c("Saved successfully."),d(null),h({}),v()},w=async P=>{if(!confirm("Delete this billing profile?"))return;const{error:M}=await he.deleteBillingProfile(P);if(M){c(M.message);return}c("Deleted."),v()},N=()=>{y(!0),g({...bu,country:(e==null?void 0:e.country)||"FR"})},j=()=>{y(!1),g(bu)},O=async()=>{if(!r)return;c("");const P={...f,user_id:r},{error:M}=await he.createBillingProfile(P);if(M){c(M.message);return}c("Profile added."),y(!1),g(bu),v()},E=(P,M)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Type"}),s.jsxs("select",{className:"w-full border rounded px-2 py-2",value:P.type,onChange:T=>M("type",T.target.value),children:[s.jsx("option",{value:"individual",children:"individual"}),s.jsx("option",{value:"company",children:"company"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"First name"}),s.jsx("input",{className:"w-full border rounded px-2 py-2",value:P.first_name,onChange:T=>M("first_name",T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Last name"}),s.jsx("input",{className:"w-full border rounded px-2 py-2",value:P.last_name,onChange:T=>M("last_name",T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Company name"}),s.jsx("input",{className:"w-full border rounded px-2 py-2",value:P.company_name,onChange:T=>M("company_name",T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"CUI"}),s.jsx("input",{className:"w-full border rounded px-2 py-2",value:P.cui,onChange:T=>M("cui",T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"VAT number"}),s.jsx("input",{className:"w-full border rounded px-2 py-2",value:P.vat_number,onChange:T=>M("vat_number",T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Country"}),s.jsx("input",{className:"w-full border rounded px-2 py-2",value:P.country,onChange:T=>M("country",T.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-xs mb-1",children:"Address"}),s.jsx("input",{className:"w-full border rounded px-2 py-2",value:P.address,onChange:T=>M("address",T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"City"}),s.jsx("input",{className:"w-full border rounded px-2 py-2",value:P.city,onChange:T=>M("city",T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Postal code"}),s.jsx("input",{className:"w-full border rounded px-2 py-2",value:P.postal_code,onChange:T=>M("postal_code",T.target.value)})]})]});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[!t&&s.jsx("h3",{className:"text-lg font-semibold",children:"Billing details"}),s.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border text-sm font-medium hover:bg-gray-50",children:[s.jsx(rn,{className:"w-4 h-4"}),"Add profile"]})]}),l&&s.jsx("div",{className:`px-4 py-3 rounded-lg ${l.toLowerCase().includes("success")||l==="Saved successfully."||l==="Deleted."?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:l}),m&&s.jsxs("div",{className:"border rounded-xl p-5 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("p",{className:"font-semibold",children:"Add billing profile"}),s.jsx("button",{onClick:j,className:"text-sm text-gray-500 hover:text-gray-700",children:"Cancel"})]}),s.jsxs("div",{className:"space-y-4",children:[E(f,(P,M)=>g(T=>({...T,[P]:M}))),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs("button",{onClick:O,className:"px-4 py-2 bg-green-600 text-white rounded flex items-center",children:[s.jsx(Jt,{className:"w-4 h-4 mr-1"})," Save"]}),s.jsxs("button",{onClick:j,className:"px-4 py-2 bg-gray-200 rounded flex items-center",children:[s.jsx(yr,{className:"w-4 h-4 mr-1"})," Cancel"]})]})]})]}),a?s.jsx("div",{className:"text-sm text-gray-500",children:"Loading"}):n.length===0?s.jsxs("div",{className:"text-sm text-gray-500",children:["No billing profiles saved by this user."," ",!m&&s.jsx("button",{className:"text-primary underline",onClick:N,children:"Create one"})]}):n.map(P=>s.jsx("div",{className:"border rounded-xl p-5 bg-white",children:u===P.id?s.jsxs("div",{className:"space-y-3",children:[E(p,(M,T)=>h($=>({...$,[M]:T}))),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs("button",{onClick:S,className:"px-4 py-2 bg-green-600 text-white rounded flex items-center",children:[s.jsx(Jt,{className:"w-4 h-4 mr-1"})," Save"]}),s.jsxs("button",{onClick:_,className:"px-4 py-2 bg-gray-200 rounded flex items-center",children:[s.jsx(yr,{className:"w-4 h-4 mr-1"})," Cancel"]})]})]}):s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium mb-1",children:P.type==="company"?P.company_name||"":`${P.first_name||""} ${P.last_name||""}`.trim()||""}),s.jsxs("div",{className:"text-gray-600 space-y-1",children:[P.type==="company"&&s.jsxs("div",{children:["CUI/CIF: ",P.cui||"","  VAT: ",P.vat_number||""]}),s.jsxs("div",{children:[P.address,", ",P.city,", ",P.postal_code,", ",P.country]}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Updated: ",new Date(P.updated_at).toLocaleString()]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>b(P),className:"px-3 py-2 border rounded flex items-center",children:[s.jsx($F,{className:"w-4 h-4 mr-1"})," Edit"]}),s.jsxs("button",{onClick:()=>w(P.id),className:"px-3 py-2 border rounded text-red-600 flex items-center",children:[s.jsx(Nt,{className:"w-4 h-4 mr-1"})," Delete"]})]})]})},P.id))]})}function C5({companyId:e}){const[t,r]=x.useState([]),[n,i]=x.useState(""),[a,o]=x.useState(""),[l,c]=x.useState(!0),u=async()=>{if(!e)return r([]);const{data:h}=await he.listCompanyDeals(e);r(h||[])};x.useEffect(()=>{u()},[e]);const d=async h=>{h.preventDefault(),!(!n||a==="")&&(await he.createCompanyDeal({company_id:e,title:n.trim(),amount:Number(a)}),i(""),o(""),u())},p=async h=>{await he.deleteCompanyDeal(h),u()};return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer select-none",onClick:()=>c(!l),children:[s.jsxs("h3",{className:"text-lg font-semibold text-text-primary flex items-center",children:[l?s.jsx(Wl,{className:"w-5 h-5 mr-2 text-gray-500"}):s.jsx(Fy,{className:"w-5 h-5 mr-2 text-gray-500"}),"Deals negociate"]}),s.jsx("button",{onClick:h=>{h.stopPropagation(),c(!l)},className:"text-sm text-primary hover:underline",children:l?"Afieaz":"Ascunde"})]}),!l&&s.jsxs("div",{className:"mt-5",children:[s.jsxs("form",{onSubmit:d,className:"flex flex-wrap gap-3 mb-5",children:[s.jsx("input",{className:"border rounded-lg px-3 py-2 flex-1 min-w-[220px]",placeholder:"Denumire deal",value:n,onChange:h=>i(h.target.value)}),s.jsx("input",{className:"border rounded-lg px-3 py-2 w-40",placeholder:"Pre",type:"number",step:"0.01",value:a,onChange:h=>o(h.target.value)}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-primary text-white",type:"submit",children:"Adaug"})]}),t.length===0?s.jsx("div",{className:"text-text-secondary",children:"Nu exist deal-uri nc."}):s.jsx("ul",{className:"divide-y",children:t.map(h=>s.jsxs("li",{className:"py-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:h.title}),s.jsxs("div",{className:"text-sm text-text-secondary",children:[Number(h.amount).toFixed(2)," "]})]}),s.jsxs("button",{type:"button",onClick:()=>p(h.id),className:"text-red-600 hover:text-red-700 inline-flex items-center",title:"Hide (active = false)",children:[s.jsx(Nt,{className:"w-4 h-4 mr-1"})," Hide"]})]},h.id))})]})]})}const P5=(e,t)=>Object.fromEntries(t.map(r=>[r,e[r]])),id=()=>{const e=new Date,t=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${t}-${r}`},fw=()=>({service:"FNSKU Labeling",service_date:id(),unit_price:"",units:"",obs_admin:""}),Jy="fba_unit_price_presets",ad=()=>rm(bc,Jy,[]),E5=e=>nm(bc,Jy,e),gw=typeof window<"u"?`${xc()}:${Jy}`:null,T5=e=>{const t=Number(e);if(!isFinite(t))return;const r=Array.from(new Set([...ad(),t])).sort((n,i)=>n-i);E5(r)};function z5({rows:e=[],reload:t,companyId:r,profile:n}){const[i,a]=x.useState(null),[o,l]=x.useState(ad()),c=r?`admin-fba-form-${r}`:`admin-fba-form-${(n==null?void 0:n.id)||"default"}`,u=x.useMemo(()=>fw(),[r,n==null?void 0:n.id]),[d,p]=bt(c,u);x.useEffect(()=>{const f=g=>{gw&&g.key===gw&&l(ad())};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[]);const h=async f=>{if(!window.confirm("Sigur vrei s tergi aceast linie?"))return;const{error:g}=await Q.from("fba_lines").delete().eq("id",f);g?alert(g.message):t==null||t()},m=async()=>{if(!r)return;const f={company_id:r,service:d.service,service_date:d.service_date||id(),unit_price:Number(d.unit_price||0),units:Number(d.units||0),obs_admin:d.obs_admin||null,created_by:n.id},{error:g}=await Q.from("fba_lines").insert(f);if(g)return alert(g.message);p(()=>fw()),t==null||t()},y=async()=>{if(!i)return;const f=P5(i,["service_date","service","unit_price","units","obs_admin"]);(f.service_date==null||f.service_date==="")&&(f.service_date=id()),f.unit_price!=null&&(f.unit_price=Number(f.unit_price)),f.units!=null&&(f.units=Number(f.units));const{error:g}=await Q.from("fba_lines").update(f).eq("id",i.id);if(g)return alert(g.message);a(null),t==null||t()};return s.jsx(Oa,{title:"FBA",right:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:d.service_date,onChange:f=>p(g=>({...g,service_date:f.target.value}))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{placeholder:"Pre/unit",className:"border rounded px-2 py-1 w-28",value:d.unit_price,onChange:f=>p(g=>({...g,unit_price:f.target.value})),list:"fba-price-presets",inputMode:"decimal"}),s.jsx("datalist",{id:"fba-price-presets",children:o.map(f=>s.jsx("option",{value:f},f))}),s.jsxs("button",{type:"button",title:"Salveaz preul n preseturi",className:"px-2 py-1 border rounded inline-flex items-center gap-1",onClick:()=>{T5(d.unit_price),l(ad())},children:[s.jsx(On,{className:"w-4 h-4"})," Save"]})]}),s.jsx("input",{placeholder:"Uniti",className:"border rounded px-2 py-1 w-24",value:d.units,onChange:f=>p(g=>({...g,units:f.target.value})),inputMode:"numeric"}),s.jsx("input",{placeholder:"Obs admin",className:"border rounded px-2 py-1 w-56",value:d.obs_admin,onChange:f=>p(g=>({...g,obs_admin:f.target.value}))}),s.jsx("button",{onClick:m,className:"bg-primary text-white px-3 py-1 rounded",children:"Adaug"})]}),children:s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Dat"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Serviciu"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Pre"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Uniti"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Total"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Obs admin"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Aciuni"})]})}),s.jsx("tbody",{children:e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-3 py-4 text-center text-text-secondary",children:"Fr nregistrri."})}):e.map(f=>{const g=(i==null?void 0:i.id)===f.id,v=f.total!=null?Number(f.total):Number(f.unit_price||0)*Number(f.units||0);return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:g?s.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:i.service_date||id(),onChange:b=>a(_=>({..._,service_date:b.target.value}))}):f.service_date}),s.jsx("td",{className:"px-3 py-2",children:g?s.jsx("input",{className:"border rounded px-2 py-1 w-48",value:i.service||"",onChange:b=>a(_=>({..._,service:b.target.value}))}):f.service}),s.jsx("td",{className:"px-3 py-2 text-right",children:g?s.jsx(s.Fragment,{children:s.jsx("input",{className:"border rounded px-2 py-1 w-24 text-right",value:i.unit_price??"",onChange:b=>a(_=>({..._,unit_price:Number(b.target.value||0)})),list:"fba-price-presets",inputMode:"decimal"})}):Number(f.unit_price).toFixed(2)}),s.jsx("td",{className:"px-3 py-2 text-right",children:g?s.jsx("input",{className:"border rounded px-2 py-1 w-20 text-right",value:i.units??"",onChange:b=>a(_=>({..._,units:Number(b.target.value||0)})),inputMode:"numeric"}):f.units}),s.jsx("td",{className:"px-3 py-2 text-right",children:isFinite(v)?v.toFixed(2):""}),s.jsx("td",{className:"px-3 py-2",children:g?s.jsx("input",{className:"border rounded px-2 py-1 w-56",value:i.obs_admin||"",onChange:b=>a(_=>({..._,obs_admin:b.target.value}))}):f.obs_admin||""}),s.jsx("td",{className:"px-3 py-2 text-right",children:g?s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs("button",{onClick:y,className:"px-2 py-1 bg-primary text-white rounded inline-flex items-center gap-1",children:[s.jsx(Jt,{className:"w-4 h-4"})," Salveaz"]}),s.jsxs("button",{onClick:()=>a(null),className:"px-2 py-1 border rounded inline-flex items-center gap-1",children:[s.jsx(yr,{className:"w-4 h-4"})," Anuleaz"]})]}):s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs("button",{onClick:()=>a({...f}),className:"px-2 py-1 border rounded inline-flex items-center gap-1",children:[s.jsx(Yp,{className:"w-4 h-4"})," Edit"]}),s.jsxs("button",{onClick:()=>h(f.id),className:"px-2 py-1 border rounded text-red-600 inline-flex items-center gap-1",children:[s.jsx(Nt,{className:"w-4 h-4"})," Delete"]})]})})]},f.id)})})]})})})}const O5=(e,t)=>Object.fromEntries(t.map(r=>[r,e[r]])),sd=()=>{const e=new Date,t=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${t}-${r}`},vw=()=>({service:"FBM Order",service_date:sd(),unit_price:"",orders_units:"",obs_admin:""}),ex="fbm_unit_price_presets",od=()=>rm(bc,ex,[]),I5=e=>nm(bc,ex,e),yw=typeof window<"u"?`${xc()}:${ex}`:null,M5=e=>{const t=Number(e);if(!isFinite(t))return;const r=Array.from(new Set([...od(),t])).sort((n,i)=>n-i);I5(r)};function F5({rows:e=[],reload:t,companyId:r,profile:n}){const[i,a]=x.useState(null),[o,l]=x.useState(od()),c=r?`admin-fbm-form-${r}`:`admin-fbm-form-${(n==null?void 0:n.id)||"default"}`,u=x.useMemo(()=>vw(),[r,n==null?void 0:n.id]),[d,p]=bt(c,u);x.useEffect(()=>{const g=v=>{yw&&v.key===yw&&l(od())};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)},[]);const h=async g=>{const{error:v}=await Q.from("fbm_lines").update({obs_client_seen:!0}).eq("id",g);v?alert(v.message):t==null||t()},m=async g=>{if(!window.confirm("Sigur vrei s tergi aceast linie?"))return;const{error:v}=await Q.from("fbm_lines").delete().eq("id",g);v?alert(v.message):t==null||t()},y=async()=>{if(!r)return;const g=d.service||"FBM Order",v=d.service_date||sd(),b=Number(Number(d.unit_price||0).toFixed(2)),_=Number(d.orders_units||0);if(!isFinite(b)||!isFinite(_)||_<=0){alert("Seteaz un pre i un numr de uniti valide.");return}const{data:S,error:w}=await Q.from("fbm_lines").select("id, orders_units").eq("company_id",r).eq("service_date",v).eq("service",g).eq("unit_price",b).order("id",{ascending:!0}).limit(1).maybeSingle();if(w){alert(w.message);return}if(S!=null&&S.id){const N=Number(S.orders_units||0)+_,{error:j}=await Q.from("fbm_lines").update({orders_units:N}).eq("id",S.id);if(j){alert(j.message);return}}else{const N={company_id:r,service:g,service_date:v,unit_price:b,orders_units:_,obs_admin:d.obs_admin||null,created_by:n.id},{error:j}=await Q.from("fbm_lines").insert(N);if(j){alert(j.message);return}}p(()=>vw()),t==null||t()},f=async()=>{if(!i)return;const g=O5(i,["service_date","service","unit_price","orders_units","obs_admin"]);(g.service_date==null||g.service_date==="")&&(g.service_date=sd()),g.unit_price!=null&&(g.unit_price=Number(g.unit_price)),g.orders_units!=null&&(g.orders_units=Number(g.orders_units));const{error:v}=await Q.from("fbm_lines").update(g).eq("id",i.id);if(v)return alert(v.message);a(null),t==null||t()};return s.jsx(Oa,{title:"FBM",right:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:d.service_date,onChange:g=>p(v=>({...v,service_date:g.target.value}))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{placeholder:"Pre/unit",className:"border rounded px-2 py-1 w-28",value:d.unit_price,onChange:g=>p(v=>({...v,unit_price:g.target.value})),list:"fbm-price-presets",inputMode:"decimal"}),s.jsx("datalist",{id:"fbm-price-presets",children:o.map(g=>s.jsx("option",{value:g},g))}),s.jsxs("button",{type:"button",title:"Salveaz preul n preseturi",className:"px-2 py-1 border rounded inline-flex items-center gap-1",onClick:()=>{M5(d.unit_price),l(od())},children:[s.jsx(On,{className:"w-4 h-4"})," Save"]})]}),s.jsx("input",{placeholder:"Comenzi/Uniti",className:"border rounded px-2 py-1 w-36",value:d.orders_units,onChange:g=>p(v=>({...v,orders_units:g.target.value})),inputMode:"numeric"}),s.jsx("input",{placeholder:"Obs admin",className:"border rounded px-2 py-1 w-56",value:d.obs_admin,onChange:g=>p(v=>({...v,obs_admin:g.target.value}))}),s.jsx("button",{onClick:y,className:"bg-primary text-white px-3 py-1 rounded",children:"Adaug"})]}),children:s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Dat"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Serviciu"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Pre"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Comenzi/Uniti"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Total"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Obs client"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Obs admin"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Aciuni"})]})}),s.jsx("tbody",{children:e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-3 py-4 text-center text-text-secondary",children:"Fr nregistrri."})}):e.map(g=>{const v=(i==null?void 0:i.id)===g.id,b=g.total!=null?Number(g.total):Number(g.unit_price||0)*Number(g.orders_units||0);return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:v?s.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:i.service_date||sd(),onChange:_=>a(S=>({...S,service_date:_.target.value}))}):g.service_date}),s.jsx("td",{className:"px-3 py-2",children:v?s.jsx("input",{className:"border rounded px-2 py-1 w-48",value:i.service||"",onChange:_=>a(S=>({...S,service:_.target.value}))}):g.service}),s.jsx("td",{className:"px-3 py-2 text-right",children:v?s.jsx(s.Fragment,{children:s.jsx("input",{className:"border rounded px-2 py-1 w-24 text-right",value:i.unit_price??"",onChange:_=>a(S=>({...S,unit_price:Number(_.target.value||0)})),list:"fbm-price-presets",inputMode:"decimal"})}):Number(g.unit_price).toFixed(2)}),s.jsx("td",{className:"px-3 py-2 text-right",children:v?s.jsx("input",{className:"border rounded px-2 py-1 w-24 text-right",value:i.orders_units??"",onChange:_=>a(S=>({...S,orders_units:Number(_.target.value||0)})),inputMode:"numeric"}):g.orders_units}),s.jsx("td",{className:"px-3 py-2 text-right",children:isFinite(b)?b.toFixed(2):""}),s.jsx("td",{className:"px-3 py-2",children:g.obs_client?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>alert(g.obs_client),className:"inline-flex items-center gap-1 text-primary underline",title:"Vezi observaia clientului",children:[s.jsx(qn,{className:"w-4 h-4"})," vezi"]}),g.obs_client_seen===!1&&s.jsxs("button",{onClick:()=>h(g.id),className:"flex items-center gap-1 text-amber-600",title:"Observaie nou de la client  marcheaz ca vzut",children:[s.jsx(Vj,{className:"w-4 h-4"})," nou"]})]}):""}),s.jsx("td",{className:"px-3 py-2",children:v?s.jsx("input",{className:"border rounded px-2 py-1 w-56",value:i.obs_admin||"",onChange:_=>a(S=>({...S,obs_admin:_.target.value}))}):g.obs_admin||""}),s.jsx("td",{className:"px-3 py-2 text-right",children:v?s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs("button",{onClick:f,className:"px-2 py-1 bg-primary text-white rounded inline-flex items-center gap-1",children:[s.jsx(Jt,{className:"w-4 h-4"})," Salveaz"]}),s.jsxs("button",{onClick:()=>a(null),className:"px-2 py-1 border rounded inline-flex items-center gap-1",children:[s.jsx(yr,{className:"w-4 h-4"})," Anuleaz"]})]}):s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs("button",{onClick:()=>a({...g}),className:"px-2 py-1 border rounded inline-flex items-center gap-1",children:[s.jsx(Yp,{className:"w-4 h-4"})," Edit"]}),s.jsxs("button",{onClick:()=>m(g.id),className:"px-2 py-1 border rounded text-red-600 inline-flex items-center gap-1",children:[s.jsx(Nt,{className:"w-4 h-4"})," Delete"]})]})})]},g.id)})})]})})})}const tx=(e,t)=>{if(!e)return!1;const r=t.toLowerCase(),n=String(e.message||"").toLowerCase(),i=String(e.details||"").toLowerCase(),a=String(e.hint||"").toLowerCase();return n.includes(r)||i.includes(r)||a.includes(r)},R5=e=>["send_to_fba","fba_qty","stock_item_id"].some(t=>tx(e,t)),D5=e=>["tracking_ids","fba_shipment_ids"].some(t=>tx(e,t)),ut={createPrepRequest:async e=>{const{data:t,error:r}=await Q.from("prep_requests").insert([{user_id:e.user_id,company_id:e.company_id,destination_country:e.destination_country||"FR",status:e.status||"pending",created_at:new Date().toISOString()}]).select().single();if(r)throw r;if(Array.isArray(e.items)&&e.items.length>0){const n=e.items.map(a=>({prep_request_id:t.id,stock_item_id:a.stock_item_id,ean:a.ean||null,product_name:a.product_name||null,asin:a.asin||null,sku:a.sku||null,units_requested:a.units_requested||0})),{error:i}=await Q.from("prep_request_items").insert(n);if(i)throw i}return t},getPrepRequest:async e=>await Q.from("prep_requests").select("*, prep_request_items(*), prep_request_tracking(*)").eq("id",e).single(),createPrepItem:async(e,t)=>{const{data:r,error:n}=await Q.from("prep_request_items").insert([{...t,prep_request_id:e}]).select().single();return{data:r,error:n}},updatePrepItem:async(e,t)=>{const{data:r,error:n}=await Q.from("prep_request_items").update(t).eq("id",e).select().single();return{data:r,error:n}},deletePrepItem:async e=>await Q.from("prep_request_items").delete().eq("id",e),createReceptionRequest:async e=>{await sl();let t=bL(),r=_L(),n=wL();const i=(e.destination_country||"FR").toUpperCase(),a=Array.isArray(e.tracking_ids)&&e.tracking_ids.length>0?e.tracking_ids:null,o=Array.isArray(e.fba_shipment_ids)&&e.fba_shipment_ids.length>0?e.fba_shipment_ids:null,l=e.tracking_id||(a==null?void 0:a[0])||null;let c=e.store_name||null;if(!c&&e.user_id){const{data:h}=await Q.from("profiles").select("store_name").eq("id",e.user_id).single();c=(h==null?void 0:h.store_name)||null}const u=(h,m)=>{const y={user_id:e.user_id,company_id:e.company_id,status:e.status||"submitted",created_at:new Date().toISOString(),destination_country:i,carrier:e.carrier||null,carrier_other:e.carrier_other||null,tracking_id:l,tracking_ids:m?a:null,fba_shipment_ids:m?o:null,notes:e.notes||null,client_store_name:c};return h&&(y.fba_mode=e.fba_mode||"none"),y},d=async h=>{const{data:m,error:y}=await Q.from("receiving_shipments").insert([h]).select().single();if(y)throw y;return m};let p;for(;;){const h=u(t,n);try{p=await d(h);break}catch(m){if(t&&tx(m,"fba_mode")){r2(),t=!1;continue}if(n&&D5(m)){n2(),n=!1;continue}throw m}}if(Array.isArray(e.items)&&e.items.length>0){const h=f=>{let g=1;return e.items.map(v=>{const b=(v.ean||"").trim(),_=(v.asin||"").trim(),S=(v.product_name||"").trim(),w=(v.sku||"").trim(),N=b||_||w||"UNKNOWN",j=S||w||_||b||"Unknown product",O=Math.max(1,Number(v.units_requested)||0),E=(()=>{if(v.purchase_price===void 0||v.purchase_price===null||v.purchase_price==="")return null;const M=String(v.purchase_price).replace(",","."),T=Number(M);return Number.isFinite(T)?Number(T.toFixed(2)):null})(),P={shipment_id:p.id,line_number:g++,ean_asin:N,product_name:j,sku:w||null,purchase_price:E,quantity_received:O,remaining_action:Xl(!!v.send_to_fba,v.fba_qty??O)};if(f){P.stock_item_id=v.stock_item_id||null;const M=Math.max(0,Number(v.fba_qty??O)||0),T=!!v.send_to_fba&&M>0;P.send_to_fba=T,P.fba_qty=T?Math.max(0,Number(v.fba_qty)||0):0}return P})},m=async f=>{if(!f.length)return;const{error:g}=await Q.from("receiving_items").insert(f);if(g)throw g};let y=h(r);try{await m(y)}catch(f){if(r&&R5(f))rd(),r=!1,y=h(!1),await m(y);else throw f}}return p},updateStockItem:async(e,t)=>await Q.from("stock_items").update(t).eq("id",e).select().single(),createStockItem:async(e,t)=>{if(!(e!=null&&e.company_id))throw new Error("Missing company_id in profile");const r={company_id:e.company_id,user_id:e.id,asin:t.asin||null,qty:t.qty||0,ean:t.ean||null,sku:t.sku||null,product_link:t.product_link||null,purchase_price:t.purchase_price||null,created_by:e.id,created_at:new Date().toISOString(),name:t.name||null},{data:n,error:i}=await Q.from("stock_items").insert([r]).select().single();if(i)throw i;return n},createProductBlueprint:async(e,t,r={})=>{if(!(e!=null&&e.company_id))throw new Error("Missing company profile");if(!t)throw new Error("Missing stock item id");const n={company_id:e.company_id,user_id:e.id,stock_item_id:t,supplier_name:r.supplierName||null,supplier_number:r.supplierNumber||null,supplier_url:r.supplierUrl||null,supplier_price:r.supplierPrice??null,manufacturer:r.manufacturer||null,manufacturer_number:r.manufacturerNumber||null,product_ext_id:r.productExtId||null,approx_price_ebay:r.approxPriceEbay??null,approx_price_fbm:r.approxPriceFbm??null,weight_value:r.weightValue??null,weight_unit:r.weightUnit||null,package_width:r.packageWidth??null,package_height:r.packageHeight??null,package_length:r.packageLength??null,package_unit:r.packageUnit||null,units_measure:r.unitsMeasure||null,units_count:r.unitsCount??null,condition:r.condition||null,ship_template:r.shipTemplate||null,notes:r.notes||null},{error:i}=await Q.from("product_blueprints").insert([n]);if(i)throw i},getClientStock:async e=>{const{data:t,error:r}=await Q.from("stock_items").select("*").eq("company_id",e);if(r)throw r;return t},listAffiliateRequests:async()=>await Q.from("affiliate_requests").select(`
        *,
        profile:profiles!inner (
          id,
          first_name,
          last_name,
          company_name,
          store_name,
          country
        )
      `).order("created_at",{ascending:!1}),createAffiliateRequest:async({profile_id:e,preferred_code:t,notes:r}={})=>await Q.from("affiliate_requests").insert([{profile_id:e,preferred_code:t?t.trim().toUpperCase():null,notes:r||null,status:"pending"}]).select("*").single(),cancelAffiliateRequest:async e=>await Q.from("affiliate_requests").delete().eq("id",e),listAffiliateOwnerOptions:async()=>await Q.from("profiles").select("id, first_name, last_name, company_name, store_name, affiliate_code_input, affiliate_code_id, updated_at").order("updated_at",{ascending:!1}).limit(500),respondAffiliateRequest:async(e,t={})=>await Q.from("affiliate_requests").update(t).eq("id",e).select().single(),lookupAffiliateCode:async e=>{const t=(e||"").trim().toUpperCase();return t?await Q.from("affiliate_codes").select("*").eq("code",t).eq("active",!0).maybeSingle():{data:null,error:null}},listAffiliateCodes:async()=>await Q.from("affiliate_codes").select("*, owner:profiles!affiliate_codes_owner_profile_id_fkey(id, first_name, last_name, company_name, store_name)").order("created_at",{ascending:!1}),createAffiliateCode:async(e={})=>await Q.from("affiliate_codes").insert([e]).select("*").single(),updateAffiliateCode:async(e,t={})=>await Q.from("affiliate_codes").update(t).eq("id",e).select("*").single(),deleteAffiliateCode:async e=>await Q.from("affiliate_codes").delete().eq("id",e),getAffiliateOwnerSnapshot:async e=>{const{data:t,error:r}=await Q.from("affiliate_codes").select("*").eq("owner_profile_id",e).maybeSingle();if(r||!t)return{data:null,error:r};const{data:n}=await Q.from("profiles").select("id, first_name, last_name, company_name, store_name, company_id, country").eq("affiliate_code_id",t.id),i=(n||[]).map(o=>o.company_id).filter(Boolean);let a={};if(i.length>0){const{data:o}=await Q.from("invoices").select("company_id, total_amount").in("company_id",i);(o||[]).forEach(l=>{const c=Number(l.total_amount||0);a[l.company_id]=(a[l.company_id]||0)+c})}return{data:{code:t,members:(n||[]).map(o=>({...o,billing_total:o.company_id&&a[o.company_id]||0}))},error:null}},getAffiliateClientStatus:async e=>{const{data:t}=await Q.from("profiles").select("affiliate_code_id, affiliate_code_input").eq("id",e).single(),{data:r}=await Q.from("affiliate_requests").select("*").eq("profile_id",e).in("status",["pending","review"]).order("created_at",{ascending:!1}).maybeSingle();if(t!=null&&t.affiliate_code_id){const{data:n}=await Q.from("affiliate_codes").select("*").eq("id",t.affiliate_code_id).maybeSingle(),{data:i}=await Q.from("profiles").select("id, first_name, last_name, company_name, store_name").eq("affiliate_code_id",t.affiliate_code_id);return{profile:t,code:n,members:i||[],request:r||null}}return{profile:t,code:null,members:[],request:r||null}},getAffiliateCodeMembers:async(e,t)=>{const r=Q.from("profiles").select("id, first_name, last_name, company_name, store_name, country, affiliate_code_input, affiliate_code_id, updated_at").eq("affiliate_code_id",e).order("updated_at",{ascending:!0}),n=Q.from("profiles").select("id, first_name, last_name, company_name, store_name, country, affiliate_code_input, updated_at").is("affiliate_code_id",null).eq("affiliate_code_input",(t||"").toUpperCase()).order("updated_at",{ascending:!0}).limit(50),[{data:i,error:a},{data:o,error:l}]=await Promise.all([r,n]);return{assigned:a?[]:i||[],candidates:l?[]:o||[],error:a||l||null}},assignAffiliateCodeToProfile:async(e,t)=>await Q.from("profiles").update({affiliate_code_id:t}).eq("id",e).select("id").single(),removeAffiliateCodeFromProfile:async e=>await Q.from("profiles").update({affiliate_code_id:null}).eq("id",e).select("id").single()};function _u(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var m2={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,a){function o(u,d){if(!i[u]){if(!n[u]){var p=typeof _u=="function"&&_u;if(!d&&p)return p(u,!0);if(l)return l(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var m=i[u]={exports:{}};n[u][0].call(m.exports,function(y){var f=n[u][1][y];return o(f||y)},m,m.exports,r,n,i,a)}return i[u].exports}for(var l=typeof _u=="function"&&_u,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(r,n,i){var a=r("./utils"),o=r("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var u,d,p,h,m,y,f,g=[],v=0,b=c.length,_=b,S=a.getTypeOf(c)!=="string";v<c.length;)_=b-v,p=S?(u=c[v++],d=v<b?c[v++]:0,v<b?c[v++]:0):(u=c.charCodeAt(v++),d=v<b?c.charCodeAt(v++):0,v<b?c.charCodeAt(v++):0),h=u>>2,m=(3&u)<<4|d>>4,y=1<_?(15&d)<<2|p>>6:64,f=2<_?63&p:64,g.push(l.charAt(h)+l.charAt(m)+l.charAt(y)+l.charAt(f));return g.join("")},i.decode=function(c){var u,d,p,h,m,y,f=0,g=0,v="data:";if(c.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var b,_=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&_--,c.charAt(c.length-2)===l.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=o.uint8array?new Uint8Array(0|_):new Array(0|_);f<c.length;)u=l.indexOf(c.charAt(f++))<<2|(h=l.indexOf(c.charAt(f++)))>>4,d=(15&h)<<4|(m=l.indexOf(c.charAt(f++)))>>2,p=(3&m)<<6|(y=l.indexOf(c.charAt(f++))),b[g++]=u,m!==64&&(b[g++]=d),y!==64&&(b[g++]=p);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),o=r("./stream/DataWorker"),l=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function u(d,p,h,m,y){this.compressedSize=d,this.uncompressedSize=p,this.crc32=h,this.compression=m,this.compressedContent=y}u.prototype={getContentWorker:function(){var d=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),p=this;return d.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,p,h){return d.pipe(new l).pipe(new c("uncompressedSize")).pipe(p.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",p)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),o=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();n.exports=function(l,c){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(u,d,p,h){var m=o,y=h+p;u^=-1;for(var f=h;f<y;f++)u=u>>>8^m[255&(u^d[f])];return-1^u}(0|c,l,l.length,0):function(u,d,p,h){var m=o,y=h+p;u^=-1;for(var f=h;f<y;f++)u=u>>>8^m[255&(u^d.charCodeAt(f))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),l=r("./utils"),c=r("./stream/GenericWorker"),u=a?"uint8array":"array";function d(p,h){c.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=h,this.meta={}}i.magic="\b\0",l.inherits(d,c),d.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,p.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(h){p.push({data:h,meta:p.meta})}},i.compressWorker=function(p){return new d("Deflate",p)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(m,y){var f,g="";for(f=0;f<y;f++)g+=String.fromCharCode(255&m),m>>>=8;return g}function o(m,y,f,g,v,b){var _,S,w=m.file,N=m.compression,j=b!==u.utf8encode,O=l.transformTo("string",b(w.name)),E=l.transformTo("string",u.utf8encode(w.name)),P=w.comment,M=l.transformTo("string",b(P)),T=l.transformTo("string",u.utf8encode(P)),$=E.length!==w.name.length,C=T.length!==P.length,U="",K="",F="",H=w.dir,G=w.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};y&&!f||(ie.crc32=m.crc32,ie.compressedSize=m.compressedSize,ie.uncompressedSize=m.uncompressedSize);var J=0;y&&(J|=8),j||!$&&!C||(J|=2048);var Y=0,pe=0;H&&(Y|=16),v==="UNIX"?(pe=798,Y|=function(se,_e){var te=se;return se||(te=_e?16893:33204),(65535&te)<<16}(w.unixPermissions,H)):(pe=20,Y|=function(se){return 63&(se||0)}(w.dosPermissions)),_=G.getUTCHours(),_<<=6,_|=G.getUTCMinutes(),_<<=5,_|=G.getUTCSeconds()/2,S=G.getUTCFullYear()-1980,S<<=4,S|=G.getUTCMonth()+1,S<<=5,S|=G.getUTCDate(),$&&(K=a(1,1)+a(d(O),4)+E,U+="up"+a(K.length,2)+K),C&&(F=a(1,1)+a(d(M),4)+T,U+="uc"+a(F.length,2)+F);var oe="";return oe+=`
\0`,oe+=a(J,2),oe+=N.magic,oe+=a(_,2),oe+=a(S,2),oe+=a(ie.crc32,4),oe+=a(ie.compressedSize,4),oe+=a(ie.uncompressedSize,4),oe+=a(O.length,2),oe+=a(U.length,2),{fileRecord:p.LOCAL_FILE_HEADER+oe+O+U,dirRecord:p.CENTRAL_FILE_HEADER+a(pe,2)+oe+a(M.length,2)+"\0\0\0\0"+a(Y,4)+a(g,4)+O+U+M}}var l=r("../utils"),c=r("../stream/GenericWorker"),u=r("../utf8"),d=r("../crc32"),p=r("../signature");function h(m,y,f,g){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=f,this.encodeFileName=g,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(h,c),h.prototype.push=function(m){var y=m.meta.percent||0,f=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:f?(y+100*(f-g-1))/f:100}}))},h.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var y=this.streamFiles&&!m.file.dir;if(y){var f=o(m,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(m){this.accumulate=!1;var y=this.streamFiles&&!m.file.dir,f=o(m,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),y)this.push({data:function(g){return p.DATA_DESCRIPTOR+a(g.crc32,4)+a(g.compressedSize,4)+a(g.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var m=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var f=this.bytesWritten-m,g=function(v,b,_,S,w){var N=l.transformTo("string",w(S));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(b,4)+a(_,4)+a(N.length,2)+N}(this.dirRecords.length,f,m,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(m){this._sources.push(m);var y=this;return m.on("data",function(f){y.processChunk(f)}),m.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),m.on("error",function(f){y.error(f)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(m){var y=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var f=0;f<y.length;f++)try{y[f].error(m)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,y=0;y<m.length;y++)m[y].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(l,c,u){var d=new o(c.streamFiles,u,c.platform,c.encodeFileName),p=0;try{l.forEach(function(h,m){p++;var y=function(b,_){var S=b||_,w=a[S];if(!w)throw new Error(S+" is not a valid compression method !");return w}(m.options.compression,c.compression),f=m.options.compressionOptions||c.compressionOptions||{},g=m.dir,v=m.date;m._compressWorker(y,f).withStreamInfo("file",{name:h,dir:g,date:v,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=p}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(o,l){return new a().loadAsync(o,l)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),o=r("./external"),l=r("./utf8"),c=r("./zipEntries"),u=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function p(h){return new o.Promise(function(m,y){var f=h.decompressed.getContentWorker().pipe(new u);f.on("error",function(g){y(g)}).on("end",function(){f.streamInfo.crc32!==h.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(h,m){var y=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),d.isNode&&d.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",h,!0,m.optimizedBinaryString,m.base64).then(function(f){var g=new c(m);return g.load(f),g}).then(function(f){var g=[o.Promise.resolve(f)],v=f.files;if(m.checkCRC32)for(var b=0;b<v.length;b++)g.push(p(v[b]));return o.Promise.all(g)}).then(function(f){for(var g=f.shift(),v=g.files,b=0;b<v.length;b++){var _=v[b],S=_.fileNameStr,w=a.resolve(_.fileNameStr);y.file(w,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:m.createFolders}),_.dir||(y.file(w).unsafeOriginalName=S)}return g.zipComment.length&&(y.comment=g.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker");function l(c,u){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(l,o),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function o(l,c,u){a.call(this,c),this._helper=l;var d=this;l.on("data",function(p,h){d.push(p)||d._helper.pause(),u&&u(h)}).on("error",function(p){d.emit("error",p)}).on("end",function(){d.push(null)})}r("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(w,N,j){var O,E=l.getTypeOf(N),P=l.extend(j||{},d);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(w=v(w)),P.createFolders&&(O=g(w))&&b.call(this,O,!0);var M=E==="string"&&P.binary===!1&&P.base64===!1;j&&j.binary!==void 0||(P.binary=!M),(N instanceof p&&N.uncompressedSize===0||P.dir||!N||N.length===0)&&(P.base64=!1,P.binary=!0,N="",P.compression="STORE",E="string");var T=null;T=N instanceof p||N instanceof c?N:y.isNode&&y.isStream(N)?new f(w,N):l.prepareContent(w,N,P.binary,P.optimizedBinaryString,P.base64);var $=new h(w,T,P);this.files[w]=$}var o=r("./utf8"),l=r("./utils"),c=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),d=r("./defaults"),p=r("./compressedObject"),h=r("./zipObject"),m=r("./generate"),y=r("./nodejsUtils"),f=r("./nodejs/NodejsStreamInputAdapter"),g=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var N=w.lastIndexOf("/");return 0<N?w.substring(0,N):""},v=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},b=function(w,N){return N=N!==void 0?N:d.createFolders,w=v(w),this.files[w]||a.call(this,w,null,{dir:!0,createFolders:N}),this.files[w]};function _(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var N,j,O;for(N in this.files)O=this.files[N],(j=N.slice(this.root.length,N.length))&&N.slice(0,this.root.length)===this.root&&w(j,O)},filter:function(w){var N=[];return this.forEach(function(j,O){w(j,O)&&N.push(O)}),N},file:function(w,N,j){if(arguments.length!==1)return w=this.root+w,a.call(this,w,N,j),this;if(_(w)){var O=w;return this.filter(function(P,M){return!M.dir&&O.test(P)})}var E=this.files[this.root+w];return E&&!E.dir?E:null},folder:function(w){if(!w)return this;if(_(w))return this.filter(function(E,P){return P.dir&&w.test(E)});var N=this.root+w,j=b.call(this,N),O=this.clone();return O.root=j.name,O},remove:function(w){w=this.root+w;var N=this.files[w];if(N||(w.slice(-1)!=="/"&&(w+="/"),N=this.files[w]),N&&!N.dir)delete this.files[w];else for(var j=this.filter(function(E,P){return P.name.slice(0,w.length)===w}),O=0;O<j.length;O++)delete this.files[j[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var N,j={};try{if((j=l.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");l.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var O=j.comment||this.comment||"";N=m.generateWorker(this,j,O)}catch(E){(N=new c("error")).error(E)}return new u(N,j.type||"string",j.mimeType)},generateAsync:function(w,N){return this.generateInternalStream(w).accumulate(N)},generateNodeStream:function(w,N){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(N)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function o(l){a.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}r("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),p=l.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===u&&this.data[h+2]===d&&this.data[h+3]===p)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),p=l.charCodeAt(3),h=this.readData(4);return c===h[0]&&u===h[1]&&d===h[2]&&p===h[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function o(l){a.call(this,l)}r("../utils").inherits(o,a),o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function o(l){a.call(this,l)}r("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function o(l){a.call(this,l)}r("../utils").inherits(o,a),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),o=r("../support"),l=r("./ArrayReader"),c=r("./StringReader"),u=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(p){var h=a.getTypeOf(p);return a.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new u(p):o.uint8array?new d(a.transformTo("uint8array",p)):new l(a.transformTo("array",p)):new c(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),o=r("../utils");function l(c){a.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(l,a),l.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),o=r("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(l,a),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(l,o),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}o.prototype.processChunk.call(this,c)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=a.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}a.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(c){l.processChunk(c)}),o.on("end",function(){l.end()}),o.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),o=r("./ConvertWorker"),l=r("./GenericWorker"),c=r("../base64"),u=r("../support"),d=r("../external"),p=null;if(u.nodestream)try{p=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(y,f){return new d.Promise(function(g,v){var b=[],_=y._internalType,S=y._outputType,w=y._mimeType;y.on("data",function(N,j){b.push(N),f&&f(j)}).on("error",function(N){b=[],v(N)}).on("end",function(){try{var N=function(j,O,E){switch(j){case"blob":return a.newBlob(a.transformTo("arraybuffer",O),E);case"base64":return c.encode(O);default:return a.transformTo(j,O)}}(S,function(j,O){var E,P=0,M=null,T=0;for(E=0;E<O.length;E++)T+=O[E].length;switch(j){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(M=new Uint8Array(T),E=0;E<O.length;E++)M.set(O[E],P),P+=O[E].length;return M;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+j+"'")}}(_,b),w);g(N)}catch(j){v(j)}b=[]}).resume()})}function m(y,f,g){var v=f;switch(f){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=f,this._mimeType=g,a.checkSupport(v),this._worker=y.pipe(new o(v)),y.lock()}catch(b){this._worker=new l("error"),this._worker.error(b)}}m.prototype={accumulate:function(y){return h(this,y)},on:function(y,f){var g=this;return y==="data"?this._worker.on(y,function(v){f.call(g,v.data,v.meta)}):this._worker.on(y,function(){a.delay(f,arguments,g)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),o=r("./support"),l=r("./nodejsUtils"),c=r("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function p(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?l.newBufferFrom(m,"utf-8"):function(y){var f,g,v,b,_,S=y.length,w=0;for(b=0;b<S;b++)(64512&(g=y.charCodeAt(b)))==55296&&b+1<S&&(64512&(v=y.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),b++),w+=g<128?1:g<2048?2:g<65536?3:4;for(f=o.uint8array?new Uint8Array(w):new Array(w),b=_=0;_<w;b++)(64512&(g=y.charCodeAt(b)))==55296&&b+1<S&&(64512&(v=y.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),b++),g<128?f[_++]=g:(g<2048?f[_++]=192|g>>>6:(g<65536?f[_++]=224|g>>>12:(f[_++]=240|g>>>18,f[_++]=128|g>>>12&63),f[_++]=128|g>>>6&63),f[_++]=128|63&g);return f}(m)},i.utf8decode=function(m){return o.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(y){var f,g,v,b,_=y.length,S=new Array(2*_);for(f=g=0;f<_;)if((v=y[f++])<128)S[g++]=v;else if(4<(b=u[v]))S[g++]=65533,f+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&f<_;)v=v<<6|63&y[f++],b--;1<b?S[g++]=65533:v<65536?S[g++]=v:(v-=65536,S[g++]=55296|v>>10&1023,S[g++]=56320|1023&v)}return S.length!==g&&(S.subarray?S=S.subarray(0,g):S.length=g),a.applyFromCharCode(S)}(m=a.transformTo(o.uint8array?"uint8array":"array",m))},a.inherits(p,c),p.prototype.processChunk=function(m){var y=a.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var f=y;(y=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),y.set(f,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var g=function(b,_){var S;for((_=_||b.length)>b.length&&(_=b.length),S=_-1;0<=S&&(192&b[S])==128;)S--;return S<0||S===0?_:S+u[b[S]]>_?S:_}(y),v=y;g!==y.length&&(o.uint8array?(v=y.subarray(0,g),this.leftOver=y.subarray(g,y.length)):(v=y.slice(0,g),this.leftOver=y.slice(g,y.length))),this.push({data:i.utf8decode(v),meta:m.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,a.inherits(h,c),h.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),o=r("./base64"),l=r("./nodejsUtils"),c=r("./external");function u(f){return f}function d(f,g){for(var v=0;v<f.length;++v)g[v]=255&f.charCodeAt(v);return g}r("setimmediate"),i.newBlob=function(f,g){i.checkSupport("blob");try{return new Blob([f],{type:g})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(f),v.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(f,g,v){var b=[],_=0,S=f.length;if(S<=v)return String.fromCharCode.apply(null,f);for(;_<S;)g==="array"||g==="nodebuffer"?b.push(String.fromCharCode.apply(null,f.slice(_,Math.min(_+v,S)))):b.push(String.fromCharCode.apply(null,f.subarray(_,Math.min(_+v,S)))),_+=v;return b.join("")},stringifyByChar:function(f){for(var g="",v=0;v<f.length;v++)g+=String.fromCharCode(f[v]);return g},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function h(f){var g=65536,v=i.getTypeOf(f),b=!0;if(v==="uint8array"?b=p.applyCanBeUsed.uint8array:v==="nodebuffer"&&(b=p.applyCanBeUsed.nodebuffer),b)for(;1<g;)try{return p.stringifyByChunk(f,v,g)}catch{g=Math.floor(g/2)}return p.stringifyByChar(f)}function m(f,g){for(var v=0;v<f.length;v++)g[v]=f[v];return g}i.applyFromCharCode=h;var y={};y.string={string:u,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return y.string.uint8array(f).buffer},uint8array:function(f){return d(f,new Uint8Array(f.length))},nodebuffer:function(f){return d(f,l.allocBuffer(f.length))}},y.array={string:h,array:u,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return l.newBufferFrom(f)}},y.arraybuffer={string:function(f){return h(new Uint8Array(f))},array:function(f){return m(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:u,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return l.newBufferFrom(new Uint8Array(f))}},y.uint8array={string:h,array:function(f){return m(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:u,nodebuffer:function(f){return l.newBufferFrom(f)}},y.nodebuffer={string:h,array:function(f){return m(f,new Array(f.length))},arraybuffer:function(f){return y.nodebuffer.uint8array(f).buffer},uint8array:function(f){return m(f,new Uint8Array(f.length))},nodebuffer:u},i.transformTo=function(f,g){if(g=g||"",!f)return g;i.checkSupport(f);var v=i.getTypeOf(g);return y[v][f](g)},i.resolve=function(f){for(var g=f.split("/"),v=[],b=0;b<g.length;b++){var _=g[b];_==="."||_===""&&b!==0&&b!==g.length-1||(_===".."?v.pop():v.push(_))}return v.join("/")},i.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(f)?"nodebuffer":a.uint8array&&f instanceof Uint8Array?"uint8array":a.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(f){if(!a[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(f){var g,v,b="";for(v=0;v<(f||"").length;v++)b+="\\x"+((g=f.charCodeAt(v))<16?"0":"")+g.toString(16).toUpperCase();return b},i.delay=function(f,g,v){setImmediate(function(){f.apply(v||null,g||[])})},i.inherits=function(f,g){function v(){}v.prototype=g.prototype,f.prototype=new v},i.extend=function(){var f,g,v={};for(f=0;f<arguments.length;f++)for(g in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],g)&&v[g]===void 0&&(v[g]=arguments[f][g]);return v},i.prepareContent=function(f,g,v,b,_){return c.Promise.resolve(g).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new c.Promise(function(w,N){var j=new FileReader;j.onload=function(O){w(O.target.result)},j.onerror=function(O){N(O.target.error)},j.readAsArrayBuffer(S)}):S}).then(function(S){var w=i.getTypeOf(S);return w?(w==="arraybuffer"?S=i.transformTo("uint8array",S):w==="string"&&(_?S=o.decode(S):v&&b!==!0&&(S=function(N){return d(N,a.uint8array?new Uint8Array(N.length):new Array(N.length))}(S))),S):c.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),l=r("./signature"),c=r("./zipEntry"),u=r("./support");function d(p){this.files=[],this.loadOptions=p}d.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(p)+")")}},isSignature:function(p,h){var m=this.reader.index;this.reader.setIndex(p);var y=this.reader.readString(4)===h;return this.reader.setIndex(m),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",m=o.transformTo(h,p);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,h,m,y=this.zip64EndOfCentralSize-44;0<y;)p=this.reader.readInt(2),h=this.reader.readInt(4),m=this.reader.readData(h),this.zip64ExtensibleData[p]={id:p,length:h,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,h;for(p=0;p<this.files.length;p++)h=this.files[p],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var h=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var y=h-m;if(0<y)this.isSignature(h,l.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(p){this.reader=a(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),l=r("./compressedObject"),c=r("./crc32"),u=r("./utf8"),d=r("./compressions"),p=r("./support");function h(m,y){this.options=m,this.loadOptions=y}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var y,f;if(m.skip(22),this.fileNameLength=m.readInt(2),f=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(g){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===g)return d[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,y,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var y=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(y),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var y,f,g,v=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<v;)y=m.readInt(2),f=m.readInt(2),g=m.readData(f),this.extraFields[y]={id:y,length:f,value:g};m.setIndex(v)},handleUTF8:function(){var m=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var f=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var y=a(m.value);return y.readInt(1)!==1||c(this.fileName)!==y.readInt(4)?null:u.utf8decode(y.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var y=a(m.value);return y.readInt(1)!==1||c(this.fileComment)!==y.readInt(4)?null:u.utf8decode(y.readData(m.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(y,f,g){this.name=y,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=f,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=r("./stream/StreamHelper"),l=r("./stream/DataWorker"),c=r("./utf8"),u=r("./compressedObject"),d=r("./stream/GenericWorker");a.prototype={internalStream:function(y){var f=null,g="string";try{if(!y)throw new Error("No output type specified.");var v=(g=y.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),f=this._decompressWorker();var b=!this._dataBinary;b&&!v&&(f=f.pipe(new c.Utf8EncodeWorker)),!b&&v&&(f=f.pipe(new c.Utf8DecodeWorker))}catch(_){(f=new d("error")).error(_)}return new o(f,g,"")},async:function(y,f){return this.internalStream(y).accumulate(f)},nodeStream:function(y,f){return this.internalStream(y||"nodebuffer").toNodejsStream(f)},_compressWorker:function(y,f){if(this._data instanceof u&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(g,y,f)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<p.length;m++)a.prototype[p[m]]=h;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var o,l,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,d=new c(y),p=a.document.createTextNode("");d.observe(p,{characterData:!0}),o=function(){p.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var f=a.document.createElement("script");f.onreadystatechange=function(){y(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},a.document.documentElement.appendChild(f)}:function(){setTimeout(y,0)};else{var h=new a.MessageChannel;h.port1.onmessage=y,o=function(){h.port2.postMessage(0)}}var m=[];function y(){var f,g;l=!0;for(var v=m.length;v;){for(g=m,m=[],f=-1;++f<v;)g[f]();v=m.length}l=!1}n.exports=function(f){m.push(f)!==1||l||o()}}).call(this,typeof Zn<"u"?Zn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function o(){}var l={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function p(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==o&&f(this,v)}function h(v,b,_){this.promise=v,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function m(v,b,_){a(function(){var S;try{S=b(_)}catch(w){return l.reject(v,w)}S===v?l.reject(v,new TypeError("Cannot resolve promise with itself")):l.resolve(v,S)})}function y(v){var b=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof b=="function")return function(){b.apply(v,arguments)}}function f(v,b){var _=!1;function S(j){_||(_=!0,l.reject(v,j))}function w(j){_||(_=!0,l.resolve(v,j))}var N=g(function(){b(w,S)});N.status==="error"&&S(N.value)}function g(v,b){var _={};try{_.value=v(b),_.status="success"}catch(S){_.status="error",_.value=S}return _}(n.exports=p).prototype.finally=function(v){if(typeof v!="function")return this;var b=this.constructor;return this.then(function(_){return b.resolve(v()).then(function(){return _})},function(_){return b.resolve(v()).then(function(){throw _})})},p.prototype.catch=function(v){return this.then(null,v)},p.prototype.then=function(v,b){if(typeof v!="function"&&this.state===u||typeof b!="function"&&this.state===c)return this;var _=new this.constructor(o);return this.state!==d?m(_,this.state===u?v:b,this.outcome):this.queue.push(new h(_,v,b)),_},h.prototype.callFulfilled=function(v){l.resolve(this.promise,v)},h.prototype.otherCallFulfilled=function(v){m(this.promise,this.onFulfilled,v)},h.prototype.callRejected=function(v){l.reject(this.promise,v)},h.prototype.otherCallRejected=function(v){m(this.promise,this.onRejected,v)},l.resolve=function(v,b){var _=g(y,b);if(_.status==="error")return l.reject(v,_.value);var S=_.value;if(S)f(v,S);else{v.state=u,v.outcome=b;for(var w=-1,N=v.queue.length;++w<N;)v.queue[w].callFulfilled(b)}return v},l.reject=function(v,b){v.state=c,v.outcome=b;for(var _=-1,S=v.queue.length;++_<S;)v.queue[_].callRejected(b);return v},p.resolve=function(v){return v instanceof this?v:l.resolve(new this(o),v)},p.reject=function(v){var b=new this(o);return l.reject(b,v)},p.all=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=v.length,S=!1;if(!_)return this.resolve([]);for(var w=new Array(_),N=0,j=-1,O=new this(o);++j<_;)E(v[j],j);return O;function E(P,M){b.resolve(P).then(function(T){w[M]=T,++N!==_||S||(S=!0,l.resolve(O,w))},function(T){S||(S=!0,l.reject(O,T))})}},p.race=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=v.length,S=!1;if(!_)return this.resolve([]);for(var w=-1,N=new this(o);++w<_;)j=v[w],b.resolve(j).then(function(O){S||(S=!0,l.resolve(N,O))},function(O){S||(S=!0,l.reject(N,O))});var j;return N}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/messages"),u=r("./zlib/zstream"),d=Object.prototype.toString,p=0,h=-1,m=0,y=8;function f(v){if(!(this instanceof f))return new f(v);this.options=o.assign({level:h,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},v||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(_!==p)throw new Error(c[_]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var S;if(S=typeof b.dictionary=="string"?l.string2buf(b.dictionary):d.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(_=a.deflateSetDictionary(this.strm,S))!==p)throw new Error(c[_]);this._dict_set=!0}}function g(v,b){var _=new f(b);if(_.push(v,!0),_.err)throw _.msg||c[_.err];return _.result}f.prototype.push=function(v,b){var _,S,w=this.strm,N=this.options.chunkSize;if(this.ended)return!1;S=b===~~b?b:b===!0?4:0,typeof v=="string"?w.input=l.string2buf(v):d.call(v)==="[object ArrayBuffer]"?w.input=new Uint8Array(v):w.input=v,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new o.Buf8(N),w.next_out=0,w.avail_out=N),(_=a.deflate(w,S))!==1&&_!==p)return this.onEnd(_),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(w.output,w.next_out))):this.onData(o.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&_!==1);return S===4?(_=a.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===p):S!==2||(this.onEnd(p),!(w.avail_out=0))},f.prototype.onData=function(v){this.chunks.push(v)},f.prototype.onEnd=function(v){v===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=f,i.deflate=g,i.deflateRaw=function(v,b){return(b=b||{}).raw=!0,g(v,b)},i.gzip=function(v,b){return(b=b||{}).gzip=!0,g(v,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/constants"),u=r("./zlib/messages"),d=r("./zlib/zstream"),p=r("./zlib/gzheader"),h=Object.prototype.toString;function m(f){if(!(this instanceof m))return new m(f);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},f||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||f&&f.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,g.windowBits);if(v!==c.Z_OK)throw new Error(u[v]);this.header=new p,a.inflateGetHeader(this.strm,this.header)}function y(f,g){var v=new m(g);if(v.push(f,!0),v.err)throw v.msg||u[v.err];return v.result}m.prototype.push=function(f,g){var v,b,_,S,w,N,j=this.strm,O=this.options.chunkSize,E=this.options.dictionary,P=!1;if(this.ended)return!1;b=g===~~g?g:g===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof f=="string"?j.input=l.binstring2buf(f):h.call(f)==="[object ArrayBuffer]"?j.input=new Uint8Array(f):j.input=f,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(O),j.next_out=0,j.avail_out=O),(v=a.inflate(j,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&E&&(N=typeof E=="string"?l.string2buf(E):h.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,v=a.inflateSetDictionary(this.strm,N)),v===c.Z_BUF_ERROR&&P===!0&&(v=c.Z_OK,P=!1),v!==c.Z_STREAM_END&&v!==c.Z_OK)return this.onEnd(v),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&v!==c.Z_STREAM_END&&(j.avail_in!==0||b!==c.Z_FINISH&&b!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=l.utf8border(j.output,j.next_out),S=j.next_out-_,w=l.buf2string(j.output,_),j.next_out=S,j.avail_out=O-S,S&&o.arraySet(j.output,j.output,_,S,0),this.onData(w)):this.onData(o.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(P=!0)}while((0<j.avail_in||j.avail_out===0)&&v!==c.Z_STREAM_END);return v===c.Z_STREAM_END&&(b=c.Z_FINISH),b===c.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===c.Z_OK):b!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(j.avail_out=0))},m.prototype.onData=function(f){this.chunks.push(f)},m.prototype.onEnd=function(f){f===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},i.Inflate=m,i.inflate=y,i.inflateRaw=function(f,g){return(g=g||{}).raw=!0,y(f,g)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var p in d)d.hasOwnProperty(p)&&(c[p]=d[p])}}return c},i.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var o={arraySet:function(c,u,d,p,h){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+p),h);else for(var m=0;m<p;m++)c[h+m]=u[d+m]},flattenChunks:function(c){var u,d,p,h,m,y;for(u=p=0,d=c.length;u<d;u++)p+=c[u].length;for(y=new Uint8Array(p),u=h=0,d=c.length;u<d;u++)m=c[u],y.set(m,h),h+=m.length;return y}},l={arraySet:function(c,u,d,p,h){for(var m=0;m<p;m++)c[h+m]=u[d+m]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(p,h){if(h<65537&&(p.subarray&&l||!p.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(p,h));for(var m="",y=0;y<h;y++)m+=String.fromCharCode(p[y]);return m}c[254]=c[254]=1,i.string2buf=function(p){var h,m,y,f,g,v=p.length,b=0;for(f=0;f<v;f++)(64512&(m=p.charCodeAt(f)))==55296&&f+1<v&&(64512&(y=p.charCodeAt(f+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),f++),b+=m<128?1:m<2048?2:m<65536?3:4;for(h=new a.Buf8(b),f=g=0;g<b;f++)(64512&(m=p.charCodeAt(f)))==55296&&f+1<v&&(64512&(y=p.charCodeAt(f+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),f++),m<128?h[g++]=m:(m<2048?h[g++]=192|m>>>6:(m<65536?h[g++]=224|m>>>12:(h[g++]=240|m>>>18,h[g++]=128|m>>>12&63),h[g++]=128|m>>>6&63),h[g++]=128|63&m);return h},i.buf2binstring=function(p){return d(p,p.length)},i.binstring2buf=function(p){for(var h=new a.Buf8(p.length),m=0,y=h.length;m<y;m++)h[m]=p.charCodeAt(m);return h},i.buf2string=function(p,h){var m,y,f,g,v=h||p.length,b=new Array(2*v);for(m=y=0;m<v;)if((f=p[m++])<128)b[y++]=f;else if(4<(g=c[f]))b[y++]=65533,m+=g-1;else{for(f&=g===2?31:g===3?15:7;1<g&&m<v;)f=f<<6|63&p[m++],g--;1<g?b[y++]=65533:f<65536?b[y++]=f:(f-=65536,b[y++]=55296|f>>10&1023,b[y++]=56320|1023&f)}return d(b,y)},i.utf8border=function(p,h){var m;for((h=h||p.length)>p.length&&(h=p.length),m=h-1;0<=m&&(192&p[m])==128;)m--;return m<0||m===0?h:m+c[p[m]]>h?m:h}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,o,l,c){for(var u=65535&a|0,d=a>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;d=d+(u=u+o[c++]|0)|0,--p;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();n.exports=function(o,l,c,u){var d=a,p=u+c;o^=-1;for(var h=u;h<p;h++)o=o>>>8^d[255&(o^l[h])];return-1^o}},{}],46:[function(r,n,i){var a,o=r("../utils/common"),l=r("./trees"),c=r("./adler32"),u=r("./crc32"),d=r("./messages"),p=0,h=4,m=0,y=-2,f=-1,g=4,v=2,b=8,_=9,S=286,w=30,N=19,j=2*S+1,O=15,E=3,P=258,M=P+E+1,T=42,$=113,C=1,U=2,K=3,F=4;function H(k,ee){return k.msg=d[ee],ee}function G(k){return(k<<1)-(4<k?9:0)}function ie(k){for(var ee=k.length;0<=--ee;)k[ee]=0}function J(k){var ee=k.state,D=ee.pending;D>k.avail_out&&(D=k.avail_out),D!==0&&(o.arraySet(k.output,ee.pending_buf,ee.pending_out,D,k.next_out),k.next_out+=D,ee.pending_out+=D,k.total_out+=D,k.avail_out-=D,ee.pending-=D,ee.pending===0&&(ee.pending_out=0))}function Y(k,ee){l._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,ee),k.block_start=k.strstart,J(k.strm)}function pe(k,ee){k.pending_buf[k.pending++]=ee}function oe(k,ee){k.pending_buf[k.pending++]=ee>>>8&255,k.pending_buf[k.pending++]=255&ee}function se(k,ee){var D,A,z=k.max_chain_length,W=k.strstart,L=k.prev_length,Z=k.nice_match,X=k.strstart>k.w_size-M?k.strstart-(k.w_size-M):0,le=k.window,ce=k.w_mask,ae=k.prev,be=k.strstart+P,me=le[W+L-1],Ae=le[W+L];k.prev_length>=k.good_match&&(z>>=2),Z>k.lookahead&&(Z=k.lookahead);do if(le[(D=ee)+L]===Ae&&le[D+L-1]===me&&le[D]===le[W]&&le[++D]===le[W+1]){W+=2,D++;do;while(le[++W]===le[++D]&&le[++W]===le[++D]&&le[++W]===le[++D]&&le[++W]===le[++D]&&le[++W]===le[++D]&&le[++W]===le[++D]&&le[++W]===le[++D]&&le[++W]===le[++D]&&W<be);if(A=P-(be-W),W=be-P,L<A){if(k.match_start=ee,Z<=(L=A))break;me=le[W+L-1],Ae=le[W+L]}}while((ee=ae[ee&ce])>X&&--z!=0);return L<=k.lookahead?L:k.lookahead}function _e(k){var ee,D,A,z,W,L,Z,X,le,ce,ae=k.w_size;do{if(z=k.window_size-k.lookahead-k.strstart,k.strstart>=ae+(ae-M)){for(o.arraySet(k.window,k.window,ae,ae,0),k.match_start-=ae,k.strstart-=ae,k.block_start-=ae,ee=D=k.hash_size;A=k.head[--ee],k.head[ee]=ae<=A?A-ae:0,--D;);for(ee=D=ae;A=k.prev[--ee],k.prev[ee]=ae<=A?A-ae:0,--D;);z+=ae}if(k.strm.avail_in===0)break;if(L=k.strm,Z=k.window,X=k.strstart+k.lookahead,le=z,ce=void 0,ce=L.avail_in,le<ce&&(ce=le),D=ce===0?0:(L.avail_in-=ce,o.arraySet(Z,L.input,L.next_in,ce,X),L.state.wrap===1?L.adler=c(L.adler,Z,ce,X):L.state.wrap===2&&(L.adler=u(L.adler,Z,ce,X)),L.next_in+=ce,L.total_in+=ce,ce),k.lookahead+=D,k.lookahead+k.insert>=E)for(W=k.strstart-k.insert,k.ins_h=k.window[W],k.ins_h=(k.ins_h<<k.hash_shift^k.window[W+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[W+E-1])&k.hash_mask,k.prev[W&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=W,W++,k.insert--,!(k.lookahead+k.insert<E)););}while(k.lookahead<M&&k.strm.avail_in!==0)}function te(k,ee){for(var D,A;;){if(k.lookahead<M){if(_e(k),k.lookahead<M&&ee===p)return C;if(k.lookahead===0)break}if(D=0,k.lookahead>=E&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+E-1])&k.hash_mask,D=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),D!==0&&k.strstart-D<=k.w_size-M&&(k.match_length=se(k,D)),k.match_length>=E)if(A=l._tr_tally(k,k.strstart-k.match_start,k.match_length-E),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=E){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+E-1])&k.hash_mask,D=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else A=l._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(A&&(Y(k,!1),k.strm.avail_out===0))return C}return k.insert=k.strstart<E-1?k.strstart:E-1,ee===h?(Y(k,!0),k.strm.avail_out===0?K:F):k.last_lit&&(Y(k,!1),k.strm.avail_out===0)?C:U}function de(k,ee){for(var D,A,z;;){if(k.lookahead<M){if(_e(k),k.lookahead<M&&ee===p)return C;if(k.lookahead===0)break}if(D=0,k.lookahead>=E&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+E-1])&k.hash_mask,D=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=E-1,D!==0&&k.prev_length<k.max_lazy_match&&k.strstart-D<=k.w_size-M&&(k.match_length=se(k,D),k.match_length<=5&&(k.strategy===1||k.match_length===E&&4096<k.strstart-k.match_start)&&(k.match_length=E-1)),k.prev_length>=E&&k.match_length<=k.prev_length){for(z=k.strstart+k.lookahead-E,A=l._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-E),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=z&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+E-1])&k.hash_mask,D=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=E-1,k.strstart++,A&&(Y(k,!1),k.strm.avail_out===0))return C}else if(k.match_available){if((A=l._tr_tally(k,0,k.window[k.strstart-1]))&&Y(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return C}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(A=l._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<E-1?k.strstart:E-1,ee===h?(Y(k,!0),k.strm.avail_out===0?K:F):k.last_lit&&(Y(k,!1),k.strm.avail_out===0)?C:U}function B(k,ee,D,A,z){this.good_length=k,this.max_lazy=ee,this.nice_length=D,this.max_chain=A,this.func=z}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*j),this.dyn_dtree=new o.Buf16(2*(2*w+1)),this.bl_tree=new o.Buf16(2*(2*N+1)),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(O+1),this.heap=new o.Buf16(2*S+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(k){var ee;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=v,(ee=k.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?T:$,k.adler=ee.wrap===2?0:1,ee.last_flush=p,l._tr_init(ee),m):H(k,y)}function q(k){var ee=R(k);return ee===m&&function(D){D.window_size=2*D.w_size,ie(D.head),D.max_lazy_match=a[D.level].max_lazy,D.good_match=a[D.level].good_length,D.nice_match=a[D.level].nice_length,D.max_chain_length=a[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=E-1,D.match_available=0,D.ins_h=0}(k.state),ee}function re(k,ee,D,A,z,W){if(!k)return y;var L=1;if(ee===f&&(ee=6),A<0?(L=0,A=-A):15<A&&(L=2,A-=16),z<1||_<z||D!==b||A<8||15<A||ee<0||9<ee||W<0||g<W)return H(k,y);A===8&&(A=9);var Z=new I;return(k.state=Z).strm=k,Z.wrap=L,Z.gzhead=null,Z.w_bits=A,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=z+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+E-1)/E),Z.window=new o.Buf8(2*Z.w_size),Z.head=new o.Buf16(Z.hash_size),Z.prev=new o.Buf16(Z.w_size),Z.lit_bufsize=1<<z+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new o.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=ee,Z.strategy=W,Z.method=D,q(k)}a=[new B(0,0,0,0,function(k,ee){var D=65535;for(D>k.pending_buf_size-5&&(D=k.pending_buf_size-5);;){if(k.lookahead<=1){if(_e(k),k.lookahead===0&&ee===p)return C;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var A=k.block_start+D;if((k.strstart===0||k.strstart>=A)&&(k.lookahead=k.strstart-A,k.strstart=A,Y(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-M&&(Y(k,!1),k.strm.avail_out===0))return C}return k.insert=0,ee===h?(Y(k,!0),k.strm.avail_out===0?K:F):(k.strstart>k.block_start&&(Y(k,!1),k.strm.avail_out),C)}),new B(4,4,8,4,te),new B(4,5,16,8,te),new B(4,6,32,32,te),new B(4,4,16,16,de),new B(8,16,32,32,de),new B(8,16,128,128,de),new B(8,32,128,256,de),new B(32,128,258,1024,de),new B(32,258,258,4096,de)],i.deflateInit=function(k,ee){return re(k,ee,b,15,8,0)},i.deflateInit2=re,i.deflateReset=q,i.deflateResetKeep=R,i.deflateSetHeader=function(k,ee){return k&&k.state?k.state.wrap!==2?y:(k.state.gzhead=ee,m):y},i.deflate=function(k,ee){var D,A,z,W;if(!k||!k.state||5<ee||ee<0)return k?H(k,y):y;if(A=k.state,!k.output||!k.input&&k.avail_in!==0||A.status===666&&ee!==h)return H(k,k.avail_out===0?-5:y);if(A.strm=k,D=A.last_flush,A.last_flush=ee,A.status===T)if(A.wrap===2)k.adler=0,pe(A,31),pe(A,139),pe(A,8),A.gzhead?(pe(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),pe(A,255&A.gzhead.time),pe(A,A.gzhead.time>>8&255),pe(A,A.gzhead.time>>16&255),pe(A,A.gzhead.time>>24&255),pe(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),pe(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(pe(A,255&A.gzhead.extra.length),pe(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(k.adler=u(k.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(pe(A,0),pe(A,0),pe(A,0),pe(A,0),pe(A,0),pe(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),pe(A,3),A.status=$);else{var L=b+(A.w_bits-8<<4)<<8;L|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(L|=32),L+=31-L%31,A.status=$,oe(A,L),A.strstart!==0&&(oe(A,k.adler>>>16),oe(A,65535&k.adler)),k.adler=1}if(A.status===69)if(A.gzhead.extra){for(z=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>z&&(k.adler=u(k.adler,A.pending_buf,A.pending-z,z)),J(k),z=A.pending,A.pending!==A.pending_buf_size));)pe(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>z&&(k.adler=u(k.adler,A.pending_buf,A.pending-z,z)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){z=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>z&&(k.adler=u(k.adler,A.pending_buf,A.pending-z,z)),J(k),z=A.pending,A.pending===A.pending_buf_size)){W=1;break}W=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,pe(A,W)}while(W!==0);A.gzhead.hcrc&&A.pending>z&&(k.adler=u(k.adler,A.pending_buf,A.pending-z,z)),W===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){z=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>z&&(k.adler=u(k.adler,A.pending_buf,A.pending-z,z)),J(k),z=A.pending,A.pending===A.pending_buf_size)){W=1;break}W=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,pe(A,W)}while(W!==0);A.gzhead.hcrc&&A.pending>z&&(k.adler=u(k.adler,A.pending_buf,A.pending-z,z)),W===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&J(k),A.pending+2<=A.pending_buf_size&&(pe(A,255&k.adler),pe(A,k.adler>>8&255),k.adler=0,A.status=$)):A.status=$),A.pending!==0){if(J(k),k.avail_out===0)return A.last_flush=-1,m}else if(k.avail_in===0&&G(ee)<=G(D)&&ee!==h)return H(k,-5);if(A.status===666&&k.avail_in!==0)return H(k,-5);if(k.avail_in!==0||A.lookahead!==0||ee!==p&&A.status!==666){var Z=A.strategy===2?function(X,le){for(var ce;;){if(X.lookahead===0&&(_e(X),X.lookahead===0)){if(le===p)return C;break}if(X.match_length=0,ce=l._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,ce&&(Y(X,!1),X.strm.avail_out===0))return C}return X.insert=0,le===h?(Y(X,!0),X.strm.avail_out===0?K:F):X.last_lit&&(Y(X,!1),X.strm.avail_out===0)?C:U}(A,ee):A.strategy===3?function(X,le){for(var ce,ae,be,me,Ae=X.window;;){if(X.lookahead<=P){if(_e(X),X.lookahead<=P&&le===p)return C;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=E&&0<X.strstart&&(ae=Ae[be=X.strstart-1])===Ae[++be]&&ae===Ae[++be]&&ae===Ae[++be]){me=X.strstart+P;do;while(ae===Ae[++be]&&ae===Ae[++be]&&ae===Ae[++be]&&ae===Ae[++be]&&ae===Ae[++be]&&ae===Ae[++be]&&ae===Ae[++be]&&ae===Ae[++be]&&be<me);X.match_length=P-(me-be),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=E?(ce=l._tr_tally(X,1,X.match_length-E),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(ce=l._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),ce&&(Y(X,!1),X.strm.avail_out===0))return C}return X.insert=0,le===h?(Y(X,!0),X.strm.avail_out===0?K:F):X.last_lit&&(Y(X,!1),X.strm.avail_out===0)?C:U}(A,ee):a[A.level].func(A,ee);if(Z!==K&&Z!==F||(A.status=666),Z===C||Z===K)return k.avail_out===0&&(A.last_flush=-1),m;if(Z===U&&(ee===1?l._tr_align(A):ee!==5&&(l._tr_stored_block(A,0,0,!1),ee===3&&(ie(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),J(k),k.avail_out===0))return A.last_flush=-1,m}return ee!==h?m:A.wrap<=0?1:(A.wrap===2?(pe(A,255&k.adler),pe(A,k.adler>>8&255),pe(A,k.adler>>16&255),pe(A,k.adler>>24&255),pe(A,255&k.total_in),pe(A,k.total_in>>8&255),pe(A,k.total_in>>16&255),pe(A,k.total_in>>24&255)):(oe(A,k.adler>>>16),oe(A,65535&k.adler)),J(k),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?m:1)},i.deflateEnd=function(k){var ee;return k&&k.state?(ee=k.state.status)!==T&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==$&&ee!==666?H(k,y):(k.state=null,ee===$?H(k,-3):m):y},i.deflateSetDictionary=function(k,ee){var D,A,z,W,L,Z,X,le,ce=ee.length;if(!k||!k.state||(W=(D=k.state).wrap)===2||W===1&&D.status!==T||D.lookahead)return y;for(W===1&&(k.adler=c(k.adler,ee,ce,0)),D.wrap=0,ce>=D.w_size&&(W===0&&(ie(D.head),D.strstart=0,D.block_start=0,D.insert=0),le=new o.Buf8(D.w_size),o.arraySet(le,ee,ce-D.w_size,D.w_size,0),ee=le,ce=D.w_size),L=k.avail_in,Z=k.next_in,X=k.input,k.avail_in=ce,k.next_in=0,k.input=ee,_e(D);D.lookahead>=E;){for(A=D.strstart,z=D.lookahead-(E-1);D.ins_h=(D.ins_h<<D.hash_shift^D.window[A+E-1])&D.hash_mask,D.prev[A&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=A,A++,--z;);D.strstart=A,D.lookahead=E-1,_e(D)}return D.strstart+=D.lookahead,D.block_start=D.strstart,D.insert=D.lookahead,D.lookahead=0,D.match_length=D.prev_length=E-1,D.match_available=0,k.next_in=Z,k.input=X,k.avail_in=L,D.wrap=W,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,o){var l,c,u,d,p,h,m,y,f,g,v,b,_,S,w,N,j,O,E,P,M,T,$,C,U;l=a.state,c=a.next_in,C=a.input,u=c+(a.avail_in-5),d=a.next_out,U=a.output,p=d-(o-a.avail_out),h=d+(a.avail_out-257),m=l.dmax,y=l.wsize,f=l.whave,g=l.wnext,v=l.window,b=l.hold,_=l.bits,S=l.lencode,w=l.distcode,N=(1<<l.lenbits)-1,j=(1<<l.distbits)-1;e:do{_<15&&(b+=C[c++]<<_,_+=8,b+=C[c++]<<_,_+=8),O=S[b&N];t:for(;;){if(b>>>=E=O>>>24,_-=E,(E=O>>>16&255)===0)U[d++]=65535&O;else{if(!(16&E)){if(!(64&E)){O=S[(65535&O)+(b&(1<<E)-1)];continue t}if(32&E){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}P=65535&O,(E&=15)&&(_<E&&(b+=C[c++]<<_,_+=8),P+=b&(1<<E)-1,b>>>=E,_-=E),_<15&&(b+=C[c++]<<_,_+=8,b+=C[c++]<<_,_+=8),O=w[b&j];r:for(;;){if(b>>>=E=O>>>24,_-=E,!(16&(E=O>>>16&255))){if(!(64&E)){O=w[(65535&O)+(b&(1<<E)-1)];continue r}a.msg="invalid distance code",l.mode=30;break e}if(M=65535&O,_<(E&=15)&&(b+=C[c++]<<_,(_+=8)<E&&(b+=C[c++]<<_,_+=8)),m<(M+=b&(1<<E)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(b>>>=E,_-=E,(E=d-p)<M){if(f<(E=M-E)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if($=v,(T=0)===g){if(T+=y-E,E<P){for(P-=E;U[d++]=v[T++],--E;);T=d-M,$=U}}else if(g<E){if(T+=y+g-E,(E-=g)<P){for(P-=E;U[d++]=v[T++],--E;);if(T=0,g<P){for(P-=E=g;U[d++]=v[T++],--E;);T=d-M,$=U}}}else if(T+=g-E,E<P){for(P-=E;U[d++]=v[T++],--E;);T=d-M,$=U}for(;2<P;)U[d++]=$[T++],U[d++]=$[T++],U[d++]=$[T++],P-=3;P&&(U[d++]=$[T++],1<P&&(U[d++]=$[T++]))}else{for(T=d-M;U[d++]=U[T++],U[d++]=U[T++],U[d++]=U[T++],2<(P-=3););P&&(U[d++]=U[T++],1<P&&(U[d++]=U[T++]))}break}}break}}while(c<u&&d<h);c-=P=_>>3,b&=(1<<(_-=P<<3))-1,a.next_in=c,a.next_out=d,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=d<h?h-d+257:257-(d-h),l.hold=b,l.bits=_}},{}],49:[function(r,n,i){var a=r("../utils/common"),o=r("./adler32"),l=r("./crc32"),c=r("./inffast"),u=r("./inftrees"),d=1,p=2,h=0,m=-2,y=1,f=852,g=592;function v(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(T){var $;return T&&T.state?($=T.state,T.total_in=T.total_out=$.total=0,T.msg="",$.wrap&&(T.adler=1&$.wrap),$.mode=y,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new a.Buf32(f),$.distcode=$.distdyn=new a.Buf32(g),$.sane=1,$.back=-1,h):m}function S(T){var $;return T&&T.state?(($=T.state).wsize=0,$.whave=0,$.wnext=0,_(T)):m}function w(T,$){var C,U;return T&&T.state?(U=T.state,$<0?(C=0,$=-$):(C=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?m:(U.window!==null&&U.wbits!==$&&(U.window=null),U.wrap=C,U.wbits=$,S(T))):m}function N(T,$){var C,U;return T?(U=new b,(T.state=U).window=null,(C=w(T,$))!==h&&(T.state=null),C):m}var j,O,E=!0;function P(T){if(E){var $;for(j=new a.Buf32(512),O=new a.Buf32(32),$=0;$<144;)T.lens[$++]=8;for(;$<256;)T.lens[$++]=9;for(;$<280;)T.lens[$++]=7;for(;$<288;)T.lens[$++]=8;for(u(d,T.lens,0,288,j,0,T.work,{bits:9}),$=0;$<32;)T.lens[$++]=5;u(p,T.lens,0,32,O,0,T.work,{bits:5}),E=!1}T.lencode=j,T.lenbits=9,T.distcode=O,T.distbits=5}function M(T,$,C,U){var K,F=T.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new a.Buf8(F.wsize)),U>=F.wsize?(a.arraySet(F.window,$,C-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(U<(K=F.wsize-F.wnext)&&(K=U),a.arraySet(F.window,$,C-U,K,F.wnext),(U-=K)?(a.arraySet(F.window,$,C-U,U,0),F.wnext=U,F.whave=F.wsize):(F.wnext+=K,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=K))),0}i.inflateReset=S,i.inflateReset2=w,i.inflateResetKeep=_,i.inflateInit=function(T){return N(T,15)},i.inflateInit2=N,i.inflate=function(T,$){var C,U,K,F,H,G,ie,J,Y,pe,oe,se,_e,te,de,B,I,R,q,re,k,ee,D,A,z=0,W=new a.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return m;(C=T.state).mode===12&&(C.mode=13),H=T.next_out,K=T.output,ie=T.avail_out,F=T.next_in,U=T.input,G=T.avail_in,J=C.hold,Y=C.bits,pe=G,oe=ie,ee=h;e:for(;;)switch(C.mode){case y:if(C.wrap===0){C.mode=13;break}for(;Y<16;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}if(2&C.wrap&&J===35615){W[C.check=0]=255&J,W[1]=J>>>8&255,C.check=l(C.check,W,2,0),Y=J=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&J)<<8)+(J>>8))%31){T.msg="incorrect header check",C.mode=30;break}if((15&J)!=8){T.msg="unknown compression method",C.mode=30;break}if(Y-=4,k=8+(15&(J>>>=4)),C.wbits===0)C.wbits=k;else if(k>C.wbits){T.msg="invalid window size",C.mode=30;break}C.dmax=1<<k,T.adler=C.check=1,C.mode=512&J?10:12,Y=J=0;break;case 2:for(;Y<16;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}if(C.flags=J,(255&C.flags)!=8){T.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){T.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=J>>8&1),512&C.flags&&(W[0]=255&J,W[1]=J>>>8&255,C.check=l(C.check,W,2,0)),Y=J=0,C.mode=3;case 3:for(;Y<32;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}C.head&&(C.head.time=J),512&C.flags&&(W[0]=255&J,W[1]=J>>>8&255,W[2]=J>>>16&255,W[3]=J>>>24&255,C.check=l(C.check,W,4,0)),Y=J=0,C.mode=4;case 4:for(;Y<16;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}C.head&&(C.head.xflags=255&J,C.head.os=J>>8),512&C.flags&&(W[0]=255&J,W[1]=J>>>8&255,C.check=l(C.check,W,2,0)),Y=J=0,C.mode=5;case 5:if(1024&C.flags){for(;Y<16;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}C.length=J,C.head&&(C.head.extra_len=J),512&C.flags&&(W[0]=255&J,W[1]=J>>>8&255,C.check=l(C.check,W,2,0)),Y=J=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(G<(se=C.length)&&(se=G),se&&(C.head&&(k=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),a.arraySet(C.head.extra,U,F,se,k)),512&C.flags&&(C.check=l(C.check,U,se,F)),G-=se,F+=se,C.length-=se),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(G===0)break e;for(se=0;k=U[F+se++],C.head&&k&&C.length<65536&&(C.head.name+=String.fromCharCode(k)),k&&se<G;);if(512&C.flags&&(C.check=l(C.check,U,se,F)),G-=se,F+=se,k)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(G===0)break e;for(se=0;k=U[F+se++],C.head&&k&&C.length<65536&&(C.head.comment+=String.fromCharCode(k)),k&&se<G;);if(512&C.flags&&(C.check=l(C.check,U,se,F)),G-=se,F+=se,k)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;Y<16;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}if(J!==(65535&C.check)){T.msg="header crc mismatch",C.mode=30;break}Y=J=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),T.adler=C.check=0,C.mode=12;break;case 10:for(;Y<32;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}T.adler=C.check=v(J),Y=J=0,C.mode=11;case 11:if(C.havedict===0)return T.next_out=H,T.avail_out=ie,T.next_in=F,T.avail_in=G,C.hold=J,C.bits=Y,2;T.adler=C.check=1,C.mode=12;case 12:if($===5||$===6)break e;case 13:if(C.last){J>>>=7&Y,Y-=7&Y,C.mode=27;break}for(;Y<3;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}switch(C.last=1&J,Y-=1,3&(J>>>=1)){case 0:C.mode=14;break;case 1:if(P(C),C.mode=20,$!==6)break;J>>>=2,Y-=2;break e;case 2:C.mode=17;break;case 3:T.msg="invalid block type",C.mode=30}J>>>=2,Y-=2;break;case 14:for(J>>>=7&Y,Y-=7&Y;Y<32;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}if((65535&J)!=(J>>>16^65535)){T.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&J,Y=J=0,C.mode=15,$===6)break e;case 15:C.mode=16;case 16:if(se=C.length){if(G<se&&(se=G),ie<se&&(se=ie),se===0)break e;a.arraySet(K,U,F,se,H),G-=se,F+=se,ie-=se,H+=se,C.length-=se;break}C.mode=12;break;case 17:for(;Y<14;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}if(C.nlen=257+(31&J),J>>>=5,Y-=5,C.ndist=1+(31&J),J>>>=5,Y-=5,C.ncode=4+(15&J),J>>>=4,Y-=4,286<C.nlen||30<C.ndist){T.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;Y<3;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}C.lens[L[C.have++]]=7&J,J>>>=3,Y-=3}for(;C.have<19;)C.lens[L[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,D={bits:C.lenbits},ee=u(0,C.lens,0,19,C.lencode,0,C.work,D),C.lenbits=D.bits,ee){T.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;B=(z=C.lencode[J&(1<<C.lenbits)-1])>>>16&255,I=65535&z,!((de=z>>>24)<=Y);){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}if(I<16)J>>>=de,Y-=de,C.lens[C.have++]=I;else{if(I===16){for(A=de+2;Y<A;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}if(J>>>=de,Y-=de,C.have===0){T.msg="invalid bit length repeat",C.mode=30;break}k=C.lens[C.have-1],se=3+(3&J),J>>>=2,Y-=2}else if(I===17){for(A=de+3;Y<A;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}Y-=de,k=0,se=3+(7&(J>>>=de)),J>>>=3,Y-=3}else{for(A=de+7;Y<A;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}Y-=de,k=0,se=11+(127&(J>>>=de)),J>>>=7,Y-=7}if(C.have+se>C.nlen+C.ndist){T.msg="invalid bit length repeat",C.mode=30;break}for(;se--;)C.lens[C.have++]=k}}if(C.mode===30)break;if(C.lens[256]===0){T.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,D={bits:C.lenbits},ee=u(d,C.lens,0,C.nlen,C.lencode,0,C.work,D),C.lenbits=D.bits,ee){T.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,D={bits:C.distbits},ee=u(p,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,D),C.distbits=D.bits,ee){T.msg="invalid distances set",C.mode=30;break}if(C.mode=20,$===6)break e;case 20:C.mode=21;case 21:if(6<=G&&258<=ie){T.next_out=H,T.avail_out=ie,T.next_in=F,T.avail_in=G,C.hold=J,C.bits=Y,c(T,oe),H=T.next_out,K=T.output,ie=T.avail_out,F=T.next_in,U=T.input,G=T.avail_in,J=C.hold,Y=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;B=(z=C.lencode[J&(1<<C.lenbits)-1])>>>16&255,I=65535&z,!((de=z>>>24)<=Y);){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}if(B&&!(240&B)){for(R=de,q=B,re=I;B=(z=C.lencode[re+((J&(1<<R+q)-1)>>R)])>>>16&255,I=65535&z,!(R+(de=z>>>24)<=Y);){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}J>>>=R,Y-=R,C.back+=R}if(J>>>=de,Y-=de,C.back+=de,C.length=I,B===0){C.mode=26;break}if(32&B){C.back=-1,C.mode=12;break}if(64&B){T.msg="invalid literal/length code",C.mode=30;break}C.extra=15&B,C.mode=22;case 22:if(C.extra){for(A=C.extra;Y<A;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}C.length+=J&(1<<C.extra)-1,J>>>=C.extra,Y-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;B=(z=C.distcode[J&(1<<C.distbits)-1])>>>16&255,I=65535&z,!((de=z>>>24)<=Y);){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}if(!(240&B)){for(R=de,q=B,re=I;B=(z=C.distcode[re+((J&(1<<R+q)-1)>>R)])>>>16&255,I=65535&z,!(R+(de=z>>>24)<=Y);){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}J>>>=R,Y-=R,C.back+=R}if(J>>>=de,Y-=de,C.back+=de,64&B){T.msg="invalid distance code",C.mode=30;break}C.offset=I,C.extra=15&B,C.mode=24;case 24:if(C.extra){for(A=C.extra;Y<A;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}C.offset+=J&(1<<C.extra)-1,J>>>=C.extra,Y-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){T.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(ie===0)break e;if(se=oe-ie,C.offset>se){if((se=C.offset-se)>C.whave&&C.sane){T.msg="invalid distance too far back",C.mode=30;break}_e=se>C.wnext?(se-=C.wnext,C.wsize-se):C.wnext-se,se>C.length&&(se=C.length),te=C.window}else te=K,_e=H-C.offset,se=C.length;for(ie<se&&(se=ie),ie-=se,C.length-=se;K[H++]=te[_e++],--se;);C.length===0&&(C.mode=21);break;case 26:if(ie===0)break e;K[H++]=C.length,ie--,C.mode=21;break;case 27:if(C.wrap){for(;Y<32;){if(G===0)break e;G--,J|=U[F++]<<Y,Y+=8}if(oe-=ie,T.total_out+=oe,C.total+=oe,oe&&(T.adler=C.check=C.flags?l(C.check,K,oe,H-oe):o(C.check,K,oe,H-oe)),oe=ie,(C.flags?J:v(J))!==C.check){T.msg="incorrect data check",C.mode=30;break}Y=J=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;Y<32;){if(G===0)break e;G--,J+=U[F++]<<Y,Y+=8}if(J!==(4294967295&C.total)){T.msg="incorrect length check",C.mode=30;break}Y=J=0}C.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;case 31:return-4;case 32:default:return m}return T.next_out=H,T.avail_out=ie,T.next_in=F,T.avail_in=G,C.hold=J,C.bits=Y,(C.wsize||oe!==T.avail_out&&C.mode<30&&(C.mode<27||$!==4))&&M(T,T.output,T.next_out,oe-T.avail_out)?(C.mode=31,-4):(pe-=T.avail_in,oe-=T.avail_out,T.total_in+=pe,T.total_out+=oe,C.total+=oe,C.wrap&&oe&&(T.adler=C.check=C.flags?l(C.check,K,oe,T.next_out-oe):o(C.check,K,oe,T.next_out-oe)),T.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(pe==0&&oe===0||$===4)&&ee===h&&(ee=-5),ee)},i.inflateEnd=function(T){if(!T||!T.state)return m;var $=T.state;return $.window&&($.window=null),T.state=null,h},i.inflateGetHeader=function(T,$){var C;return T&&T.state&&2&(C=T.state).wrap?((C.head=$).done=!1,h):m},i.inflateSetDictionary=function(T,$){var C,U=$.length;return T&&T.state?(C=T.state).wrap!==0&&C.mode!==11?m:C.mode===11&&o(1,$,U,0)!==C.check?-3:M(T,$,U,U)?(C.mode=31,-4):(C.havedict=1,h):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,p,h,m,y,f,g,v){var b,_,S,w,N,j,O,E,P,M=v.bits,T=0,$=0,C=0,U=0,K=0,F=0,H=0,G=0,ie=0,J=0,Y=null,pe=0,oe=new a.Buf16(16),se=new a.Buf16(16),_e=null,te=0;for(T=0;T<=15;T++)oe[T]=0;for($=0;$<m;$++)oe[p[h+$]]++;for(K=M,U=15;1<=U&&oe[U]===0;U--);if(U<K&&(K=U),U===0)return y[f++]=20971520,y[f++]=20971520,v.bits=1,0;for(C=1;C<U&&oe[C]===0;C++);for(K<C&&(K=C),T=G=1;T<=15;T++)if(G<<=1,(G-=oe[T])<0)return-1;if(0<G&&(d===0||U!==1))return-1;for(se[1]=0,T=1;T<15;T++)se[T+1]=se[T]+oe[T];for($=0;$<m;$++)p[h+$]!==0&&(g[se[p[h+$]]++]=$);if(j=d===0?(Y=_e=g,19):d===1?(Y=o,pe-=257,_e=l,te-=257,256):(Y=c,_e=u,-1),T=C,N=f,H=$=J=0,S=-1,w=(ie=1<<(F=K))-1,d===1&&852<ie||d===2&&592<ie)return 1;for(;;){for(O=T-H,P=g[$]<j?(E=0,g[$]):g[$]>j?(E=_e[te+g[$]],Y[pe+g[$]]):(E=96,0),b=1<<T-H,C=_=1<<F;y[N+(J>>H)+(_-=b)]=O<<24|E<<16|P|0,_!==0;);for(b=1<<T-1;J&b;)b>>=1;if(b!==0?(J&=b-1,J+=b):J=0,$++,--oe[T]==0){if(T===U)break;T=p[h+g[$]]}if(K<T&&(J&w)!==S){for(H===0&&(H=K),N+=C,G=1<<(F=T-H);F+H<U&&!((G-=oe[F+H])<=0);)F++,G<<=1;if(ie+=1<<F,d===1&&852<ie||d===2&&592<ie)return 1;y[S=J&w]=K<<24|F<<16|N-f|0}}return J!==0&&(y[N+J]=T-H<<24|64<<16|0),v.bits=K,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),o=0,l=1;function c(z){for(var W=z.length;0<=--W;)z[W]=0}var u=0,d=29,p=256,h=p+1+d,m=30,y=19,f=2*h+1,g=15,v=16,b=7,_=256,S=16,w=17,N=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(h+2));c(M);var T=new Array(2*m);c(T);var $=new Array(512);c($);var C=new Array(256);c(C);var U=new Array(d);c(U);var K,F,H,G=new Array(m);function ie(z,W,L,Z,X){this.static_tree=z,this.extra_bits=W,this.extra_base=L,this.elems=Z,this.max_length=X,this.has_stree=z&&z.length}function J(z,W){this.dyn_tree=z,this.max_code=0,this.stat_desc=W}function Y(z){return z<256?$[z]:$[256+(z>>>7)]}function pe(z,W){z.pending_buf[z.pending++]=255&W,z.pending_buf[z.pending++]=W>>>8&255}function oe(z,W,L){z.bi_valid>v-L?(z.bi_buf|=W<<z.bi_valid&65535,pe(z,z.bi_buf),z.bi_buf=W>>v-z.bi_valid,z.bi_valid+=L-v):(z.bi_buf|=W<<z.bi_valid&65535,z.bi_valid+=L)}function se(z,W,L){oe(z,L[2*W],L[2*W+1])}function _e(z,W){for(var L=0;L|=1&z,z>>>=1,L<<=1,0<--W;);return L>>>1}function te(z,W,L){var Z,X,le=new Array(g+1),ce=0;for(Z=1;Z<=g;Z++)le[Z]=ce=ce+L[Z-1]<<1;for(X=0;X<=W;X++){var ae=z[2*X+1];ae!==0&&(z[2*X]=_e(le[ae]++,ae))}}function de(z){var W;for(W=0;W<h;W++)z.dyn_ltree[2*W]=0;for(W=0;W<m;W++)z.dyn_dtree[2*W]=0;for(W=0;W<y;W++)z.bl_tree[2*W]=0;z.dyn_ltree[2*_]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function B(z){8<z.bi_valid?pe(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function I(z,W,L,Z){var X=2*W,le=2*L;return z[X]<z[le]||z[X]===z[le]&&Z[W]<=Z[L]}function R(z,W,L){for(var Z=z.heap[L],X=L<<1;X<=z.heap_len&&(X<z.heap_len&&I(W,z.heap[X+1],z.heap[X],z.depth)&&X++,!I(W,Z,z.heap[X],z.depth));)z.heap[L]=z.heap[X],L=X,X<<=1;z.heap[L]=Z}function q(z,W,L){var Z,X,le,ce,ae=0;if(z.last_lit!==0)for(;Z=z.pending_buf[z.d_buf+2*ae]<<8|z.pending_buf[z.d_buf+2*ae+1],X=z.pending_buf[z.l_buf+ae],ae++,Z===0?se(z,X,W):(se(z,(le=C[X])+p+1,W),(ce=j[le])!==0&&oe(z,X-=U[le],ce),se(z,le=Y(--Z),L),(ce=O[le])!==0&&oe(z,Z-=G[le],ce)),ae<z.last_lit;);se(z,_,W)}function re(z,W){var L,Z,X,le=W.dyn_tree,ce=W.stat_desc.static_tree,ae=W.stat_desc.has_stree,be=W.stat_desc.elems,me=-1;for(z.heap_len=0,z.heap_max=f,L=0;L<be;L++)le[2*L]!==0?(z.heap[++z.heap_len]=me=L,z.depth[L]=0):le[2*L+1]=0;for(;z.heap_len<2;)le[2*(X=z.heap[++z.heap_len]=me<2?++me:0)]=1,z.depth[X]=0,z.opt_len--,ae&&(z.static_len-=ce[2*X+1]);for(W.max_code=me,L=z.heap_len>>1;1<=L;L--)R(z,le,L);for(X=be;L=z.heap[1],z.heap[1]=z.heap[z.heap_len--],R(z,le,1),Z=z.heap[1],z.heap[--z.heap_max]=L,z.heap[--z.heap_max]=Z,le[2*X]=le[2*L]+le[2*Z],z.depth[X]=(z.depth[L]>=z.depth[Z]?z.depth[L]:z.depth[Z])+1,le[2*L+1]=le[2*Z+1]=X,z.heap[1]=X++,R(z,le,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],function(Ae,Fe){var Xe,He,qe,Ie,jn,qr,br=Fe.dyn_tree,To=Fe.max_code,zo=Fe.stat_desc.static_tree,Ue=Fe.stat_desc.has_stree,Wn=Fe.stat_desc.extra_bits,An=Fe.stat_desc.extra_base,Si=Fe.stat_desc.max_length,ns=0;for(Ie=0;Ie<=g;Ie++)Ae.bl_count[Ie]=0;for(br[2*Ae.heap[Ae.heap_max]+1]=0,Xe=Ae.heap_max+1;Xe<f;Xe++)Si<(Ie=br[2*br[2*(He=Ae.heap[Xe])+1]+1]+1)&&(Ie=Si,ns++),br[2*He+1]=Ie,To<He||(Ae.bl_count[Ie]++,jn=0,An<=He&&(jn=Wn[He-An]),qr=br[2*He],Ae.opt_len+=qr*(Ie+jn),Ue&&(Ae.static_len+=qr*(zo[2*He+1]+jn)));if(ns!==0){do{for(Ie=Si-1;Ae.bl_count[Ie]===0;)Ie--;Ae.bl_count[Ie]--,Ae.bl_count[Ie+1]+=2,Ae.bl_count[Si]--,ns-=2}while(0<ns);for(Ie=Si;Ie!==0;Ie--)for(He=Ae.bl_count[Ie];He!==0;)To<(qe=Ae.heap[--Xe])||(br[2*qe+1]!==Ie&&(Ae.opt_len+=(Ie-br[2*qe+1])*br[2*qe],br[2*qe+1]=Ie),He--)}}(z,W),te(le,me,z.bl_count)}function k(z,W,L){var Z,X,le=-1,ce=W[1],ae=0,be=7,me=4;for(ce===0&&(be=138,me=3),W[2*(L+1)+1]=65535,Z=0;Z<=L;Z++)X=ce,ce=W[2*(Z+1)+1],++ae<be&&X===ce||(ae<me?z.bl_tree[2*X]+=ae:X!==0?(X!==le&&z.bl_tree[2*X]++,z.bl_tree[2*S]++):ae<=10?z.bl_tree[2*w]++:z.bl_tree[2*N]++,le=X,me=(ae=0)===ce?(be=138,3):X===ce?(be=6,3):(be=7,4))}function ee(z,W,L){var Z,X,le=-1,ce=W[1],ae=0,be=7,me=4;for(ce===0&&(be=138,me=3),Z=0;Z<=L;Z++)if(X=ce,ce=W[2*(Z+1)+1],!(++ae<be&&X===ce)){if(ae<me)for(;se(z,X,z.bl_tree),--ae!=0;);else X!==0?(X!==le&&(se(z,X,z.bl_tree),ae--),se(z,S,z.bl_tree),oe(z,ae-3,2)):ae<=10?(se(z,w,z.bl_tree),oe(z,ae-3,3)):(se(z,N,z.bl_tree),oe(z,ae-11,7));le=X,me=(ae=0)===ce?(be=138,3):X===ce?(be=6,3):(be=7,4)}}c(G);var D=!1;function A(z,W,L,Z){oe(z,(u<<1)+(Z?1:0),3),function(X,le,ce,ae){B(X),pe(X,ce),pe(X,~ce),a.arraySet(X.pending_buf,X.window,le,ce,X.pending),X.pending+=ce}(z,W,L)}i._tr_init=function(z){D||(function(){var W,L,Z,X,le,ce=new Array(g+1);for(X=Z=0;X<d-1;X++)for(U[X]=Z,W=0;W<1<<j[X];W++)C[Z++]=X;for(C[Z-1]=X,X=le=0;X<16;X++)for(G[X]=le,W=0;W<1<<O[X];W++)$[le++]=X;for(le>>=7;X<m;X++)for(G[X]=le<<7,W=0;W<1<<O[X]-7;W++)$[256+le++]=X;for(L=0;L<=g;L++)ce[L]=0;for(W=0;W<=143;)M[2*W+1]=8,W++,ce[8]++;for(;W<=255;)M[2*W+1]=9,W++,ce[9]++;for(;W<=279;)M[2*W+1]=7,W++,ce[7]++;for(;W<=287;)M[2*W+1]=8,W++,ce[8]++;for(te(M,h+1,ce),W=0;W<m;W++)T[2*W+1]=5,T[2*W]=_e(W,5);K=new ie(M,j,p+1,h,g),F=new ie(T,O,0,m,g),H=new ie(new Array(0),E,0,y,b)}(),D=!0),z.l_desc=new J(z.dyn_ltree,K),z.d_desc=new J(z.dyn_dtree,F),z.bl_desc=new J(z.bl_tree,H),z.bi_buf=0,z.bi_valid=0,de(z)},i._tr_stored_block=A,i._tr_flush_block=function(z,W,L,Z){var X,le,ce=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=function(ae){var be,me=4093624447;for(be=0;be<=31;be++,me>>>=1)if(1&me&&ae.dyn_ltree[2*be]!==0)return o;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return l;for(be=32;be<p;be++)if(ae.dyn_ltree[2*be]!==0)return l;return o}(z)),re(z,z.l_desc),re(z,z.d_desc),ce=function(ae){var be;for(k(ae,ae.dyn_ltree,ae.l_desc.max_code),k(ae,ae.dyn_dtree,ae.d_desc.max_code),re(ae,ae.bl_desc),be=y-1;3<=be&&ae.bl_tree[2*P[be]+1]===0;be--);return ae.opt_len+=3*(be+1)+5+5+4,be}(z),X=z.opt_len+3+7>>>3,(le=z.static_len+3+7>>>3)<=X&&(X=le)):X=le=L+5,L+4<=X&&W!==-1?A(z,W,L,Z):z.strategy===4||le===X?(oe(z,2+(Z?1:0),3),q(z,M,T)):(oe(z,4+(Z?1:0),3),function(ae,be,me,Ae){var Fe;for(oe(ae,be-257,5),oe(ae,me-1,5),oe(ae,Ae-4,4),Fe=0;Fe<Ae;Fe++)oe(ae,ae.bl_tree[2*P[Fe]+1],3);ee(ae,ae.dyn_ltree,be-1),ee(ae,ae.dyn_dtree,me-1)}(z,z.l_desc.max_code+1,z.d_desc.max_code+1,ce+1),q(z,z.dyn_ltree,z.dyn_dtree)),de(z),Z&&B(z)},i._tr_tally=function(z,W,L){return z.pending_buf[z.d_buf+2*z.last_lit]=W>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&W,z.pending_buf[z.l_buf+z.last_lit]=255&L,z.last_lit++,W===0?z.dyn_ltree[2*L]++:(z.matches++,W--,z.dyn_ltree[2*(C[L]+p+1)]++,z.dyn_dtree[2*Y(W)]++),z.last_lit===z.lit_bufsize-1},i._tr_align=function(z){oe(z,2,3),se(z,_,M),function(W){W.bi_valid===16?(pe(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(z)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(o,l){if(!o.setImmediate){var c,u,d,p,h=1,m={},y=!1,f=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,c={}.toString.call(o.process)==="[object process]"?function(S){process.nextTick(function(){b(S)})}:function(){if(o.postMessage&&!o.importScripts){var S=!0,w=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=w,S}}()?(p="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",_,!1):o.attachEvent("onmessage",_),function(S){o.postMessage(p+S,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(S){b(S.data)},function(S){d.port2.postMessage(S)}):f&&"onreadystatechange"in f.createElement("script")?(u=f.documentElement,function(S){var w=f.createElement("script");w.onreadystatechange=function(){b(S),w.onreadystatechange=null,u.removeChild(w),w=null},u.appendChild(w)}):function(S){setTimeout(b,0,S)},g.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var w=new Array(arguments.length-1),N=0;N<w.length;N++)w[N]=arguments[N+1];var j={callback:S,args:w};return m[h]=j,c(h),h++},g.clearImmediate=v}function v(S){delete m[S]}function b(S){if(y)setTimeout(b,0,S);else{var w=m[S];if(w){y=!0;try{(function(N){var j=N.callback,O=N.args;switch(O.length){case 0:j();break;case 1:j(O[0]);break;case 2:j(O[0],O[1]);break;case 3:j(O[0],O[1],O[2]);break;default:j.apply(l,O)}})(w)}finally{v(S),y=!1}}}}function _(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(p)===0&&b(+S.data.slice(p.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Zn<"u"?Zn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(m2);var L5=m2.exports;const B5=fi(L5),q5=e=>(e||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"")||"product",Gh="product-images",U5=4*1024*1024,$5=({open:e,onClose:t,stockItem:r,companyId:n,canEdit:i=!0,maxPhotos:a=6,onPhotoCountChange:o})=>{const{profile:l}=Ye(),{t:c,tp:u}=qt(),[d,p]=x.useState([]),[h,m]=x.useState(!1),[y,f]=x.useState(!1),[g,v]=x.useState(""),b=(l==null?void 0:l.account_type)==="admin",_=(r==null?void 0:r.name)||(r==null?void 0:r.product_name)||"Product",S=x.useMemo(()=>q5(_),[_]),w=x.useCallback(async()=>{if(!(!e||!(r!=null&&r.id))){m(!0),v("");try{const{data:F,error:H}=await he.listProductImages(r.id);if(H)throw H;const G=await Promise.all((F||[]).map(async ie=>{const{data:J,error:Y}=await Q.storage.from(Gh).createSignedUrl(ie.storage_path,600);if(Y)throw Y;return{...ie,signedUrl:(J==null?void 0:J.signedUrl)||null}}));p(G),n&&await he.syncPhotoSubscription(n)}catch(F){console.error("fetchImages error",F),v(c("ClientStock.photosModal.errors.load"))}finally{m(!1)}}},[e,r==null?void 0:r.id]);x.useEffect(()=>{e&&w()},[e,r==null?void 0:r.id]),x.useEffect(()=>{r!=null&&r.id&&(o==null||o(d.length))},[d.length,o,r==null?void 0:r.id]);const N=()=>{v(""),p([]),t==null||t()};if(!e||!r)return null;const j=Math.max(0,a-d.length),O=u("ClientStock.photosModal.title",{name:_}),E=u("ClientStock.photosModal.count",{current:d.length,max:a}),P=c("ClientStock.photosModal.disclaimer"),M=u("ClientStock.photosModal.uploadCta",{slots:j}),T=c("ClientStock.photosModal.uploading"),$=async F=>{var J;const H=Array.from(F.target.files||[]);if(!H.length)return;v("");const G=H.slice(0,j);if(!G.length){v(c("ClientStock.photosModal.errors.limit"));return}const ie=G.find(Y=>Y.size>U5);if(ie){v(u("ClientStock.photosModal.errors.tooLarge",{name:ie.name}));return}f(!0);try{for(const Y of G){const pe=((J=Y.name.split(".").pop())==null?void 0:J.toLowerCase())||"jpg",oe=`${n||"common"}/${r.id}/${Date.now()}-${Math.random().toString(36).slice(2)}.${pe}`,{error:se}=await Q.storage.from(Gh).upload(oe,Y,{cacheControl:"3600",upsert:!1,contentType:Y.type||"image/jpeg"});if(se)throw se;const{error:_e}=await he.addProductImage({stock_item_id:r.id,storage_path:oe,uploaded_by:(l==null?void 0:l.id)||null});if(_e)throw _e}await w(),n&&await he.handlePhotoUploadBilling({companyId:n,uploadedByAdmin:b,uploadedCount:G.length,stockItemName:_,stockItemAsin:(r==null?void 0:r.asin)||null})}catch(Y){console.error("upload error",Y),v(c("ClientStock.photosModal.errors.upload"))}finally{f(!1),F.target.value=""}},C=async F=>{if(i)try{await Q.storage.from(Gh).remove([F.storage_path]);const{error:H}=await he.deleteProductImage(F.id);if(H)throw H;p(G=>G.filter(ie=>ie.id!==F.id)),n&&await he.syncPhotoSubscription(n)}catch(H){console.error("delete error",H),v(c("ClientStock.photosModal.errors.delete"))}},U=F=>{const H=document.createElement("a");H.href=F.signedUrl,H.download=`${S}-${F.id}.jpg`,H.target="_blank",H.rel="noreferrer",H.click()},K=async()=>{if(d.length){v("");try{const F=new B5;for(let G=0;G<d.length;G+=1){const ie=d[G],Y=await(await fetch(ie.signedUrl)).blob(),pe=Y.type.split("/")[1]||"jpg";F.file(`${S}-${G+1}.${pe}`,Y)}const H=await F.generateAsync({type:"blob"});c2.saveAs(H,`${S}-photos.zip`)}catch(F){console.error("zip download error",F),v(c("ClientStock.photosModal.errors.zip"))}}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4",onClick:N,children:s.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden",onClick:F=>F.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-text-primary flex items-center gap-2",children:[s.jsx(_F,{className:"w-5 h-5"})," ",O]}),s.jsx("p",{className:"text-sm text-text-secondary",children:E}),s.jsx("p",{className:"text-[13px] text-text-secondary mt-1 leading-relaxed whitespace-pre-line",children:P})]}),s.jsx("button",{onClick:N,className:"text-text-secondary hover:text-text-primary",children:s.jsx(yr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"px-6 py-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[g&&s.jsx("div",{className:"border border-red-200 bg-red-50 text-red-700 rounded-md px-4 py-2 text-sm",children:g}),i&&s.jsxs("div",{className:"border-2 border-dashed rounded-xl p-4 flex flex-col items-center text-center",children:[s.jsx(By,{className:"w-6 h-6 text-text-secondary"}),s.jsx("p",{className:"text-sm mt-2 text-text-secondary",children:M}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,disabled:j===0||y,onChange:$,className:"mt-3"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:K,disabled:!d.length,className:"inline-flex items-center gap-2 px-3 py-2 border rounded text-sm disabled:opacity-50",children:[s.jsx(Kl,{className:"w-4 h-4"})," ",c("ClientStock.photosModal.downloadAll")]}),y&&s.jsx("span",{className:"text-xs text-text-secondary",children:T})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:h?s.jsx("div",{className:"col-span-full flex justify-center py-10 text-text-secondary",children:c("ClientStock.photosModal.loading")}):d.length===0?s.jsx("p",{className:"col-span-full text-sm text-text-secondary text-center",children:c("ClientStock.photosModal.empty")}):d.map((F,H)=>s.jsxs("div",{className:"border rounded-lg overflow-hidden bg-gray-50",children:[F.signedUrl?s.jsx("img",{src:F.signedUrl,alt:`Photo ${H+1}`,className:"w-full h-40 object-cover"}):s.jsx("div",{className:"w-full h-40 flex items-center justify-center text-sm text-text-secondary",children:c("ClientStock.photosModal.previewUnavailable")}),s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-white text-sm",children:[s.jsxs("button",{onClick:()=>U(F),className:"inline-flex items-center gap-1 text-primary",children:[s.jsx(Kl,{className:"w-4 h-4"})," ",c("ClientStock.photosModal.download")]}),i&&s.jsxs("button",{onClick:()=>C(F),className:"inline-flex items-center gap-1 text-red-500",children:[s.jsx(Nt,{className:"w-4 h-4"})," ",c("ClientStock.photosModal.remove")]})]})]},F.id))})]})]})})},Ht={title:"Manual inventory intake",subtitle:"Add placeholders manually or upload the template with EAN/ASIN, product name and (optional) purchase price. Quantities will sync automatically once Amazon sends the listing.",manualTitle:"Manual entry",eanLabel:"EAN/ASIN *",nameLabel:"Product Name *",priceLabel:"Purchase price ()",addLine:"Add line",uploadTitle:"Import from XLSX/CSV",uploadHint:"Required columns: EAN/ASIN and Product Name. Purchase price is optional.",template:"Download template",previewTitle:"Pending lines",empty:"No pending lines yet.",remove:"Remove",addInventory:"Add to inventory",errors:{missingFields:"Fill code and product name before adding the line.",invalidCode:"Enter a valid EAN or ASIN.",invalidPrice:"Enter a valid price (e.g. 12.50).",fileType:"Please upload a .xlsx or .csv file.",fileHeaders:"Missing required columns. Expected headers: EAN/ASIN and Product Name.",fileRows:"No valid rows were detected in the file.",save:"Unable to add products: {msg}"},success:"{count} placeholders added to inventory."},V5=e=>String(e||"").replace(/[^a-z0-9]/gi,"").toLowerCase(),xw=()=>{var e,t;return(((t=(e=globalThis.crypto)==null?void 0:e.randomUUID)==null?void 0:t.call(e))??Math.random().toString(36).slice(2,10)).toString()},Zd=(e,t)=>e?`${t}:${String(e).trim().toUpperCase()}`:null,bw=e=>{const t=he==null?void 0:he.validateEAN,r=String(e||"").trim();if(!r)return null;if(typeof t=="function"){const n=t(r);return n!=null&&n.valid?n.type==="ASIN"?{asin:n.formatted}:{ean:n.formatted}:null}return{ean:r}},_w=e=>{const t=String(e||"").trim();if(!t)return null;const r=Number(t.replace(",","."));return Number.isFinite(r)?Number(r.toFixed(2)):null},W5=async(e=Ht)=>{const t={...Ht,...e},r=d=>String(d||"").replace(" *",""),n=await sm(()=>import("./xlsx-D_0l8YDs.js"),[]),i=n.utils.aoa_to_sheet([[r(t.eanLabel),r(t.nameLabel),r(t.priceLabel)]]),a=n.utils.book_new();n.utils.book_append_sheet(a,i,"Template");const o=n.write(a,{bookType:"xlsx",type:"array"}),l=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download="product-intake-template.xlsx",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)},Zh=(e,t)=>{t&&(t.ean&&e.set(Zd(t.ean,"EAN"),t),t.asin&&e.set(Zd(t.asin,"ASIN"),t))};function K5({companyId:e,userId:t,createdBy:r,existingRows:n=[],onComplete:i,onError:a,labels:o=Ht}){const l=x.useMemo(()=>({...Ht,...o,errors:{...Ht.errors,...(o==null?void 0:o.errors)||{}}}),[o]),[c,u]=x.useState({code:"",name:"",price:""}),[d,p]=x.useState([]),[h,m]=x.useState(""),[y,f]=x.useState(""),[g,v]=x.useState(!1),b=x.useMemo(()=>{const E=new Map;return n.forEach(P=>Zh(E,P)),E},[n]),_=()=>{var U,K,F;f("");const{code:E,name:P,price:M}=c;if(!E.trim()||!P.trim()){f(((U=l.errors)==null?void 0:U.missingFields)||Ht.errors.missingFields);return}const T=bw(E);if(!T){f(((K=l.errors)==null?void 0:K.invalidCode)||Ht.errors.invalidCode);return}let $=null;if(M.trim()&&($=_w(M),$==null)){f(((F=l.errors)==null?void 0:F.invalidPrice)||Ht.errors.invalidPrice);return}const C={id:xw(),name:P.trim(),...T,price:$};p(H=>[...H,C]),u({code:"",name:"",price:""}),m("")},S=E=>{var P;if(!E.length){f(((P=l.errors)==null?void 0:P.fileRows)||Ht.errors.fileRows);return}p(M=>[...M,...E]),m(`${E.length} ${E.length===1?"line":"lines"} ready`),f("")},w=async E=>{var T,$,C,U,K;const P=(T=E.target.files)==null?void 0:T[0];if(!P)return;if(E.target.value="",!/\.(xlsx|xls|csv)$/i.test(P.name)){f((($=l.errors)==null?void 0:$.fileType)||Ht.errors.fileType);return}try{const F=await sm(()=>import("./xlsx-D_0l8YDs.js"),[]),H=await P.arrayBuffer(),G=F.read(H,{type:"array"}),ie=G.Sheets[G.SheetNames[0]],J=F.utils.sheet_to_json(ie,{header:1,blankrows:!1});if(!J.length){f(((C=l.errors)==null?void 0:C.fileRows)||Ht.errors.fileRows);return}const Y=J.shift().map(V5),pe=Y.findIndex(te=>te.includes("ean")||te.includes("asin")||te.includes("sku")),oe=Y.findIndex(te=>te.includes("product")&&te.includes("name")),se=Y.findIndex(te=>te.includes("price"));if(pe===-1||oe===-1){f(((U=l.errors)==null?void 0:U.fileHeaders)||Ht.errors.fileHeaders);return}const _e=[];J.forEach(te=>{var q;const de=te[pe],B=te[oe];if(!de||!B)return;const I=bw(de);if(!I)return;let R=null;if(se!==-1){const re=te[se];if(re!=null&&String(re).trim()&&(R=_w(re),R==null)){f(((q=l.errors)==null?void 0:q.invalidPrice)||Ht.errors.invalidPrice),R=null;return}}_e.push({id:xw(),name:String(B).trim(),...I,price:R})}),S(_e)}catch(F){f(F.message||(((K=l.errors)==null?void 0:K.fileRows)??Ht.errors.fileRows))}},N=E=>{p(P=>P.filter(M=>M.id!==E))},j=async(E,P)=>{const M=E.ean?Zd(E.ean,"EAN"):E.asin?Zd(E.asin,"ASIN"):null,T=M?P.get(M):null;if(T){const F={};!T.name&&E.name&&(F.name=E.name),E.ean&&!T.ean&&(F.ean=E.ean),E.asin&&!T.asin&&(F.asin=E.asin),E.price!=null&&Number(E.price)!==Number(T.purchase_price??null)&&(F.purchase_price=E.price),Object.keys(F).length&&await Q.from("stock_items").update(F).eq("id",T.id);const H={...T,...F};return Zh(P,H),{type:"update",row:H}}const $={company_id:e||null,user_id:e?null:t||null,ean:E.ean||null,asin:E.asin||null,name:E.name,qty:0,purchase_price:E.price??null},{data:C,error:U}=await Q.from("stock_items").insert($).select().single();if(U)throw U;const K=C;return Zh(P,K),{type:"insert",row:K}},O=async()=>{var E,P,M;if(d.length){if(!e&&!t){f("Missing account context.");return}v(!0),f(""),m("");try{const T=d.length,$=new Map(b),C=[];for(const H of d){const G=await j(H,$);C.push(G)}p([]);const U=C.filter(H=>H.type==="insert").map(H=>H.row),K=C.filter(H=>H.type==="update").map(H=>H.row),F=((E=l.success)==null?void 0:E.replace("{count}",T))||Ht.success.replace("{count}",T);m(F),i==null||i({inserted:U,updated:K,count:T})}catch(T){const $=((M=(P=l.errors)==null?void 0:P.save)==null?void 0:M.replace("{msg}",T.message))||Ht.errors.save.replace("{msg}",T.message);f($),a==null||a($)}finally{v(!1)}}};return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-5 shadow-sm",children:[s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-text-primary",children:l.title}),s.jsx("p",{className:"text-sm text-text-secondary max-w-2xl",children:l.subtitle})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>W5(l),className:"inline-flex items-center gap-2 rounded-lg border px-3 py-2 text-sm text-text-primary hover:bg-gray-50",children:[s.jsx(mF,{className:"w-4 h-4"}),l.template]}),s.jsxs("label",{className:"inline-flex items-center gap-2 rounded-lg bg-primary text-white px-3 py-2 text-sm font-semibold cursor-pointer hover:bg-primary-dark",children:[s.jsx(By,{className:"w-4 h-4"}),l.uploadTitle,s.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",className:"sr-only",onChange:w})]})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold text-text-secondary",children:l.manualTitle}),s.jsxs("div",{className:"grid gap-3 [grid-template-columns:1fr] md:[grid-template-columns:1.1fr_1.8fr_1.1fr_auto] md:items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary",children:l.eanLabel}),s.jsx("input",{className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",placeholder:l.eanLabel,value:c.code,onChange:E=>u(P=>({...P,code:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary",children:l.nameLabel}),s.jsx("input",{className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",placeholder:l.nameLabel,value:c.name,onChange:E=>u(P=>({...P,name:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary",children:l.priceLabel}),s.jsx("input",{className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",placeholder:l.priceLabel,value:c.price,onChange:E=>u(P=>({...P,price:E.target.value}))})]}),s.jsxs("button",{type:"button",onClick:_,className:"inline-flex items-center justify-center rounded-lg border border-primary text-primary px-3 py-2 text-sm font-semibold hover:bg-primary hover:text-white transition-colors md:self-end",children:[s.jsx(rn,{className:"w-4 h-4 mr-1"}),l.addLine]})]})]}),s.jsx("p",{className:"mt-3 text-xs text-text-secondary",children:l.uploadHint}),s.jsxs("div",{className:"mt-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-text-primary",children:l.previewTitle}),s.jsxs("span",{className:"text-xs text-text-secondary",children:[d.length," lines"]})]}),s.jsx("div",{className:"overflow-x-auto border rounded-xl",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-left text-xs uppercase tracking-wide text-gray-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 w-1/4",children:l.eanLabel}),s.jsx("th",{className:"px-3 py-2",children:l.nameLabel}),s.jsx("th",{className:"px-3 py-2 text-right w-32",children:l.priceLabel}),s.jsx("th",{className:"px-3 py-2 w-16 text-center"})]})}),s.jsxs("tbody",{children:[d.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-3 py-4 text-sm text-text-secondary",colSpan:4,children:l.empty})}),d.map(E=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:E.ean||E.asin||""}),s.jsx("td",{className:"px-3 py-2",children:E.name}),s.jsx("td",{className:"px-3 py-2 text-right font-mono text-xs",children:E.price!=null?E.price.toFixed(2):""}),s.jsx("td",{className:"px-3 py-2 text-center",children:s.jsx("button",{type:"button",onClick:()=>N(E.id),className:"text-red-500 hover:text-red-600",title:l.remove,children:s.jsx(Nt,{className:"w-4 h-4"})})})]},E.id))]})]})})]}),s.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("div",{className:"flex-1 text-xs text-green-700",children:h}),y&&s.jsx("div",{className:"flex-1 text-xs text-red-600",children:y}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:O,disabled:d.length===0||g,className:"inline-flex items-center justify-center rounded-lg bg-primary text-white px-4 py-2 text-sm font-semibold disabled:opacity-60",children:g?"Saving":l.addInventory})})]})]})}function H5({section:e="stock",t,tp:r}){const n=["fr","en","de","it","es","ro"],[i,a]=x.useState(!1),o=async l=>{try{const c=`${e}/${l}.pdf`,{data:u,error:d}=await Q.storage.from("user_guides").createSignedUrl(c,60);if(d)throw d;window.open(u.signedUrl,"_blank","noopener,noreferrer"),a(!1)}catch{alert(r("ClientStock.guides.error",{lang:l.toUpperCase(),msg:supportError}))}};return s.jsxs("div",{className:"relative inline-flex",children:[s.jsxs("button",{onClick:()=>a(l=>!l),className:"inline-flex items-center gap-1 rounded-md border border-primary px-2.5 py-1 text-xs font-semibold uppercase tracking-wide text-primary hover:bg-primary hover:text-white transition-colors",children:[s.jsx(Qp,{className:"w-3 h-3"}),t("ClientStock.guides.button"),s.jsx(qj,{className:"w-3 h-3 opacity-80"})]}),i&&s.jsx("div",{className:"absolute z-10 right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg",children:n.map(l=>s.jsx("button",{onClick:async()=>{await o(l),a(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-50",children:l.toUpperCase()},l))})]})}const rx=[{value:"ALL",label:"All"},{value:"BE",label:"Belgium"},{value:"FR",label:"France"},{value:"DE",label:"Germany"},{value:"IE",label:"Ireland"},{value:"IT",label:"Italy"},{value:"NL",label:"Netherlands"},{value:"PL",label:"Poland"},{value:"ES",label:"Spain"},{value:"SE",label:"Sweden"},{value:"GB",label:"United Kingdom"}],h2=rx.reduce((e,t)=>(e[t.value]=t.label,e),{}),G5=e=>{if(!e)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}catch{return String(e)}},Z5=50,Q5=["FR","DE","IT","ES","UK"],Y5=[{code:"UPS",label:"UPS"},{code:"DHL",label:"DHL"},{code:"GLS",label:"GLS"},{code:"CHRONOPOST",label:"Chronopost"},{code:"COLISSIMO",label:"Colissimo"},{code:"DPD",label:"DPD"},{code:"OTHER",label:"Other"}],X5=({row:e,t})=>{const r=Number(e.amazon_stock??0),n=Number(e.amazon_inbound??0),i=Number(e.amazon_reserved??0),a=Number(e.amazon_unfulfillable??0),o=l=>s.jsx("span",{className:"text-[#008296] font-semibold",children:Number.isFinite(l)?l:0});return s.jsx("div",{className:"border rounded-xl p-1.5 text-[11px] leading-5 text-gray-600 bg-white shadow-inner min-w-[130px]",children:s.jsxs("div",{className:"mt-1 space-y-0.5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:t("ClientStock.inventory.available")}),o(r)]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:t("ClientStock.inventory.inbound")}),o(n)]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:t("ClientStock.inventory.unfulfillable")}),o(a)]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:t("ClientStock.inventory.reserved")}),o(i)]})]})})},J5=({stats:e,refreshedAt:t,countryLabel:r,t:n})=>{const i={payment:(e==null?void 0:e.payment)??0,shipped:(e==null?void 0:e.shipped)??0,pending:(e==null?void 0:e.pending)??0,refund:(e==null?void 0:e.refund)??0},a=Math.max((i.shipped??0)-(i.pending??0),0),o=[{key:"refund",label:n("ClientStock.sales.status.refund"),value:i.refund}];return s.jsxs("div",{className:"border rounded-xl p-1.5 text-[11px] leading-5 text-gray-600 bg-white shadow-inner min-w-[130px] max-w-[160px]",children:[s.jsxs("div",{className:"flex items-center justify-between text-[10px] uppercase font-semibold text-gray-500",children:[s.jsx("span",{children:n("ClientStock.sales.last30")}),s.jsx("span",{className:"text-gray-700 normal-case",children:r})]}),s.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:n("ClientStock.sales.total")}),s.jsx("span",{className:"text-[#008296] font-semibold",children:Number.isFinite(a)?a:0})]}),s.jsx("div",{className:"mt-1 space-y-0.5",children:o.map(l=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:l.label}),s.jsx("span",{className:"text-[#008296] font-semibold",children:Number.isFinite(l.value)?l.value:0})]},l.key))}),t&&s.jsx("div",{className:"mt-1 text-[10px] text-gray-400",children:n("ClientStock.sales.updated",{time:G5(t)})})]})},ww=()=>({destinationCountry:"FR",carrier:"",carrierOther:"",trackingIds:[],notes:"",fbaMode:"none"}),Qh=e=>Array.isArray(e)?e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t.length>0):[],eB=e=>{if(!e)return"ALL";const t=e.toUpperCase();if(h2[t])return t;const r=rx.find(n=>n.label.toLowerCase()===e.toLowerCase());return r?r.value:"ALL"},tB=(e=[])=>{const t={};return e.forEach(r=>{const n=(r.asin||r.sku||"").toUpperCase();if(!n)return;const i=eB(r.country);if(!t[n])t[n]={refreshed_at:r.refreshed_at||null,countries:{}};else if(r.refreshed_at){const a=t[n].refreshed_at?new Date(t[n].refreshed_at).getTime():0;new Date(r.refreshed_at).getTime()>a&&(t[n].refreshed_at=r.refreshed_at)}t[n].countries[i]={total:Number(r.total_units)||0,payment:Number(r.payment_units)||0,shipped:Number(r.shipped_units)||0,pending:Number(r.pending_units)||0,refund:Number(r.refund_units)||0}}),Object.keys(t).forEach(r=>{const n=t[r];if(!n.countries.ALL){const i={total:0,payment:0,shipped:0,pending:0,refund:0};Object.entries(n.countries).forEach(([a,o])=>{a!=="ALL"&&(i.total+=o.total,i.payment+=o.payment,i.shipped+=o.shipped,i.pending+=o.pending,i.refund+=o.refund)}),n.countries.ALL=i}}),t};function rB({list:e=[],max:t=1,t:r}){const[n,i]=Zt.useState(!1);if(!Array.isArray(e)||e.length===0)return s.jsx("span",{children:""});const a=n?e:e.slice(0,t),o=Math.max(0,e.length-t);return s.jsxs("div",{className:n?"flex flex-col gap-1":"flex items-center gap-2 flex-wrap",children:[a.map(l=>s.jsx("span",{className:"px-2 py-0.5 text-xs rounded border font-mono",title:l.created_at?`added: ${String(l.created_at).slice(0,10)}`:"",children:l.tracking_id},l.id??l.tracking_id)),!n&&o>0&&s.jsx("button",{className:"text-xs underline",onClick:()=>i(!0),children:r("ClientStock.drawer.handle.showMore").replace("{n}",String(o))}),n&&e.length>t&&s.jsx("button",{className:"text-xs underline",onClick:()=>i(!1),children:r("ClientStock.drawer.handle.showLess")})]})}function f2({profileOverride:e=null,statusOverride:t=null,hideGuides:r=!1,storagePrefixOverride:n=null,enableIdentifierEdit:i=!1,enableQtyAdjust:a=!1}={}){var Yb;const{t:o,tp:l}=qt(),c=o("common.supportError"),u=o("ClientStock.priceColumn.note"),d=Ye(),p=e??d.profile,h=t??d.status,[m,y]=x.useState(null),[f,g]=x.useState(null);x.useEffect(()=>{if(!m)return;const V=setTimeout(()=>y(null),6e3);return()=>clearTimeout(V)},[m]);const v=x.useMemo(()=>({title:o("ClientStock.quickAdd.title"),subtitle:o("ClientStock.quickAdd.subtitle"),manualTitle:o("ClientStock.quickAdd.manualTitle"),eanLabel:o("ClientStock.quickAdd.eanLabel"),nameLabel:o("ClientStock.quickAdd.nameLabel"),priceLabel:o("ClientStock.quickAdd.priceLabel"),addLine:o("ClientStock.quickAdd.addLine"),uploadTitle:o("ClientStock.quickAdd.uploadTitle"),uploadHint:o("ClientStock.quickAdd.uploadHint"),template:o("ClientStock.quickAdd.template"),previewTitle:o("ClientStock.quickAdd.previewTitle"),empty:o("ClientStock.quickAdd.empty"),remove:o("ClientStock.quickAdd.remove"),addInventory:o("ClientStock.quickAdd.addInventory"),errors:{missingFields:o("ClientStock.quickAdd.errors.missingFields"),invalidCode:o("ClientStock.quickAdd.errors.invalidCode"),invalidPrice:o("ClientStock.quickAdd.errors.invalidPrice"),qty:o("ClientStock.quickAdd.errors.qty"),fileType:o("ClientStock.quickAdd.errors.fileType"),fileHeaders:o("ClientStock.quickAdd.errors.fileHeaders"),fileRows:o("ClientStock.quickAdd.errors.fileRows"),save:o("ClientStock.quickAdd.errors.save")},success:o("ClientStock.quickAdd.success")}),[o]),b=x.useMemo(()=>n||(p!=null&&p.company_id?`client-stock-${p.company_id}`:p!=null&&p.id?`client-stock-user-${p.id}`:"client-stock"),[p==null?void 0:p.company_id,p==null?void 0:p.id,n]),[_,S]=x.useState([]),[w,N]=x.useState(!0),[j,O]=x.useState({}),[E,P]=x.useState({}),[M,T]=x.useState({}),[$,C]=bt(`${b}-salesCountry`,"ALL"),[U,K]=bt(`${b}-showPriceColumn`,!1),[F]=bt(`${b}-searchField`,"EAN"),[H]=bt(`${b}-searchQuery`,""),[G]=bt(`${b}-stockFilter`,"all"),[ie,J]=bt(`${b}-productSearch`,""),[Y,pe]=bt(`${b}-sortMode`,"amazon"),[oe,se]=bt(`${b}-selectedIds`,[]),_e=x.useMemo(()=>new Set(Array.isArray(oe)?oe:[]),[oe]),te=x.useCallback(V=>{se(ne=>{const ve=new Set(Array.isArray(ne)?ne:[]);return V(ve),Array.from(ve)})},[se]),[de,B]=bt(`${b}-page`,1),[I,R]=bt(`${b}-perPage`,Z5),[q,re]=x.useState({open:!1,id:null,value:""}),[k,ee]=bt(`${b}-submitType`,"reception"),[D,A]=x.useState(!1),[z,W]=x.useState(!1),L=x.useCallback(async(V,ne,ve,fe)=>{var ge;if(fe)try{if((ge=navigator==null?void 0:navigator.clipboard)!=null&&ge.writeText)await navigator.clipboard.writeText(fe);else{const Se=document.createElement("textarea");Se.value=fe,document.body.appendChild(Se),Se.select(),document.execCommand("copy"),document.body.removeChild(Se)}const ye=Date.now();g({rowId:ne,field:ve,key:ye}),setTimeout(()=>{g(Se=>(Se==null?void 0:Se.key)===ye?null:Se)},1500)}catch{y({type:"error",text:o("ClientStock.copyError")})}},[o]),[Z,X]=x.useState(!1),[le,ce]=x.useState(!1),[ae,be]=x.useState(!1),[me,Ae]=x.useState(null),[Fe,Xe]=x.useState([]),[He,qe]=x.useState([]),[Ie,jn]=x.useState(!1),[qr,br]=x.useState(""),[To,zo]=x.useState(""),[Ue,Wn]=bt(`${b}-receptionForm`,ww()),[An,Si]=x.useState(null),[ns,Rc]=x.useState({}),[Ub,Hm]=x.useState(""),[$b,Dc]=x.useState(!1),kz=x.useCallback(({inserted:V=[],updated:ne=[],count:ve=0})=>{S(ge=>{const ye=new Map(ne.map(Ce=>[Ce.id,Ce]));let Se=ge.map(Ce=>ye.has(Ce.id)?{...Ce,...ye.get(Ce.id)}:Ce);return V.length&&(Se=[...V,...Se]),Se}),V.length&&O(ge=>{const ye={...ge};return V.forEach(Se=>{ye[Se.id]={name:Se.name||"",asin:Se.asin||"",product_link:Se.product_link||"",purchase_price:Se.purchase_price!=null?String(Se.purchase_price):"",sku:Se.sku||"",units_to_send:0,fba_units:0}}),ye});const fe=(v.success||"").replace("{count}",String(ve));y({type:"success",text:fe})},[v.success,O]),jz=x.useCallback(V=>y({type:"error",text:V}),[]);x.useEffect(()=>{let V=!0;async function ne(){if(!(p!=null&&p.id)){S([]),N(!1);return}N(!0);let ve=Q.from("stock_items").select("*");p!=null&&p.company_id?ve=ve.eq("company_id",p.company_id):ve=ve.eq("user_id",p.id);const{data:fe,error:ge}=await ve.order("created_at",{ascending:!1});if(!V)return;const ye=ge?[]:Array.isArray(fe)?fe:[];S(ye),N(!1);const Se={};for(const Ce of ye)Se[Ce.id]={name:Ce.name||"",asin:Ce.asin||"",ean:Ce.ean||"",product_link:Ce.product_link||"",purchase_price:Ce.purchase_price!=null?String(Ce.purchase_price):"",sku:Ce.sku||"",units_to_send:0,fba_units:0};if(O(Se),P({}),ye.length>0)try{const Ce=ye.map(ur=>ur.id),{data:Ne,error:Me}=await Q.from("product_images").select("stock_item_id").in("stock_item_id",Ce);if(Me)throw Me;const Be={};(Ne||[]).forEach(ur=>{Be[ur.stock_item_id]=(Be[ur.stock_item_id]||0)+1}),Rc(Be)}catch{Rc({})}else Rc({});try{let Ce=Q.from("amazon_sales_30d").select("asin, sku, country, total_units, pending_units, shipped_units, payment_units, refund_units, refreshed_at");p!=null&&p.company_id?Ce=Ce.eq("company_id",p.company_id):Ce=Ce.eq("user_id",(p==null?void 0:p.id)||null);const{data:Ne,error:Me}=await Ce;if(Me)throw Me;T(tB(Ne||[]))}catch{T({})}}return h!=="loading"&&ne(),()=>{V=!1}},[h,p==null?void 0:p.company_id]),x.useEffect(()=>{const V=new Set(_.map(ne=>ne.id));se(ne=>{const ve=Array.isArray(ne)?ne:[],fe=ve.filter(ge=>V.has(ge));return fe.length===ve.length?ne:fe})},[_,se]);const Ur=x.useCallback(V=>String(V||"").toLowerCase(),[]),ln=x.useCallback((V,ne)=>{if(!V||!ne)return 0;const ve=V.indexOf(ne);if(ve===-1)return 0;const fe=V.startsWith(ne)?40:0,ge=Math.max(0,60-ve*5),ye=Math.max(0,20-Math.abs(V.length-ne.length));return fe+ge+ye},[]),Lc=x.useMemo(()=>{const V=Ur(H).trim();if(!V)return _;const ne=V.split(/\s+/).filter(Boolean);return _.map(fe=>{let ge=0;if(F==="EAN")ge=ln(Ur(fe.ean),V);else if(F==="ASIN_SKU")ge=Math.max(ln(Ur(fe.asin),V),ln(Ur(fe.sku),V));else{const ye=Ur(fe.name);if(ne.length===0)ge=ln(ye,V);else{let Se=0;for(const Ce of ne){const Ne=ln(ye,Ce);if(Ne===0){Se=0;break}Se+=Ne}ge=Se}}return{row:fe,score:ge}}).filter(({score:fe})=>fe>0).sort((fe,ge)=>ge.score-fe.score).map(({row:fe})=>fe)},[_,F,H,ln,Ur]),Gm=x.useMemo(()=>G==="all"?Lc:G==="in"?Lc.filter(V=>Number(V.qty||0)>0):Lc.filter(V=>Number(V.qty||0)===0),[Lc,G]),Zm=x.useMemo(()=>{const V=Ur(ie).trim();if(V){const ge=V.split(/\s+/).filter(Boolean);return Gm.map(Se=>{const Ce=[Ur(Se.name),Ur(Se.asin),Ur(Se.sku),Ur(Se.ean)],Ne=ge.length?ge:[V];let Me=0;for(const Be of Ne){const ur=Math.max(ln(Ce[0],Be),ln(Ce[1],Be)*2,ln(Ce[2],Be)*2,ln(Ce[3],Be)*2);if(ur===0){Me=0;break}Me+=ur}return{row:Se,score:Me}}).filter(({score:Se})=>Se>0).sort((Se,Ce)=>Ce.score-Se.score).map(({row:Se})=>Se)}let ne=[...Gm];if(Y==="prep"?ne.sort((ge,ye)=>Number(ye.qty||0)-Number(ge.qty||0)):Y==="amazon"&&ne.sort((ge,ye)=>Number(ye.amazon_stock||0)-Number(ge.amazon_stock||0)),G!=="all")return ne;const ve=ne.filter(ge=>Number(ge.qty||0)>0),fe=ne.filter(ge=>Number(ge.qty||0)<=0);return[...ve,...fe]},[Gm,ie,Y,G,ln,Ur]),Bc=Math.max(1,Math.ceil(Zm.length/I)),Oo=Math.min(de,Bc),Io=x.useMemo(()=>{const V=(Oo-1)*I;return Zm.slice(V,V+I)},[Zm,Oo,I]),Vb=Io.length>0&&Io.every(V=>_e.has(V.id)),Az=()=>{te(V=>{Vb?Io.forEach(ne=>V.delete(ne.id)):Io.forEach(ne=>V.add(ne.id))})},Cz=V=>{te(ne=>{ne.has(V)?ne.delete(V):ne.add(V)})},is=x.useMemo(()=>_.filter(V=>_e.has(V.id)),[_,_e]);x.useEffect(()=>{a&&P({})},[a,_]);const qc=(V,ne)=>{O(ve=>{const fe=ve[V]||{},ge={...fe,...ne};if(Object.prototype.hasOwnProperty.call(ne,"units_to_send")){const ye=Math.max(0,Number(ne.units_to_send)||0);if(ge.units_to_send=ye,Ue.fbaMode==="full")ge.fba_units=ye;else if(Ue.fbaMode==="partial"){const Se=Math.max(0,Number(fe.units_to_send||0)),Ce=Object.prototype.hasOwnProperty.call(fe,"fba_units"),Ne=Math.max(0,Number(fe.fba_units||0));(!Ce||Ne===Se||Ne>ye)&&(ge.fba_units=ye)}else ge.fba_units=0}if(Object.prototype.hasOwnProperty.call(ne,"fba_units")){const ye=Math.max(0,Number(ge.units_to_send||0));let Se=Math.max(0,Number(ne.fba_units)||0);Se>ye&&(Se=ye),ge.fba_units=Se}return{...ve,[V]:ge}})},Wb=x.useCallback(()=>{se([]),O(V=>{const ne={...V};return _.forEach(ve=>{ne[ve.id]={...ne[ve.id]||{},units_to_send:0,fba_units:0}}),ne})},[_,se]),[Uc,Kb]=x.useState(null),Qm=(V,ne)=>{Wn(ve=>({...ve,[V]:ne}))};x.useEffect(()=>{Ue!=null&&Ue.destinationCountry||Wn(V=>({...V,destinationCountry:"FR"}))},[Ue==null?void 0:Ue.destinationCountry,Wn]);const Ym=V=>{Wn(ne=>({...ne,fbaMode:V})),V==="full"||V==="none"?O(ne=>{const ve={...ne};return is.forEach(fe=>{const ge=ve[fe.id]||{},ye=Math.max(0,Number(ge.units_to_send||0));ve[fe.id]={...ge,fba_units:V==="full"?ye:0}}),ve}):V==="partial"&&O(ne=>{const ve={...ne};return is.forEach(fe=>{const ge=ve[fe.id]||{},ye=Math.max(0,Number(ge.units_to_send||0));ve[fe.id]={...ge,fba_units:Object.prototype.hasOwnProperty.call(ge,"fba_units")&&Number(ge.fba_units||0)!==0?Math.min(Number(ge.fba_units||0),ye):ye}}),ve})},Ni=x.useMemo(()=>Qh(Ue.trackingIds||[]),[Ue.trackingIds]),Pz=V=>Hm(V),Hb=()=>{const V=Ub.trim();V&&(Wn(ne=>{const ve=Qh(ne.trackingIds||[]);return ve.includes(V)?ne:{...ne,trackingIds:[...ve,V]}}),Hm(""),Dc(!0))},Ez=V=>{Wn(ne=>{const fe=Qh(ne.trackingIds||[]).filter((ge,ye)=>ye!==V);return{...ne,trackingIds:fe}})};x.useEffect(()=>{Ni.length===0&&Dc(!1)},[Ni.length]);const Tz=()=>{Wn(()=>ww()),Dc(!1),Hm("")},zz=async(V,ne)=>{var Me;const ve=Array.isArray(ne.tracking_ids)?ne.tracking_ids:[],fe=ne.tracking_id?[ne.tracking_id]:[],ge=ve.length?ve:fe,ye=(p==null?void 0:p.full_name)||[p==null?void 0:p.first_name,p==null?void 0:p.last_name].filter(Boolean).join(" ").trim()||(p==null?void 0:p.store_name)||null,Se=((Me=d==null?void 0:d.user)==null?void 0:Me.email)||(p==null?void 0:p.email)||null,Ce=(ne.items||[]).map(Be=>({asin:Be.asin||null,ean:Be.ean||null,sku:Be.sku||null,product_name:Be.product_name||null,quantity:Be.units_requested||null})),{error:Ne}=await Q.functions.invoke("send_inbound_confirm_email",{body:{shipment_id:(V==null?void 0:V.id)||null,client_email:Se,client_name:ye,company_name:(p==null?void 0:p.company_name)||(p==null?void 0:p.store_name)||null,store_name:(p==null?void 0:p.store_name)||null,tracking_ids:ge,carrier:ne.carrier||null,notes:ne.notes||null,fba_mode:ne.fba_mode||null,destination_country:ne.destination_country||"FR",items:Ce}});if(Ne)throw Ne},Xm=(V,ne,ve)=>{P(fe=>{const ge=fe[V]||{dec:"",inc:""};return{...fe,[V]:{...ge,[ne]:ve}}})},Gb=async(V,ne)=>{const ve=E[V.id]||{},fe=String(ve[ne]||"").trim();if(!fe)return;const ge=Number(fe.replace(",","."));if(!Number.isFinite(ge)||ge<=0){Xm(V.id,ne,"");return}const ye=Number(V.qty||0),Se=ne==="dec"?Math.max(0,ye-ge):ye+ge;try{const{error:Ce}=await Q.from("stock_items").update({qty:Se}).eq("id",V.id);if(Ce)throw Ce;S(Ne=>Ne.map(Me=>Me.id===V.id?{...Me,qty:Se}:Me)),Xm(V.id,ne,""),y({type:"success",text:"Stock updated."})}catch(Ce){console.error("Adjust qty error",Ce),y({type:"error",text:c})}},Oz=V=>{if(!a)return s.jsx("span",{children:V.qty!=null?V.qty:""});const ne=E[V.id]||{dec:"",inc:""},ve=(fe,ge)=>s.jsx("input",{type:"text",inputMode:"numeric",pattern:"\\\\d*",className:`border rounded text-right px-1.5 py-1 w-14 h-[32px] text-[13px]
          [appearance:textfield]
          [&::-webkit-outer-spin-button]:appearance-none
          [&::-webkit-inner-spin-button]:appearance-none`,value:ne[fe]||"",placeholder:ge,onChange:ye=>Xm(V.id,fe,ye.target.value),onKeyDown:ye=>{ye.key==="Enter"&&(ye.preventDefault(),Gb(V,fe))},onBlur:()=>Gb(V,fe)});return s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[ve("dec","-"),s.jsx("div",{className:"min-w-[3.5rem] text-center font-semibold",children:Number(V.qty??0)}),ve("inc","+")]})},Zb=async V=>{Kb(V.id);try{const ne=j[V.id]||{},ve=ne.purchase_price===""||ne.purchase_price==null?null:Number(String(ne.purchase_price).replace(",",".")),fe={};(ne.name||"")!==(V.name||"")&&(fe.name=ne.name||null),(ne.asin||"")!==(V.asin||"")&&(fe.asin=ne.asin||null),(ne.ean||"")!==(V.ean||"")&&(fe.ean=ne.ean||null),(ne.product_link||"")!==(V.product_link||"")&&(fe.product_link=ne.product_link||null),(ne.sku||"")!==(V.sku||"")&&(fe.sku=ne.sku||null);const ge=V.purchase_price==null?null:Number(V.purchase_price);if((ve??null)!==(ge??null)&&(fe.purchase_price=ve),Object.keys(fe).length===0){y({type:"success",text:o("ClientStock.table.nothingToSave")});return}let{error:ye}=await ut.updateStockItem(V.id,fe);if(ye&&/not allowed to change name/i.test(String(ye.message))){const{name:Se,...Ce}=fe;if(Object.keys(Ce).length){const Ne=await ut.updateStockItem(V.id,Ce);if(!Ne.error){S(Me=>Me.map(Be=>Be.id===V.id?{...Be,...Ce}:Be)),y({type:"success",text:o("ClientStock.table.savedNameAdminOnly")});return}ye=Ne.error}}if(ye)throw ye;S(Se=>Se.map(Ce=>Ce.id===V.id?{...Ce,...fe}:Ce)),i&&O(Se=>{const Ne={...Se[V.id]||{}};return["asin","ean","sku","product_link","name","purchase_price"].forEach(Me=>{Object.prototype.hasOwnProperty.call(fe,Me)&&(Ne[Me]=fe[Me]==null?"":typeof fe[Me]=="number"?String(fe[Me]):fe[Me])}),{...Se,[V.id]:Ne}}),y({type:"success",text:o("ClientStock.table.saved")})}catch(ne){console.error("[SAVE ERROR]",ne),y({type:"error",text:c})}finally{Kb(null)}},Iz=(V,ne)=>{if(Ue.fbaMode==="full")return{send_to_fba:ne>0,fba_qty:ne};if(Ue.fbaMode==="partial"){const ve=j[V]||{},fe=Math.max(0,Number(ne)||0);let ye=Object.prototype.hasOwnProperty.call(ve,"fba_units")?Math.max(0,Number(ve.fba_units)||0):fe;return ye>fe&&(ye=fe),{send_to_fba:ye>0,fba_qty:ye}}return{send_to_fba:!1,fba_qty:0}},Mz=async()=>{if(is.length===0){y({type:"error",text:"Select products to announce reception."});return}const V=Ue.carrier||null,ne=Ni.filter((ye,Se,Ce)=>ye&&Ce.indexOf(ye)===Se),ve=ne[0]||null,fe={company_id:p.company_id,user_id:p.id,destination_country:(Ue.destinationCountry||"FR").toUpperCase(),carrier:V,carrier_other:V==="OTHER"&&(Ue.carrierOther||"").trim()||null,tracking_id:ve,tracking_ids:ne.length?ne:null,notes:(Ue.notes||"").trim()||null,fba_mode:Ue.fbaMode||"none",items:is.map(ye=>{var Ne;const Se=Number(((Ne=j[ye.id])==null?void 0:Ne.units_to_send)||0),Ce=Iz(ye.id,Se);return{stock_item_id:ye.id,ean:ye.ean||null,product_name:ye.name||null,asin:ye.asin||null,sku:ye.sku||null,units_requested:Se,send_to_fba:Ce.send_to_fba,fba_qty:Ce.fba_qty}}),status:"submitted"};if(fe.items.some(ye=>!ye.units_requested||ye.units_requested<1)){y({type:"error",text:"Enter valid quantities before announcing reception."});return}try{const ye=await ut.createReceptionRequest(fe);if(!(ye!=null&&ye.id))throw new Error("Missing receiving reference");y({type:"success",text:"Reception announced successfully."}),Wb(),se([]),Tz(),zz(ye,fe).catch(Se=>{console.error("notifyPrepCenterAboutReception failed",Se)})}catch(ye){console.error("Reception error:",ye),y({type:"error",text:c})}},Fz=async()=>{const V=_.filter(ge=>_e.has(ge.id));if(V.length===0){y({type:"error",text:"Select products to send to prep."});return}const ne=V.filter(ge=>Number(ge.qty||0)<=0);if(ne.length>0){y({type:"error",text:`Some selected products have no Prep Center stock available: ${ne.map(ge=>ge.name||ge.asin||ge.sku||ge.ean||"Unknown").join(", ")}`});return}const ve={company_id:p.company_id,user_id:p.id,destination_country:(Ue.destinationCountry||"FR").toUpperCase(),items:V.map(ge=>{var ye;return{stock_item_id:ge.id,ean:ge.ean||null,product_name:ge.name||null,asin:ge.asin||null,sku:ge.sku||null,units_requested:Number(((ye=j[ge.id])==null?void 0:ye.units_to_send)||0)}}),status:"pending"};if(ve.items.some(ge=>!ge.units_requested||ge.units_requested<1)){y({type:"error",text:"Enter valid quantities before sending to prep."});return}try{const{error:ge}=await ut.createPrepRequest(ve);if(ge)throw ge;y({type:"success",text:"Preparation request sent successfully."}),Wb(),se([])}catch(ge){console.error("Prep error:",ge),y({type:"error",text:c})}},Rz=async V=>{X(!0),ce(!0),qe([]);try{const{data:ne,error:ve}=await ut.getPrepRequest(V);if(ve)throw ve;Ae({id:ne.id,destination_country:ne.destination_country,status:ne.status,created_at:ne.created_at,fba_shipment_id:ne.fba_shipment_id||null,tracking:Array.isArray(ne.prep_request_tracking)?ne.prep_request_tracking:[]});const fe=Array.isArray(ne.prep_request_items)?ne.prep_request_items:[];Xe(fe.map(ge=>({id:ge.id,stock_item_id:ge.stock_item_id??null,asin:ge.asin??"",sku:ge.sku??"",units_requested:Number(ge.units_requested||0)}))),be((ne.status||"pending")==="pending")}catch{qe([c])}finally{ce(!1)}},Jm=(V,ne)=>{Xe(ve=>ve.map(fe=>fe.id===V?{...fe,...ne}:fe))},Dz=V=>{Xe(ne=>ne.filter(ve=>ve.id!==V))},Lz=V=>{const ne=V!=null&&V.stock_item_id?_.find(ve=>ve.id===V.stock_item_id):null;return{ean:(V==null?void 0:V.ean)||(ne==null?void 0:ne.ean)||""||"",name:(ne==null?void 0:ne.name)||""}},Bz=(V,ne)=>{const ve=String(ne||"").trim().toUpperCase();/^[A-Z0-9]{10}$/.test(ve)&&/[A-Z]/.test(ve)?Jm(V,{asin:ve,sku:""}):Jm(V,{sku:ne,asin:""})},qz=()=>{jn(!0),br(""),zo("")},Qb=()=>{jn(!1),br(""),zo("")},Uz=()=>{const V=String(qr||"").trim(),ne=Number(To),ve=_.find(ge=>String(ge.id)===V),fe=[];if(ve||fe.push("Select a product from stock."),(!Number.isFinite(ne)||ne<1)&&fe.push("Quantity must be at least 1."),ve&&Number(ve.qty||0)<ne&&fe.push(`Quantity exceeds available stock (${ve.qty}).`),fe.length){qe(fe);return}Xe(ge=>[...ge,{id:null,stock_item_id:ve.id,asin:ve.asin||"",sku:"",units_requested:ne}]),Qb()},$z=async()=>{if(!(me!=null&&me.id)||!ae)return;const V=[];if(Fe.forEach((ne,ve)=>{const fe=ve+1;if(!!(String(ne.asin||"").trim()||String(ne.sku||"").trim())||V.push(`Line ${fe}: ASIN or SKU is required.`),(!Number.isFinite(Number(ne.units_requested))||Number(ne.units_requested)<1)&&V.push(`Line ${fe}: quantity must be >= 1.`),ne.stock_item_id){const ye=_.find(Se=>Se.id===ne.stock_item_id);ye&&Number(ye.qty||0)<Number(ne.units_requested)&&V.push(`Line ${fe}: quantity exceeds available stock (${ye.qty}).`)}}),V.length){qe(V);return}try{ce(!0),qe([]);const{data:ne}=await ut.getPrepRequest(me.id);if(((ne==null?void 0:ne.status)||"pending")!=="pending"){be(!1),qe(["Request is no longer editable (status changed)."]);return}const ve=Array.isArray(ne==null?void 0:ne.prep_request_items)?ne.prep_request_items:[],fe={};ve.forEach(Ne=>{Ne.id&&(fe[Ne.id]=Ne)});const ge=new Set(Fe.filter(Ne=>Ne.id).map(Ne=>Ne.id)),ye=ve.filter(Ne=>!ge.has(Ne.id)),Se=Fe.filter(Ne=>!Ne.id&&(Ne.stock_item_id||Ne.product_name&&Ne.product_name.trim&&Ne.product_name.trim()||Ne.ean&&Ne.ean.trim()||Ne.asin&&Ne.asin.trim())),Ce=Fe.filter(Ne=>Ne.id&&fe[Ne.id]);for(const Ne of ye){const{error:Me}=await ut.deletePrepItem(Ne.id);if(Me)throw Me}for(const Ne of Se){const Me=_.find($c=>$c.id===Ne.stock_item_id)||{},Be=await iB(Ne,_,S,p);Be&&!Ne.stock_item_id&&(Ne.stock_item_id=Be);const ur={stock_item_id:Be||null,ean:Me.ean??Ne.ean??null,product_name:Me.name??Ne.product_name??null,asin:Ne.asin||Me.asin||null,sku:Ne.sku||Me.sku||null,units_requested:Math.max(1,Number(Ne.units_requested)||0)},{error:Mo}=await ut.createPrepItem(me.id,ur);if(Mo)throw Mo}for(const Ne of Ce){const Me=fe[Ne.id],Be={};if((Ne.asin||"")!==(Me.asin||"")&&(Be.asin=(Ne.asin||"").trim()||null),(Ne.sku||"")!==(Me.sku||"")&&(Be.sku=(Ne.sku||"").trim()||null),Number(Ne.units_requested)!==Number(Me.units_requested)&&(Be.units_requested=Number(Ne.units_requested)),Object.keys(Be).length>0){const{error:ur}=await ut.updatePrepItem(Ne.id,Be);if(ur)throw ur}}await Rz(me.id),y({type:"success",text:"Saved changes."})}catch{qe([c])}finally{ce(!1)}};return s.jsxs("div",{children:[m&&s.jsx("div",{className:`mb-3 rounded-md px-3 py-2 text-sm ${m.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:m.text}),s.jsxs("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h2",{className:"text-xl font-semibold text-text-primary whitespace-nowrap",children:o("ClientStock.title")})}),s.jsx("p",{className:"text-sm text-text-secondary",dangerouslySetInnerHTML:{__html:o("ClientStock.desc")}})]}),s.jsx("div",{className:"flex flex-col gap-1 items-stretch sm:items-end text-left sm:text-right",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-end",children:[s.jsxs("button",{onClick:()=>W(V=>!V),className:`inline-flex items-center gap-2 rounded-lg px-3 py-1.5 text-sm font-semibold shadow transition-colors ${z?"bg-primary text-white":"bg-[#ffb703] text-[#4f2a00] hover:bg-[#ff9f00]"}`,children:[s.jsx(rn,{className:"w-4 h-4"}),o("ClientStock.createProduct.button")]}),!r&&s.jsx(H5,{t:o,tp:l}),s.jsx("button",{type:"button","aria-pressed":U,onClick:()=>K(V=>!V),className:`inline-flex items-center rounded-md border px-3 py-1.5 text-xs font-semibold transition-colors ${U?"bg-primary text-white border-primary":"text-primary border-primary hover:bg-primary/5"}`,children:o(U?"ClientStock.priceColumn.hide":"ClientStock.priceColumn.show")})]})})]}),s.jsx("div",{className:"mb-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"}),z&&s.jsx("div",{className:"mb-6",children:s.jsx(K5,{companyId:(p==null?void 0:p.company_id)||null,userId:(p==null?void 0:p.id)||null,createdBy:(p==null?void 0:p.id)||null,existingRows:_,labels:v,onComplete:kz,onError:jz})}),s.jsxs("div",{className:"mb-2 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:Vb,onChange:Az}),o("ClientStock.actions.selectAllOnPage")]})}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-text-secondary",children:o("ClientStock.quickSort.label")}),s.jsx("button",{onClick:()=>{pe("prep"),B(1)},className:`px-3 py-1 rounded border ${Y==="prep"?"bg-primary text-white border-primary":"text-text-secondary border-gray-200 hover:bg-gray-50"}`,children:o("ClientStock.quickSort.prep")}),s.jsx("button",{onClick:()=>{pe("amazon"),B(1)},className:`px-3 py-1 rounded border ${Y==="amazon"?"bg-primary text-white border-primary":"text-text-secondary border-gray-200 hover:bg-gray-50"}`,children:o("ClientStock.quickSort.amazon")})]})]}),_e.size>0&&s.jsx("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50 bg-white shadow-md border border-gray-200 rounded-[48px] px-6 py-3 flex flex-col gap-3 items-center backdrop-blur-md bg-white/95 w-auto max-w-full",children:s.jsxs("div",{className:"flex flex-col items-center gap-3 w-full",children:[s.jsxs("select",{value:k,onChange:V=>ee(V.target.value),className:"border rounded-md px-3 py-1.5 text-sm min-w-[220px] text-center",children:[s.jsx("option",{value:"prep",children:o("ClientStock.cta.sendToPrep")}),s.jsx("option",{value:"reception",children:o("ClientStock.cta.announceReception")})]}),s.jsxs("div",{className:"w-full text-xs sm:text-sm",children:[s.jsx("label",{className:"block text-[11px] uppercase text-text-light mb-1",children:o("ClientStock.receptionForm.destinationLabel")}),s.jsx("select",{value:Ue.destinationCountry||"FR",onChange:V=>Qm("destinationCountry",V.target.value),className:"w-full border rounded-md px-3 py-1.5 text-sm",children:Q5.map(V=>s.jsx("option",{value:V,children:o(`ClientStock.countries.${V}`)},V))}),s.jsx("p",{className:"text-[11px] text-text-secondary mt-1",children:o("ClientStock.receptionForm.destinationHint")})]}),k==="reception"&&s.jsxs("div",{className:"flex flex-col gap-3 text-xs sm:text-sm w-full items-center",children:[s.jsxs("div",{className:"flex flex-col w-full gap-2 sm:flex-row sm:items-end sm:justify-center sm:gap-4",children:[s.jsxs("div",{className:"flex flex-col w-full sm:w-auto sm:min-w-[260px]",children:[s.jsxs("select",{value:Ue.carrier,onChange:V=>Qm("carrier",V.target.value),className:`border rounded-md px-2 py-1 w-full ${Ue.carrier?"text-text-primary":"text-gray-400"}`,children:[s.jsx("option",{value:"",children:o("ClientStock.receptionForm.carrierPlaceholder")}),Y5.map(V=>s.jsx("option",{value:V.code,children:V.label},V.code))]}),Ue.carrier==="OTHER"&&s.jsx("input",{type:"text",value:Ue.carrierOther,onChange:V=>Qm("carrierOther",V.target.value),placeholder:o("ClientStock.receptionForm.carrierOther"),className:"border rounded-md px-2 py-1 mt-2 w-full"})]}),s.jsxs("div",{className:"flex flex-col gap-1 w-full sm:w-auto sm:min-w-[260px]",children:[s.jsx("span",{className:"text-[10px] text-gray-500 font-semibold",children:o("ClientStock.receptionForm.tracking")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:Ub,onChange:V=>Pz(V.target.value),onKeyDown:V=>{V.key==="Enter"&&(V.preventDefault(),Hb())},placeholder:o("ClientStock.receptionForm.tracking"),className:"border rounded-md px-2 py-1 w-full sm:w-48"}),s.jsx("button",{type:"button",onClick:Hb,className:"px-3 py-1 rounded-md bg-primary text-white text-xs font-semibold hover:bg-primary-dark",children:o("ClientStock.receptionForm.trackingAdd")})]}),s.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-500 mt-1",children:[s.jsx("span",{children:Ni.length>0?o("ClientStock.receptionForm.trackingCount",{count:Ni.length}):o("ClientStock.receptionForm.trackingNone")}),Ni.length>1&&s.jsx("button",{type:"button",className:"text-primary font-semibold",onClick:()=>Dc(V=>!V),children:o($b?"ClientStock.receptionForm.trackingHide":"ClientStock.receptionForm.trackingManage")})]}),$b&&Ni.length>0&&s.jsx("div",{className:"mt-1 border rounded-md bg-white shadow-inner max-h-16 overflow-y-auto w-full sm:min-w-[260px]",children:Ni.map((V,ne)=>s.jsxs("div",{className:"flex items-center justify-between px-2 py-1 text-xs",children:[s.jsx("span",{className:"truncate",children:V}),s.jsx("button",{type:"button",className:"text-red-500 text-[11px] hover:underline",onClick:()=>Ez(ne),children:o("ClientStock.drawer.remove")})]},`${V}-${ne}`))})]})]}),s.jsxs("div",{className:"flex flex-col gap-1 w-full sm:max-w-3xl",children:[s.jsx("span",{className:"font-semibold text-text-secondary",children:o("ClientStock.receptionFba.title")}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("label",{className:"inline-flex items-center gap-1",children:[s.jsx("input",{type:"radio",name:"reception-fba-mode",value:"none",checked:Ue.fbaMode==="none",onChange:()=>Ym("none")}),o("ClientStock.receptionFba.none")]}),s.jsxs("label",{className:"inline-flex items-center gap-1",children:[s.jsx("input",{type:"radio",name:"reception-fba-mode",value:"full",checked:Ue.fbaMode==="full",onChange:()=>Ym("full")}),o("ClientStock.receptionFba.full")]}),s.jsxs("label",{className:"inline-flex items-center gap-1",children:[s.jsx("input",{type:"radio",name:"reception-fba-mode",value:"partial",checked:Ue.fbaMode==="partial",onChange:()=>Ym("partial")}),o("ClientStock.receptionFba.partial")]})]}),Ue.fbaMode==="partial"&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[minmax(0,1.4fr)_0.8fr_0.8fr] text-[11px] uppercase tracking-wide text-gray-500 px-2 mb-1",children:[s.jsx("span",{}),s.jsx("span",{children:l("ClientStock.receptionFba.availableLabel")}),s.jsx("span",{className:"text-right",children:o("ClientStock.receptionFba.toAmazonLabel")})]}),s.jsx("div",{className:"border rounded-md p-2 bg-white max-h-64 overflow-y-auto",children:is.length===0?s.jsx("p",{className:"text-text-secondary",children:o("ClientStock.receptionFba.noSelection")}):s.jsx(s.Fragment,{children:is.map(V=>{const ne=j[V.id]||{},ve=Math.max(0,Number(ne.units_to_send||0)),fe=V.image_url||V.photo_url||"",ge=V.asin||"",ye=ne.fba_units,Se=ye==null||ye===""?ve:ye;return s.jsx("div",{className:"py-2 border-b last:border-b-0",children:s.jsxs("div",{className:"grid gap-3 sm:grid-cols-[minmax(0,1.4fr)_0.8fr_0.8fr] sm:items-center",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[fe?s.jsx("img",{src:fe,alt:V.name||V.asin||"Product",className:"w-10 h-10 rounded border object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded border bg-gray-100 flex items-center justify-center text-[10px] text-gray-400",children:"N/A"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-text-primary truncate",children:V.name||V.asin||V.ean||""}),ge&&s.jsxs("p",{className:"text-[11px] text-gray-500 font-mono truncate",children:["ASIN: ",ge]})]})]}),s.jsxs("div",{className:"flex flex-col text-xs sm:text-sm",children:[s.jsx("span",{className:"sm:hidden text-[10px] uppercase tracking-wide text-gray-500",children:l("ClientStock.receptionFba.availableLabel")}),s.jsx("span",{className:"text-base font-semibold text-text-primary",children:ve})]}),s.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-1 text-xs sm:text-sm",children:[s.jsx("span",{className:"sm:hidden text-[10px] uppercase tracking-wide text-gray-500",children:o("ClientStock.receptionFba.toAmazonLabel")}),s.jsx("input",{type:"number",min:"0",className:"w-20 text-right border rounded px-2 py-1",value:Se,onChange:Ce=>qc(V.id,{fba_units:Ce.target.value})})]})]})},V.id)})})})]})]})]}),s.jsxs("div",{className:"flex flex-col items-center sm:flex-row sm:justify-center gap-3 w-full",children:[s.jsx("button",{onClick:()=>{k==="prep"?Fz():Mz()},className:"bg-blue-500 hover:bg-blue-600 text-white text-sm px-6 py-2 rounded-md w-full sm:w-auto text-center",children:o(k==="prep"?"ClientStock.cta.sendToPrep":"ClientStock.cta.announceReception")}),s.jsx("button",{onClick:()=>se([]),className:"text-sm text-gray-500 hover:text-gray-700",children:o("common.cancel")})]})]})}),s.jsxs("div",{className:"border rounded-lg overflow-hidden mt-2",children:[s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[900px] text-sm table-auto [&_th]:px-1 [&_td]:px-1 [&_th]:py-1 [&_td]:py-1",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 w-6"}),s.jsx("th",{className:"px-2 py-2 text-left w-16",children:"Photo"}),s.jsx("th",{className:"px-2 py-2 text-left",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:o("ClientStock.thead.name")}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:ie,onChange:V=>{J(V.target.value),B(1)},placeholder:o("ClientStock.productSearchPlaceholder"),className:"border rounded px-2 py-1 pr-7 text-xs w-full"}),ie&&s.jsx("button",{type:"button",onClick:()=>{J(""),B(1)},className:"absolute inset-y-0 right-1 flex items-center justify-center text-gray-400 hover:text-gray-600","aria-label":o("common.cancel"),children:s.jsx(yr,{className:"w-3 h-3"})})]})]})}),U&&s.jsx("th",{className:"px-2 py-2 text-right w-20",children:s.jsxs("div",{className:"flex items-center justify-end gap-1 text-xs font-semibold uppercase tracking-wide text-gray-500 relative group",children:[s.jsx("span",{children:o("ClientStock.priceColumn.label")}),s.jsx(SF,{className:"w-3.5 h-3.5 text-amber-500"}),u&&s.jsx("div",{className:"pointer-events-none absolute right-0 top-full mt-2 hidden w-48 rounded-md border border-gray-900 bg-gray-900/95 p-2 text-[11px] text-white shadow-xl group-hover:block z-20",children:u})]})}),s.jsx("th",{className:"px-2 py-2 text-left w-40 align-top",children:s.jsxs("div",{className:"flex flex-col gap-1 items-center text-center",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:o("ClientStock.sales.heading")}),s.jsx("select",{className:"border rounded px-2 py-1 text-xs text-center",value:$,onChange:V=>C(V.target.value),children:rx.map(V=>s.jsx("option",{value:V.value,children:V.value==="ALL"?o("ClientStock.sales.all"):V.label},V.value))})]})}),s.jsx("th",{className:"px-2 py-2 text-left w-40",children:s.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 whitespace-pre-line text-center",children:o("ClientStock.inventory.subtitle")})}),s.jsx("th",{className:"px-2 py-2 text-right w-24",children:"PrepCenter stock"}),s.jsx("th",{className:"px-2 py-2 text-right w-32",children:"Units to Send / Receive"})]})}),s.jsx("tbody",{children:Io.map(V=>{const ne=_e.has(V.id),ve=j[V.id]||{},fe=Number(ns[V.id]||0),ge=fe>0,ye=V.asin??"",Se=V.ean??"",Ce=V.sku??"",Ne=ve.asin??ye,Me=ve.ean??Se,Be=ve.sku??Ce,ur=i&&((Ne||"")!==(V.asin||"")||(Me||"")!==(V.ean||"")||(Be||"")!==(V.sku||"")),Mo=V.purchase_price==null?"":String(V.purchase_price),$c=ve.purchase_price??Mo,Xb=$c==null?"":String($c),Vz=Xb!==Mo,eh=(Cn,$t,ki,th,Fo)=>{if(i){const as=(ve[ki]??$t??"").toString();return s.jsxs("div",{className:"flex items-center text-xs gap-2",children:[s.jsx("span",{className:"font-semibold text-gray-500 select-none",children:Cn}),s.jsx("input",{type:"text",className:"border rounded px-2 py-1 text-xs w-28",value:as,placeholder:th,onChange:Wz=>qc(V.id,{[ki]:Wz.target.value})}),ki==="sku"&&s.jsx("button",{className:"ml-auto px-2 py-1 text-[11px] rounded border border-primary text-primary hover:bg-primary hover:text-white transition-colors disabled:opacity-50",disabled:!ur||Uc===V.id,onClick:()=>Zb(V),children:Uc===V.id?o("ClientStock.table.saving"):"Save"})]})}return s.jsxs("div",{className:"flex items-center text-xs",children:[s.jsx("span",{className:"font-semibold text-gray-500 mr-1 select-none",children:Cn}),s.jsx("span",{className:"font-mono text-gray-800 cursor-pointer select-text",onDoubleClick:as=>L(as,V.id,Fo,$t),title:`Double-click to copy ${Cn}`,children:$t||""}),(f==null?void 0:f.rowId)===V.id&&(f==null?void 0:f.field)===Fo&&s.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 text-[10px] font-semibold text-green-600",children:[s.jsx(Bj,{className:"w-3 h-3"})," ",o("ClientStock.copyInline")]})]})};return s.jsxs("tr",{className:"border-t align-middle",children:[s.jsx("td",{className:"px-2 py-2",children:s.jsx("input",{type:"checkbox",checked:ne,onChange:()=>Cz(V.id)})}),s.jsx("td",{className:"px-2 py-2 align-top",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[V.image_url?s.jsx("img",{src:V.image_url,alt:V.name||"Product image",className:"w-16 h-16 object-contain rounded border"}):s.jsx("div",{className:"w-16 h-16 bg-gray-100 border rounded flex items-center justify-center text-gray-400 text-xs",children:"No Img"}),s.jsxs("button",{type:"button",onClick:()=>Si(V),className:"inline-flex items-center text-[11px] text-primary hover:underline",children:[s.jsx(xF,{className:"w-3 h-3 mr-1"})," ",o("ClientStock.photos.button")]}),s.jsx("div",{className:"text-[11px] text-gray-500 text-center leading-tight",children:ge?l("ClientStock.photos.statusAvailable",{count:fe}):o("ClientStock.photos.statusUnavailable")})]})}),s.jsxs("td",{className:"px-2 py-2 align-top max-w-[360px]",children:[s.jsx("div",{className:"text-[#007185] font-medium leading-snug break-words whitespace-normal",style:{wordBreak:"break-word",overflowWrap:"break-word"},children:V.name?V.name.length>150?V.name.slice(0,150):V.name:""}),s.jsxs("div",{className:"mt-2 text-xs text-gray-600 flex flex-col gap-1",children:[eh("ASIN",V.asin,"asin","B0...","ASIN"),eh("EAN",V.ean,"ean","EAN...","EAN"),eh("SKU",V.sku,"sku","SKU...","SKU")]})]}),U&&s.jsx("td",{className:"px-2 py-2 align-top text-right w-20",children:s.jsxs("div",{className:"flex flex-col items-end gap-1 text-xs",children:[s.jsx("input",{type:"number",step:"0.01",min:0,inputMode:"decimal",className:"w-20 border rounded px-2 py-1 text-right",value:Xb,placeholder:o("ClientStock.priceColumn.placeholder"),onChange:Cn=>qc(V.id,{purchase_price:Cn.target.value})}),s.jsx("button",{type:"button",className:"px-2 py-1 text-[11px] rounded border border-primary text-primary hover:bg-primary hover:text-white transition-colors disabled:opacity-50",disabled:!Vz||Uc===V.id,onClick:()=>Zb(V),children:Uc===V.id?o("ClientStock.table.saving"):o("ClientStock.priceColumn.save")})]})}),s.jsx("td",{className:"px-2 py-2 align-top",children:(()=>{var Fo,as;const Cn=String(V.asin||V.sku||"").trim().toUpperCase(),$t=Cn?M[Cn]:null,ki=((Fo=$t==null?void 0:$t.countries)==null?void 0:Fo[$])||((as=$t==null?void 0:$t.countries)==null?void 0:as.ALL)||null,th=$==="ALL"?o("ClientStock.sales.all"):h2[$]||$;return s.jsx(J5,{stats:ki,refreshedAt:$t==null?void 0:$t.refreshed_at,countryLabel:th,t:o})})()}),s.jsx("td",{className:"px-2 py-2 align-top",children:s.jsx(X5,{row:V,t:o})}),s.jsx("td",{className:"px-2 py-2 text-right text-gray-700",children:Oz(V)}),s.jsx("td",{className:"px-2 py-2 text-right",children:s.jsx("input",{type:"number",min:0,className:"border rounded px-2 py-1 w-24 text-right",value:ve.units_to_send??0,onChange:Cn=>{const $t=Cn.target.value;qc(V.id,{units_to_send:$t}),te(ki=>{Number($t)>0?ki.add(V.id):ki.delete(V.id)})}})})]},V.id)})})]})}),s.jsxs("div",{className:"px-3 py-2 border-t bg-white flex items-center justify-end gap-2 text-sm",children:[s.jsx("span",{className:"text-text-secondary",children:o("ClientStock.pager.rows")}),s.jsxs("select",{className:"border rounded px-2 py-1",value:I,onChange:V=>{R(Number(V.target.value)),B(1)},children:[s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"}),s.jsx("option",{value:250,children:"250"})]}),s.jsx("button",{className:"border rounded px-2 py-1 disabled:opacity-50",onClick:()=>B(V=>Math.max(1,V-1)),disabled:Oo<=1,"aria-label":"Previous page",children:o("ClientStock.pager.prev")}),s.jsx("span",{children:l("ClientStock.pager.pageXofY",{x:Oo,y:Bc})}),s.jsx("button",{className:"border rounded px-2 py-1 disabled:opacity-50",onClick:()=>B(V=>Math.min(Bc,V+1)),disabled:Oo>=Bc,"aria-label":"Next page",children:o("ClientStock.pager.next")})]})]}),Z&&s.jsx("div",{className:"fixed inset-0 bg-black/30 z-[110]",onClick:()=>X(!1),children:s.jsxs("div",{className:"absolute right-0 top-0 h-full w-full max-w-4xl bg-white shadow-xl overflow-y-auto",onClick:V=>V.stopPropagation(),children:[s.jsx("div",{className:"sticky top-0 z-[120] bg-white/95 backdrop-blur border-b px-6 py-3",children:s.jsx("h3",{className:"text-lg font-semibold",children:ae?"Preparation request (Pending  editable)":"Preparation request (Read-only)"})}),le?s.jsx("div",{className:"text-sm text-text-secondary py-8 px-6",children:"Loading"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4 text-sm px-6 pt-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-text-secondary",children:"Date:"})," ",((Yb=me==null?void 0:me.created_at)==null?void 0:Yb.slice(0,10))||""]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-text-secondary",children:"Country:"}),s.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold bg-rose-50 text-rose-600 uppercase",children:((me==null?void 0:me.destination_country)||"FR").toUpperCase()}),s.jsx("span",{className:"text-sm text-text-secondary",children:o(`ClientStock.countries.${(me==null?void 0:me.destination_country)||"FR"}`)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-text-secondary",children:"Status:"})," ",(me==null?void 0:me.status)||"pending"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-text-secondary",children:"FBA Shipment ID:"})," ",(me==null?void 0:me.fba_shipment_id)||""]})]}),s.jsxs("div",{className:"px-6 mb-4",children:[s.jsx("div",{className:"text-sm text-text-secondary mb-1",children:"Tracking:"}),s.jsx(rB,{list:(me==null?void 0:me.tracking)||[],max:3,t:o})]}),He.length>0&&s.jsx("div",{className:"mx-6 mb-4 rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm space-y-1",children:He.map((V,ne)=>s.jsxs("div",{children:[" ",V]},ne))}),s.jsx("div",{className:"px-6 mb-4",children:s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-text-secondary",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 text-left",children:"EAN"}),s.jsx("th",{className:"px-2 py-2 text-left",children:"Product name"}),s.jsx("th",{className:"px-2 py-2 text-left",children:"ASIN / SKU"}),s.jsx("th",{className:"px-2 py-2 text-right",children:"Units"}),ae&&s.jsx("th",{className:"px-2 py-2 text-center",children:"Actions"})]})}),s.jsx("tbody",{children:Fe.length===0?s.jsx("tr",{className:"border-t",children:s.jsx("td",{colSpan:ae?5:4,className:"px-2 py-6 text-center text-gray-400",children:"No items in this request"})}):Fe.map(V=>{const ne=Lz(V),ve=String(V.asin||"").trim()||String(V.sku||"").trim()||"";return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-2 py-2 font-mono text-xs",children:ne.ean||""}),s.jsx("td",{className:"px-2 py-2",children:ne.name||""}),s.jsx("td",{className:"px-2 py-2",children:ae?s.jsx("input",{className:"border rounded px-2 py-1 w-full",value:ve,onChange:fe=>Bz(V.id,fe.target.value)}):ve}),s.jsx("td",{className:"px-2 py-2 text-right",children:ae?s.jsx("input",{type:"number",min:1,className:"border rounded px-2 py-1 w-20 text-right",value:V.units_requested,onChange:fe=>Jm(V.id,{units_requested:Number(fe.target.value)})}):V.units_requested}),ae&&s.jsx("td",{className:"px-2 py-2 text-center",children:s.jsx("button",{className:"text-xs border rounded px-2 py-1 text-red-600 hover:bg-red-50",onClick:()=>Dz(V.id),children:"Remove"})})]},V.id||V.stock_item_id)})})]})})}),ae&&!Ie&&s.jsx("div",{className:"px-6 mb-4",children:s.jsx("button",{className:"text-sm border rounded px-3 py-1 hover:bg-gray-50",onClick:qz,children:"+ Add Item"})}),ae&&Ie&&s.jsxs("div",{className:"px-6 mb-4 border rounded-lg p-3 bg-gray-50",children:[s.jsx("div",{className:"mb-2 text-sm font-semibold",children:"Add New Item"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Select Product"}),s.jsxs("select",{className:"border rounded px-2 py-1 w-full text-sm",value:qr,onChange:V=>br(V.target.value),children:[s.jsx("option",{value:"",children:""}),_.map(V=>s.jsxs("option",{value:V.id,children:[V.ean||"No EAN","  ",V.name||"Unnamed"," (Stock: ",V.qty,")"]},V.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Quantity"}),s.jsx("input",{type:"number",min:1,className:"border rounded px-2 py-1 w-full text-right",value:To,onChange:V=>zo(V.target.value)})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{className:"text-xs border rounded px-3 py-1",onClick:Qb,children:"Cancel"}),s.jsx("button",{className:"text-xs bg-primary text-white rounded px-3 py-1",onClick:Uz,children:"Add"})]})]}),ae&&s.jsxs("div",{className:"px-6 mb-6 flex justify-end gap-2",children:[s.jsx("button",{className:"border rounded px-4 py-2",onClick:()=>X(!1),children:"Close"}),s.jsx("button",{className:"bg-primary text-white rounded px-4 py-2",onClick:$z,children:"Save Changes"})]}),!ae&&s.jsx("div",{className:"px-6 mb-6 flex justify-end",children:s.jsx("button",{className:"border rounded px-4 py-2",onClick:()=>X(!1),children:"Close"})})]})]})}),s.jsx($5,{open:!!An,onClose:()=>Si(null),stockItem:An,companyId:p==null?void 0:p.company_id,canEdit:!0,onPhotoCountChange:V=>{An!=null&&An.id&&Rc(ne=>ne[An.id]===V?ne:{...ne,[An.id]:V})}})]})}const Ci=e=>String(e||"").trim().toLowerCase(),nB=(e,t)=>{const r=Ci(e.ean||e.ean_asin);if(r){const o=t.find(l=>Ci(l.ean)===r);if(o)return o}const n=Ci(e.asin);if(n){const o=t.find(l=>Ci(l.asin)===n);if(o)return o}const i=Ci(e.sku);if(i){const o=t.find(l=>Ci(l.sku)===i);if(o)return o}const a=Ci(e.name||e.product_name);if(a){const o=t.find(l=>Ci(l.name)===a);if(o)return o}return null},iB=async(e,t,r,n)=>{if(e.stock_item_id)return e.stock_item_id;const i=nB(e,t);if(i)return i.id;if(!(n!=null&&n.company_id))return null;const a={company_id:n.company_id,user_id:n.id,name:e.name||e.product_name||e.asin||e.ean||"Prep product",asin:e.asin||null,sku:e.sku||null,ean:e.ean||null,qty:0,created_by:n.id,purchase_price:e.purchase_price??null},{data:o,error:l}=await Q.from("stock_items").insert(a).select().single();if(l)throw l;return r(c=>[o,...c]),o.id};function aB({profile:e}){if(!e)return s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 text-sm text-text-secondary",children:"Select a client to view stock details."});const t=x.useMemo(()=>e.company_id?`admin-stock-${e.company_id}`:e.id?`admin-stock-user-${e.id}`:"admin-stock",[e.company_id,e.id]);return s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:s.jsx(f2,{profileOverride:e,statusOverride:"ready",hideGuides:!0,storagePrefixOverride:t,enableIdentifierEdit:!0,enableQtyAdjust:!0})})}const sB=(e,t)=>Object.fromEntries(t.map(r=>[r,e[r]])),Sw=()=>({return_date:"",asin:"",qty:"",return_type:"",status:"Sigilat",status_note:"",obs_admin:""});function oB({rows:e=[],reload:t,companyId:r,profile:n}){const[i,a]=x.useState(null),o=r?`admin-returns-form-${r}`:`admin-returns-form-${(n==null?void 0:n.id)||"default"}`,l=x.useMemo(()=>Sw(),[r,n==null?void 0:n.id]),[c,u]=bt(o,l),d=async y=>{const{error:f}=await Q.from("returns").update({obs_client_seen:!0}).eq("id",y);f?alert(f.message):t==null||t()},p=async y=>{if(!window.confirm("Sigur vrei s tergi aceast linie?"))return;const{error:f}=await Q.from("returns").delete().eq("id",y);f?alert(f.message):t==null||t()},h=async()=>{if(!r)return;const y={company_id:r,return_date:c.return_date,asin:c.asin,qty:Number(c.qty||0),return_type:c.return_type||null,status:c.status||null,status_note:c.status==="Other"&&c.status_note||null,obs_admin:c.obs_admin||null,created_by:n.id},{error:f}=await Q.from("returns").insert(y);if(f)return alert(f.message);u(()=>Sw()),t==null||t()},m=async()=>{if(!i)return;const y=sB(i,["return_date","asin","qty","return_type","status","status_note","obs_admin"]);y.status!=="Other"&&(y.status_note=null),y.qty!=null&&(y.qty=Number(y.qty));const{error:f}=await Q.from("returns").update(y).eq("id",i.id);if(f)return alert(f.message);a(null),t==null||t()};return s.jsx(Oa,{title:"Retururi",right:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:c.return_date,onChange:y=>u(f=>({...f,return_date:y.target.value}))}),s.jsx("input",{placeholder:"ASIN",className:"border rounded px-2 py-1 w-40",value:c.asin,onChange:y=>u(f=>({...f,asin:y.target.value}))}),s.jsx("input",{placeholder:"Cantitate",className:"border rounded px-2 py-1 w-28",value:c.qty,onChange:y=>u(f=>({...f,qty:y.target.value}))}),s.jsx("input",{placeholder:"Tip retur",className:"border rounded px-2 py-1 w-40",value:c.return_type,onChange:y=>u(f=>({...f,return_type:y.target.value}))}),s.jsxs("select",{className:"border rounded px-2 py-1 w-36",value:c.status,onChange:y=>u(f=>({...f,status:y.target.value})),children:[s.jsx("option",{children:"Sigilat"}),s.jsx("option",{children:"Desigilat"}),s.jsx("option",{children:"Distrus"}),s.jsx("option",{children:"Other"})]}),c.status==="Other"&&s.jsx("input",{placeholder:"Motiv (Other)",className:"border rounded px-2 py-1 w-56",value:c.status_note,onChange:y=>u(f=>({...f,status_note:y.target.value}))}),s.jsx("input",{placeholder:"Obs admin",className:"border rounded px-2 py-1 w-56",value:c.obs_admin,onChange:y=>u(f=>({...f,obs_admin:y.target.value}))}),s.jsx("button",{onClick:h,className:"bg-primary text-white px-3 py-1 rounded",children:"Adaug"})]}),children:s.jsx("div",{className:"relative mt-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-[1200px] w-full text-sm table-auto border-collapse",children:[s.jsx("thead",{className:"bg-gray-50 text-text-secondary",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap w-[160px]",children:"Data"}),s.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap w-[210px]",children:"ASIN"}),s.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap w-[100px]",children:"Cant."}),s.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap w-[220px]",children:"Tip retur"}),s.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap w-[220px]",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap w-[280px]",children:"Obs admin"}),s.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap sticky right-0 bg-gray-50 z-10 w-[160px]",children:"Aciuni"})]})}),s.jsx("tbody",{children:!e||e.length===0?s.jsx("tr",{className:"border-t",children:s.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-gray-400",children:"Niciun retur nc."})}):e.map(y=>{const f=(i==null?void 0:i.id)===y.id;return s.jsxs("tr",{className:"border-t align-top",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:f?s.jsx("input",{type:"date",className:"border rounded px-2 py-1 w-[160px]",value:i.return_date||"",onChange:g=>a(v=>({...v,return_date:g.target.value}))}):y.return_date||""}),s.jsx("td",{className:"px-4 py-3",children:f?s.jsx("input",{className:"border rounded px-2 py-1 w-[210px]",value:i.asin||"",onChange:g=>a(v=>({...v,asin:g.target.value}))}):y.asin||""}),s.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap",children:f?s.jsx("input",{className:"border rounded px-2 py-1 w-[100px] text-right",value:i.qty??"",onChange:g=>a(v=>({...v,qty:g.target.value}))}):y.qty}),s.jsx("td",{className:"px-4 py-3",children:f?s.jsx("input",{className:"border rounded px-2 py-1 w-[220px]",value:i.return_type??"",onChange:g=>a(v=>({...v,return_type:g.target.value}))}):y.return_type||""}),s.jsx("td",{className:"px-4 py-3",children:f?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{className:"border rounded px-2 py-1 w-[140px]",value:i.status??"Sigilat",onChange:g=>a(v=>({...v,status:g.target.value})),children:[s.jsx("option",{children:"Sigilat"}),s.jsx("option",{children:"Desigilat"}),s.jsx("option",{children:"Distrus"}),s.jsx("option",{children:"Other"})]}),i.status==="Other"&&s.jsx("input",{className:"border rounded px-2 py-1 w-[220px]",placeholder:"Motiv (Other)",value:i.status_note??"",onChange:g=>a(v=>({...v,status_note:g.target.value}))})]}):s.jsxs(s.Fragment,{children:[y.status||"",y.status==="Other"&&y.status_note?s.jsxs("span",{className:"text-text-secondary",children:["  ",y.status_note]}):null]})}),s.jsx("td",{className:"px-4 py-3",children:f?s.jsx("input",{className:"border rounded px-2 py-1 w-[280px]",value:i.obs_admin??"",onChange:g=>a(v=>({...v,obs_admin:g.target.value}))}):y.obs_admin||""}),s.jsx("td",{className:"px-4 py-3 text-right sticky right-0 bg-white z-10",children:f?s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:m,className:"inline-flex items-center px-2 py-1 rounded bg-green-600 text-white",title:"Salveaz",children:s.jsx(Jt,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>a(null),className:"inline-flex items-center px-2 py-1 rounded bg-gray-500 text-white",title:"Renun",children:s.jsx(yr,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"flex justify-end gap-2",children:[!!y.obs_client&&!y.obs_client_seen&&s.jsx("button",{onClick:()=>d(y.id),className:"inline-flex items-center px-2 py-1 rounded border",title:"Marcheaz observaia client ca vzut",children:s.jsx(qn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>a({...y}),className:"inline-flex items-center px-2 py-1 rounded border",title:"Editeaz",children:s.jsx(Yp,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>p(y.id),className:"inline-flex items-center px-2 py-1 rounded bg-red-600 text-white",title:"terge",children:s.jsx(Nt,{className:"w-4 h-4"})})]})})]},y.id)})})]})})})}const Ko=()=>{const e=new Date,t=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${t}-${r}`},Yh=e=>Number.isFinite(e)?e.toFixed(2):"0.00";function lB({rows:e=[],reload:t,companyId:r,profile:n}){const{t:i}=xo(),[a,o]=x.useState(null),l=r?`admin-other-form-${r}`:`admin-other-form-${(n==null?void 0:n.id)||"default"}`,[c,u]=bt(l,{service:"",service_date:Ko(),unit_price:"",units:"",obs_admin:""}),d=async()=>{if(!r)return;if(!c.service.trim()){alert("Completeaz denumirea serviciului.");return}const g=Number(c.unit_price||0),v=Number(c.units||1)||1,b={company_id:r,service:c.service.trim(),service_date:c.service_date||Ko(),unit_price:g,units:v,total:Number.isFinite(g*v)?g*v:null,obs_admin:c.obs_admin||null,created_by:(n==null?void 0:n.id)||null},{error:_}=await he.createOtherLine(b);if(_){alert(_.message);return}u({service:"",service_date:Ko(),unit_price:"",units:"",obs_admin:""}),t==null||t()},p=async()=>{var b;if(!a)return;const g={service:((b=a.service)==null?void 0:b.trim())||"",service_date:a.service_date||Ko(),unit_price:Number(a.unit_price||0),units:Number(a.units||0),total:Number(a.total??Number(a.unit_price||0)*Number(a.units||0)),obs_admin:a.obs_admin||null},{error:v}=await he.updateOtherLine(a.id,g);if(v){alert(v.message);return}o(null),t==null||t()},h=async g=>{if(!window.confirm("tergi aceast nregistrare?"))return;const{error:v}=await he.deleteOtherLine(g);if(v){alert(v.message);return}t==null||t()},m=x.useMemo(()=>({manual:i("serviceNames.manualPhoto")||"Manual photo capture",subscription:i("serviceNames.photoSubscription")||"Photo storage subscription"}),[i]),y=g=>{if(!g)return"";const v=g.trim();return/^manual photo capture/i.test(v)?m.manual:/^photo storage subscription$/i.test(v)?m.subscription:v.replace(/ \(6 images\)/i,"")},f=x.useMemo(()=>(e||[]).reduce((g,v)=>{const b=v.total!=null?Number(v.total):Number(v.unit_price||0)*Number(v.units||0);return g+(Number.isFinite(b)?b:0)},0),[e]);return s.jsx(Oa,{title:"Other services",right:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("input",{placeholder:"Denumire serviciu",className:"border rounded px-2 py-1 w-48",value:c.service,onChange:g=>u(v=>({...v,service:g.target.value}))}),s.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:c.service_date,onChange:g=>u(v=>({...v,service_date:g.target.value}))}),s.jsx("input",{placeholder:"Pre/unit",className:"border rounded px-2 py-1 w-24 text-right",value:c.unit_price,onChange:g=>u(v=>({...v,unit_price:g.target.value})),inputMode:"decimal"}),s.jsx("input",{placeholder:"Uniti",className:"border rounded px-2 py-1 w-20 text-right",value:c.units,onChange:g=>u(v=>({...v,units:g.target.value})),inputMode:"decimal"}),s.jsx("input",{placeholder:"Obs admin",className:"border rounded px-2 py-1 w-60",value:c.obs_admin,onChange:g=>u(v=>({...v,obs_admin:g.target.value}))}),s.jsx("button",{onClick:d,className:"bg-primary text-white px-3 py-1 rounded",children:"Adaug"})]}),children:s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Data"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Serviciu"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Pre"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Uniti"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Total"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Obs admin"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Aciuni"})]})}),s.jsx("tbody",{children:e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-3 py-4 text-center text-text-secondary",children:"Nicio nregistrare."})}):e.map(g=>{const v=(a==null?void 0:a.id)===g.id,b=g.total!=null?Number(g.total):Number(g.unit_price||0)*Number(g.units||0);return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:v?s.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:a.service_date||Ko(),onChange:_=>o(S=>({...S,service_date:_.target.value}))}):g.service_date}),s.jsx("td",{className:"px-3 py-2",children:v?s.jsx("input",{className:"border rounded px-2 py-1 w-56",value:a.service||"",onChange:_=>o(S=>({...S,service:_.target.value}))}):y(g.service)}),s.jsx("td",{className:"px-3 py-2 text-right",children:v?s.jsx("input",{className:"border rounded px-2 py-1 w-24 text-right",value:a.unit_price??"",onChange:_=>o(S=>({...S,unit_price:_.target.value})),inputMode:"decimal"}):Yh(Number(g.unit_price||0))}),s.jsx("td",{className:"px-3 py-2 text-right",children:v?s.jsx("input",{className:"border rounded px-2 py-1 w-20 text-right",value:a.units??"",onChange:_=>o(S=>({...S,units:_.target.value})),inputMode:"decimal"}):Number(g.units||0)}),s.jsx("td",{className:"px-3 py-2 text-right",children:Yh(b)}),s.jsx("td",{className:"px-3 py-2",children:v?s.jsx("input",{className:"border rounded px-2 py-1 w-full",value:a.obs_admin||"",onChange:_=>o(S=>({...S,obs_admin:_.target.value}))}):g.obs_admin||""}),s.jsx("td",{className:"px-3 py-2 text-right",children:v?s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs("button",{onClick:p,className:"px-2 py-1 bg-primary text-white rounded inline-flex items-center gap-1",children:[s.jsx(Jt,{className:"w-4 h-4"})," Salveaz"]}),s.jsxs("button",{onClick:()=>o(null),className:"px-2 py-1 border rounded inline-flex items-center gap-1",children:[s.jsx(yr,{className:"w-4 h-4"})," Anuleaz"]})]}):s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs("button",{onClick:()=>o({...g}),className:"px-2 py-1 border rounded inline-flex items-center gap-1",children:[s.jsx(Yp,{className:"w-4 h-4"})," Edit"]}),s.jsxs("button",{onClick:()=>h(g.id),className:"px-2 py-1 border rounded text-red-600 inline-flex items-center gap-1",children:[s.jsx(Nt,{className:"w-4 h-4"})," Delete"]})]})})]},g.id)})}),s.jsx("tfoot",{className:"border-t font-semibold bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 text-right",colSpan:4,children:"Total"}),s.jsx("td",{className:"px-3 py-2 text-right",children:Yh(f)}),s.jsx("td",{colSpan:2})]})})]})})})}function cB({profile:e,onBack:t}){const[r,n]=x.useState((e==null?void 0:e.company_id)||null),[i,a]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,p]=x.useState([]),[h,m]=x.useState([]),[y,f]=x.useState(null),g=e!=null&&e.id?`admin-user-section-${e.id}`:"admin-user-section",[v,b]=bt(g,"fba"),_=async()=>{const j=(e==null?void 0:e.company_id)||(e==null?void 0:e.id)||null;return n(j),j},S=async()=>{const j=await _();if(!j)return;const[{data:O,error:E},{data:P,error:M},{data:T,error:$},{data:C,error:U}]=await Promise.all([Q.from("fba_lines").select("*").eq("company_id",j).order("service_date",{ascending:!1}),Q.from("fbm_lines").select("*").eq("company_id",j).order("service_date",{ascending:!1}),Q.from("other_lines").select("*").eq("company_id",j).order("service_date",{ascending:!1}),Q.from("returns").select("*").eq("company_id",j).order("return_date",{ascending:!1})]);a({id:j,name:e.company_name||e.first_name||e.email}),E||l(O||[]),M||u(P||[]),$||p(T||[]),U||m(C||[])};x.useEffect(()=>{S()},[e==null?void 0:e.id]);const w=[e==null?void 0:e.first_name,e==null?void 0:e.last_name].filter(Boolean).join(" ")||"Utilizator",N=(j,O)=>`px-4 py-2 rounded-lg text-sm font-medium ${j?"bg-blue-50 text-primary border border-blue-200":"text-text-secondary hover:bg-gray-50"}`;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("button",{onClick:t,className:"inline-flex items-center text-sm text-text-secondary hover:text-primary",children:[s.jsx(Vl,{className:"w-4 h-4 mr-1"})," napoi la list"]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-text-primary flex items-center",children:[s.jsx(Va,{className:"w-5 h-5 mr-2"}),w]}),s.jsxs("p",{className:"text-sm text-text-secondary",children:[e==null?void 0:e.email,"  Companie: ",s.jsx("strong",{children:(i==null?void 0:i.name)||""})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>f(j=>j==="deals"?null:"deals"),className:N(y==="deals"),children:"Deals negociate"}),s.jsx("button",{onClick:()=>f(j=>j==="billing"?null:"billing"),className:N(y==="billing"),children:"Billing details"}),s.jsx("button",{onClick:()=>f(j=>j==="invoices"?null:"invoices"),className:N(y==="invoices"),children:"Invoices"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>b("fba"),className:N(v==="fba"),title:"FBA",children:"FBA"}),s.jsx("button",{onClick:()=>b("fbm"),className:N(v==="fbm"),title:"FBM",children:"FBM"}),s.jsx("button",{onClick:()=>b("other"),className:N(v==="other"),title:"Other",children:"Other"}),s.jsx("button",{onClick:()=>b("stock"),className:N(v==="stock"),title:"Stoc",children:"Stock"}),s.jsx("button",{onClick:()=>b("returns"),className:N(v==="returns"),title:"Retururi",children:"Retururi"})]})]})]}),y==="billing"&&s.jsx(Oa,{title:"",right:null,children:s.jsx(A5,{profile:e,hideTitles:!0})}),y==="invoices"&&s.jsx(Oa,{title:"",right:null,children:s.jsx(j5,{profile:e,hideTitles:!0})})]}),y==="deals"&&s.jsx(Oa,{title:"",right:null,children:s.jsx(C5,{companyId:r})}),v==="fba"&&s.jsx(z5,{rows:o,reload:S,companyId:r,profile:e}),v==="fbm"&&s.jsx(F5,{rows:c,reload:S,companyId:r,profile:e}),v==="other"&&s.jsx(lB,{rows:d,reload:S,companyId:r,profile:e}),v==="stock"&&s.jsx(aB,{profile:e}),v==="returns"&&s.jsx(oB,{rows:h,reload:S,companyId:r,profile:e})]})}const g2={FR:"France",DE:"Germany",IT:"Italy",ES:"Spain",UK:"United Kingdom",GB:"United Kingdom"},Nw={hero:{wrap:"px-4 py-1 text-sm",colors:"bg-red-100 text-red-700",label:"text-red-700"},loud:{wrap:"px-3 py-1 text-xs",colors:"bg-red-100 text-red-700",label:"text-red-700"},subtle:{wrap:"px-2 py-0.5 text-xs",colors:"bg-rose-50 text-rose-600",label:"text-rose-600"}},uB=e=>{if(!e)return"FR";const t=e.toUpperCase();return g2[t]?t:t==="GB"||t==="UK"?"UK":t},eo=({code:e="FR",variant:t="loud",showLabel:r=!0,className:n=""})=>{const i=uB(e),a=g2[i]||i,o=Nw[t]||Nw.loud;return s.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full font-semibold uppercase ${o.colors} ${o.wrap} ${n}`.trim(),children:[i,r&&s.jsx("span",{className:`normal-case font-medium text-[11px] ${o.label}`,children:a})]})},dB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,kw=e=>typeof e=="string"&&dB.test(e),Bg=({status:e})=>{const t={draft:{color:"bg-gray-100 text-gray-800",text:"Draft"},submitted:{color:"bg-yellow-100 text-yellow-800",text:"Submitted"},partial:{color:"bg-amber-100 text-amber-800",text:"Partial"},received:{color:"bg-blue-100 text-blue-800",text:"Received"},processed:{color:"bg-green-100 text-green-800",text:"Processed"},cancelled:{color:"bg-red-100 text-red-800",text:"Cancelled"}},r=t[e]||t.draft;return s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.color}`,children:r.text})},jw={none:{label:"No direct Amazon shipment",detail:"Client wants everything stored in the prep center.",badge:"bg-gray-100 text-gray-700"},full:{label:"Send everything to Amazon",detail:"Client asked for the full reception to go straight to Amazon.",badge:"bg-sky-100 text-sky-800"},partial:{label:"Partial Amazon shipment",detail:"Client wants only part of the reception sent to Amazon. Double-check the per-line quantities below.",badge:"bg-indigo-100 text-indigo-800"}},pB=(e="none")=>jw[e]||jw.none;function mB({shipment:e,onBack:t,onUpdate:r}){const{profile:n}=Ye(),i=[{id:1,code:"UPS",name:"UPS"},{id:2,code:"COLISSIMO",name:"Colissimo"},{id:3,code:"CHRONOPOST",name:"Chronopost"},{id:4,code:"DPD",name:"DPD"},{id:5,code:"GLS",name:"GLS"},{id:6,code:"DHL",name:"DHL"}],a=x.useMemo(()=>`admin-receiving-detail-${e.id}`,[e.id]),[o,l]=x.useState(e.receiving_items||[]),[c,u]=x.useState({}),[d,p]=x.useState(""),[h,m]=x.useState(null),[y,f]=x.useState(!1),g=I=>{var R,q;return{carrier:I.carrier||"",carrier_other:I.carrier_other||"",tracking_ids:(R=I.tracking_ids)!=null&&R.length?I.tracking_ids:I.tracking_id?[I.tracking_id]:[""],fba_shipment_ids:(q=I.fba_shipment_ids)!=null&&q.length?I.fba_shipment_ids:[""],notes:I.notes||"",fba_mode:I.fba_mode||"none"}},[v,b]=x.useState(g(e)),[_,S]=x.useState(new Set),[w,N]=x.useState(!1),[j,O]=x.useState({});x.useEffect(()=>{S(new Set),O({})},[e.id]),x.useEffect(()=>{l(e.receiving_items||[]),b(g(e))},[e]);const E=I=>Math.max(0,Number((I==null?void 0:I.quantity_received)||0)),P=I=>{if(!I)return 0;const R=I.received_units!=null?Number(I.received_units):Number(I.quantity_received||0);return Number.isFinite(R)&&R>=0?R:0},M=I=>{if(!(I!=null&&I.id)||!kw(String(I.id)))return!1;const R=Math.max(0,Number(I.fba_qty||0));return R===0?!1:P(I)>=R},T=x.useMemo(()=>o.filter(I=>M(I)&&!I.prep_request_created),[o]),$=T.length>0&&T.every(I=>_.has(I.id));x.useEffect(()=>{S(I=>{if(I.size===0)return I;const R=new Set(o.filter(re=>M(re)&&!re.prep_request_created).map(re=>re.id)),q=new Set;return I.forEach(re=>{R.has(re)&&q.add(re)}),q})},[o]),x.useEffect(()=>{try{const I=rm(Xt,a,null);if(!I)return;if(I.snapshot&&I.snapshot!==(e.updated_at||e.id)){Xt.removeItem(a);return}I.items&&l(I.items),I.editHeader&&b(R=>({...R,...I.editHeader})),I.receivedDrafts&&O(I.receivedDrafts)}catch{}},[a,e.updated_at,e.id]),x.useEffect(()=>{nm(Xt,a,{items:o,editHeader:v,receivedDrafts:j,snapshot:e.updated_at||e.id})},[a,e.updated_at,e.id,o,v,j]);const C=I=>I!=null&&I.id&&Object.prototype.hasOwnProperty.call(j,I.id)?j[I.id]:String(P(I)),U=(I,R)=>{I&&O(q=>({...q,[I]:R}))},K=async I=>{if(!(I!=null&&I.id))return;const R=Object.prototype.hasOwnProperty.call(j,I.id)?j[I.id]:I.received_units??I.quantity_received,q=Math.max(0,Math.floor(Number(R)||0)),re=P(I);if(q===re){O(ee=>{if(!Object.prototype.hasOwnProperty.call(ee,I.id))return ee;const D={...ee};return delete D[I.id],D});return}const k=q-re;m(I.id);try{if(!(n!=null&&n.id))throw new Error("Profile unavailable");const ee={received_units:q},D=E(I);ee.is_received=q>=D;const A=Math.max(0,Math.min(q,Number(I.fba_qty||0))),z=Math.max(0,q-A);ee.quantity_to_stock=z;const W=Sl(I);if(ee.remaining_action=Xl(A>0,A||W.qtyHint||q),await he.updateReceivingItem(I.id,ee),k!==0){const{error:L,stock_item_id:Z}=await he.adjustInventoryForReceiving({...I,company_id:e.company_id,stock_item:I.stock_item},k,n.id);if(L)throw L;Z&&!I.stock_item_id&&(I.stock_item_id=Z)}l(L=>L.map(Z=>Z.id===I.id?{...Z,received_units:q,is_received:ee.is_received,quantity_to_stock:ee.quantity_to_stock,stock_item_id:I.stock_item_id||Z.stock_item_id}:Z)),O(L=>{const Z={...L};return delete Z[I.id],Z}),p("Received units updated successfully.")}catch(ee){p(`Error: ${ee.message}`)}finally{m(null)}},F=x.useMemo(()=>{if(["cancelled","processed"].includes(e.status))return e.status;if(!o||o.length===0)return e.status||"submitted";const I=o.every(q=>{const re=E(q);return re<=0?!0:P(q)>=re}),R=o.some(q=>P(q)>0);return I&&R?"received":R?"partial":"submitted"},[o,e.status]),H=()=>{try{Xt.removeItem(a)}catch{}},G=()=>{H(),t()},ie=I=>{!I||!kw(String(I))||S(R=>{const q=new Set(R);return q.has(I)?q.delete(I):q.add(I),q})},J=I=>{if(!I){S(new Set);return}const R=new Set(o.filter(q=>M(q)&&!q.prep_request_created).map(q=>q.id));S(R)},Y=async()=>{if(_.size===0)return;if(!(n!=null&&n.id)){p("Profile unavailable. Please try again.");return}const I=Array.from(_),R=o.filter(k=>k.id&&I.includes(k.id));if(R.filter(k=>!M(k)).length>0){p("Select only lines where received units cover the FBA quantity.");return}const re=R.map(k=>{var Z,X;const ee=P(k),D=Math.max(0,Math.min(ee,Number(k.fba_qty||0))),A=Math.max(0,ee-D),z=k.asin||((Z=k.stock_item)==null?void 0:Z.asin)||null,W=k.sku||((X=k.stock_item)==null?void 0:X.sku)||null,L=D>0;return{...k,asin:z,sku:W,company_id:e.company_id,quantity_to_stock:A,remaining_action:Xl(L),send_to_fba:L,fba_qty:D}});try{N(!0);const{error:k,fbaLines:ee}=await he.processReceivingToStock(e.id,n.id,re,{skipShipmentUpdate:!0,createPrepRequest:!1});if(k)throw k;if(!ee||ee.length===0)throw new Error("No units ready to send to prep.");await he.createPrepRequest({company_id:e.company_id,user_id:e.user_id||e.created_by||n.id,destination_country:e.destination_country||"FR",status:"pending",items:ee}),await Q.from("receiving_items").update({fba_qty:0}).in("id",I);const D=new Set(I);l(A=>A.map(z=>{if(!D.has(z.id))return z;const W=P(z),L=Math.max(0,Math.min(W,Number(z.fba_qty||0)));return{...z,fba_qty:0,quantity_to_stock:Math.max(0,W-L),send_to_fba:!1,prep_request_created:!0}})),S(new Set),p("Send to prep successful.")}catch(k){console.error("create prep request failed",k),p((k==null?void 0:k.message)||"Failed to create prep request.")}finally{N(!1)}};x.useEffect(()=>{pe()},[e.company_id,o]);const pe=async()=>{if(!e.company_id||o.length===0)return;const I=Array.from(new Set(o.map(k=>{var ee;return k.ean||k.ean_asin||((ee=k.stock_item)==null?void 0:ee.ean)||null}).filter(Boolean)));if(I.length===0){u({});return}const{data:R,error:q}=await he.findStockMatches(e.company_id,I);if(q){u({});return}const re={};(R||[]).forEach(k=>{re[k.ean]=k}),u(re)},oe=async()=>{if(confirm("Delete this reception? This action cannot be undone."))try{let{error:I}=await he.deleteReceivingShipment(e.id);if(I&&/foreign key|constraint/i.test(I.message)){const{error:R}=await Q.from("receiving_items").delete().eq("shipment_id",e.id);if(R)throw R;const{error:q}=await he.deleteReceivingShipment(e.id);if(q)throw q;I=null}if(I)throw I;p("Reception deleted successfully."),r(),G()}catch(I){p(`Delete error: ${I.message}`)}},se=v.fba_mode||e.fba_mode||"none",_e=pB(se),te=o.some(I=>{const R=Sl(I);return R.hasIntent||R.directFromAction}),de=se!=="none"||te,B=typeof d=="string"&&d.toLowerCase().includes("success");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:G,className:"flex items-center text-text-secondary hover:text-primary",children:[s.jsx(Vl,{className:"w-4 h-4 mr-1"}),"Back to list"]}),["draft","submitted","received","processed","cancelled"].includes(e.status)&&s.jsx("button",{onClick:()=>f(!0),className:"px-3 py-1 border border-blue-500 text-blue-600 rounded hover:bg-blue-50",children:"Edit"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(eo,{code:e.destination_country||"FR",variant:"hero"}),s.jsx(Bg,{status:F}),s.jsx("span",{className:"text-text-secondary",children:new Date(e.created_at).toLocaleDateString()})]})]}),d&&s.jsx("div",{className:`px-4 py-3 rounded-lg ${B?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"}`,children:d}),de&&s.jsxs("div",{className:"px-4 py-3 rounded-lg border border-blue-200 bg-blue-50 text-blue-900 text-sm",children:[s.jsx("p",{className:"font-semibold",children:_e.label}),s.jsx("p",{className:"text-xs mt-1",children:_e.detail})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:["Reception #",e.id.slice(0,8)]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Client"}),s.jsxs("p",{className:"text-text-primary",children:[e.store_name||e.client_name||"",s.jsx("br",{}),s.jsx("span",{className:"text-sm text-text-secondary",children:e.client_email||e.user_email||""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Destination"}),s.jsx(eo,{code:e.destination_country||"FR",variant:"loud"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Carrier"}),y?s.jsxs(s.Fragment,{children:[s.jsxs("select",{value:v.carrier,onChange:I=>b(R=>({...R,carrier:I.target.value})),className:"border rounded px-2 py-1 w-full mb-2",children:[s.jsx("option",{value:"",children:"Select carrier"}),i.map(I=>s.jsx("option",{value:I.code,children:I.name},I.code)),s.jsx("option",{value:"OTHER",children:"Other"})]}),v.carrier==="OTHER"&&s.jsx("input",{type:"text",placeholder:"Carrier name",value:v.carrier_other,onChange:I=>b(R=>({...R,carrier_other:I.target.value})),className:"border rounded px-2 py-1 w-full mb-2"}),s.jsx("label",{className:"block text-sm font-medium text-text-secondary mt-3",children:"Tracking numbers"}),(v.tracking_ids||[""]).map((I,R)=>{var q;return s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"text",value:I,onChange:re=>{const k=[...v.tracking_ids||[]];k[R]=re.target.value,b({...v,tracking_ids:k})},className:"flex-1 px-3 py-2 border rounded font-mono",placeholder:"e.g. 1Z999AA1234567890"}),(((q=v.tracking_ids)==null?void 0:q.length)??0)>1&&s.jsx("button",{type:"button",onClick:()=>{const re=v.tracking_ids.filter((k,ee)=>ee!==R);b({...v,tracking_ids:re})},className:"text-red-500 font-bold text-lg",children:""})]},R)}),s.jsx("button",{type:"button",onClick:()=>b({...v,tracking_ids:[...v.tracking_ids||[],""]}),className:"text-blue-600 hover:underline text-sm",children:"Add tracking number"}),s.jsx("label",{className:"block text-sm font-medium text-text-secondary mt-3",children:"FBA Shipment ID(s)"}),(v.fba_shipment_ids||[""]).map((I,R)=>{var q;return s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"text",value:I,onChange:re=>{const k=[...v.fba_shipment_ids||[]];k[R]=re.target.value,b({...v,fba_shipment_ids:k})},className:"flex-1 px-3 py-2 border rounded font-mono",placeholder:"e.g. FBA15KZV38J"}),(((q=v.fba_shipment_ids)==null?void 0:q.length)??0)>1&&s.jsx("button",{type:"button",onClick:()=>{const re=v.fba_shipment_ids.filter((k,ee)=>ee!==R);b({...v,fba_shipment_ids:re})},className:"text-red-500 font-bold text-lg",children:""})]},R)}),s.jsx("button",{type:"button",onClick:()=>b({...v,fba_shipment_ids:[...v.fba_shipment_ids||[],""]}),className:"text-blue-600 hover:underline text-sm",children:"Add FBA Shipment ID"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-text-primary",children:[e.carrier||"",e.carrier_other&&` (${e.carrier_other})`]}),(Array.isArray(e.tracking_ids)?e.tracking_ids:[e.tracking_id]).filter(Boolean).map((I,R)=>s.jsx("p",{className:"font-mono text-text-secondary",children:I},R)),(e.fba_shipment_ids||[]).filter(Boolean).length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"FBA Shipment ID(s)"}),e.fba_shipment_ids.map((I,R)=>s.jsx("p",{className:"font-mono text-blue-600",children:I},R))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Notes"}),y?s.jsx("textarea",{value:v.notes,onChange:I=>b(R=>({...R,notes:I.target.value})),className:"border rounded px-2 py-1 w-full",rows:2}):s.jsx("p",{className:"text-text-primary",children:e.notes||""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Direct Amazon shipment"}),y?s.jsxs("select",{value:v.fba_mode||"none",onChange:I=>b(R=>({...R,fba_mode:I.target.value})),className:"border rounded px-2 py-1 w-full",children:[s.jsx("option",{value:"none",children:"Store everything"}),s.jsx("option",{value:"full",children:"Send everything to Amazon"}),s.jsx("option",{value:"partial",children:"Partial shipment"})]}):s.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${_e.badge}`,children:_e.label})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Statut"}),y?s.jsxs("select",{value:v.status||e.status||"draft",onChange:I=>b(R=>({...R,status:I.target.value})),className:"border rounded px-2 py-1 w-full",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"submitted",children:"Submitted"}),s.jsx("option",{value:"partial",children:"Partial"}),s.jsx("option",{value:"received",children:"Received"}),s.jsx("option",{value:"processed",children:"Processed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}):s.jsx(Bg,{status:e.status})]})]}),y&&s.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[s.jsx("button",{onClick:async()=>{var q;const I=(v.tracking_ids||[]).map(re=>re.trim()).filter(re=>re!==""),R=(v.fba_shipment_ids||[]).map(re=>re.trim()).filter(re=>re!=="");await he.updateReceivingShipment(e.id,{carrier:v.carrier||null,carrier_other:v.carrier_other||null,tracking_ids:I.length>0?I:[],fba_shipment_ids:R.length>0?R:[],notes:((q=v.notes)==null?void 0:q.trim())||null,status:v.status||e.status,fba_mode:v.fba_mode||e.fba_mode||"none"}),f(!1),r()},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Save changes"}),s.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border rounded text-gray-600 hover:bg-gray-50",children:"Cancel"})]}),s.jsx("div",{className:"flex justify-end space-x-3",children:e.status==="submitted"&&s.jsxs("button",{onClick:oe,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Delete"]})}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-text-primary mb-4",children:["Products (",o.length,")"]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-4",children:[s.jsx("p",{className:"text-sm text-text-secondary",children:T.length===0?"No lines are ready for Amazon yet.":_.size>0?`${_.size} line${_.size===1?"":"s"} ready to send to Amazon`:"Select received lines to create a prep request."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[s.jsx("input",{type:"checkbox",checked:T.length>0&&$,onChange:I=>J(I.target.checked),disabled:T.length===0}),"Select all ready"]}),s.jsx("button",{onClick:Y,disabled:_.size===0||w,className:"inline-flex items-center px-3 py-2 rounded border border-blue-500 text-blue-700 hover:bg-blue-50 disabled:opacity-50",children:w?"Sending":"Send to prep"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Photo"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"EAN / ASIN"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Product name"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Quantity"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"SKU"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"FBA"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Prep"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"})]})}),s.jsx("tbody",{children:o.map((I,R)=>{var me,Ae,Fe,Xe,He;const q=I.asin||((me=I.stock_item)==null?void 0:me.asin)||"",re=I.ean||I.ean_asin||((Ae=I.stock_item)==null?void 0:Ae.ean)||"",k=I.product_name||((Fe=I.stock_item)==null?void 0:Fe.name)||"",ee=((Xe=I.stock_item)==null?void 0:Xe.image_url)||I.image_url||"",D=I.sku||((He=I.stock_item)==null?void 0:He.sku)||"",A=Sl(I),z=P(I),W=E(I);let L=A.qty>0?A.qty:0;L===0&&A.directFromAction&&(L=W),L=Math.min(L,W);const Z=z>0?Math.min(L||z,z):0,X=Math.max(0,L-Z),le=A.hasIntent||A.directFromAction,ce=I.received_at?new Date(I.received_at):null;let ae;if(W<=0&&z<=0)ae={label:"Pending",detail:"0 received",color:"bg-gray-100 text-gray-700"};else if(z<=0)ae={label:"Pending",detail:`0/${W} received`,color:"bg-gray-100 text-gray-700"};else if(z>=W)ae={label:"Received",detail:`${z}/${W} received`,color:"bg-green-100 text-green-800"};else{const qe=Math.max(0,W-z);ae={label:"Partial",detail:`${z}/${W} received, ${qe} pending`,color:"bg-amber-100 text-amber-800"}}const be=["border-t","transition-colors"];return le&&be.push("bg-sky-50/70"),ae.label==="Received"?be.push("bg-emerald-50"):ae.label==="Partial"&&be.push("bg-amber-50/30"),s.jsxs("tr",{className:be.join(" "),children:[s.jsx("td",{className:"px-4 py-3",children:ee?s.jsx("img",{src:ee,alt:k,className:"w-14 h-14 object-cover rounded border"}):s.jsx("div",{className:"w-14 h-14 border rounded bg-gray-50 text-[10px] text-text-secondary flex items-center justify-center",children:"No Img"})}),s.jsxs("td",{className:"px-4 py-3 text-xs text-text-secondary",children:[s.jsx("div",{className:"font-mono text-sm text-text-primary",children:re}),s.jsx("div",{className:"font-mono",children:q})]}),s.jsx("td",{className:"px-4 py-3",children:k}),s.jsxs("td",{className:"px-4 py-3 text-right",children:[s.jsx("div",{className:"font-semibold text-text-primary",children:`${W} expected`}),s.jsxs("div",{className:"mt-2 text-left",children:[s.jsx("label",{className:"text-xs text-text-secondary block mb-1",children:"Received units"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",min:"0",value:C(I),onChange:qe=>U(I.id,qe.target.value),onBlur:()=>K(I),onKeyDown:qe=>{qe.key==="Enter"&&(qe.preventDefault(),K(I))},disabled:h===I.id,className:"w-24 text-right border rounded px-2 py-1"}),h===I.id&&s.jsx("span",{className:"text-xs text-text-secondary",children:"Saving"})]}),s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:`${z} / ${W} received`})]}),s.jsx("div",{className:"text-xs space-y-0.5 mt-2 text-left",children:le?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-blue-700 font-semibold",children:`Client request: ${L}  Amazon`}),s.jsx("div",{className:"text-text-secondary",children:Z>0?X>0?`${Z} sent, ${X} pending`:`${Z} sent to Amazon`:"Pending reception"})]}):s.jsx("div",{className:"text-text-secondary",children:"Stored in prep center"})})]}),s.jsx("td",{className:"px-4 py-3 font-mono",children:D}),s.jsx("td",{className:"px-4 py-3 text-center",children:le?s.jsxs("div",{className:"inline-flex flex-col px-2 py-1 rounded bg-blue-50 text-blue-700 text-xs font-semibold",children:[s.jsx("span",{children:L}),s.jsx("span",{className:"text-[10px] text-blue-500",children:"planned"})]}):s.jsx("span",{className:"text-text-secondary",children:""})}),s.jsx("td",{className:"px-4 py-3 text-center",children:M(I)&&!I.prep_request_created?s.jsx("input",{type:"checkbox",checked:I.id?_.has(I.id):!1,onChange:()=>I.id&&ie(I.id)}):I.prep_request_created?s.jsx("span",{className:"text-xs text-green-700 font-semibold",children:"Queued"}):s.jsx("span",{className:"text-text-secondary text-xs",children:""})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${ae.color}`,children:ae.label}),s.jsx("span",{className:"text-xs text-text-secondary mt-1",children:ae.label==="Received"&&ce?`Received ${ce.toLocaleDateString()}`:ae.detail})]})})]},I.id||R)})})]})})]})]})]})}function hB(){const{profile:e}=Ye(),t={statusFilter:"all",searchQuery:"",page:1,selectedShipmentId:null},[r,n]=bt("admin-receiving-list",t),[i,a]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(null),[d,p]=x.useState(""),[h,m]=x.useState(r.statusFilter??"all"),[y,f]=x.useState(r.searchQuery??""),[g,v]=x.useState(r.page??1),[b,_]=x.useState(1),[S,w]=x.useState(new Set);x.useEffect(()=>{n({statusFilter:h,searchQuery:y,page:g,selectedShipmentId:(c==null?void 0:c.id)||null})},[h,y,g,c,n]);const N=20;x.useEffect(()=>{j()},[h,g]),x.useEffect(()=>{const K=r==null?void 0:r.selectedShipmentId;if(!K||c&&c.id===K)return;const F=i.find(H=>H.id===K);F&&u(F)},[i,r==null?void 0:r.selectedShipmentId]);const j=async()=>{l(!0);try{const K={status:h==="all"?void 0:h,page:g,pageSize:N},{data:F,error:H,count:G}=await he.getAllReceivingShipments(K);if(H)throw H;a(F||[]),E(G||0),_(Math.ceil((G||0)/N))}catch(K){p(`Erreur de chargement: ${K.message}`),a([])}finally{l(!1)}},[O,E]=x.useState(0),P=i.filter(K=>{if(!y)return!0;const F=String(y).toLowerCase();return(Array.isArray(K.tracking_ids)?K.tracking_ids.some(G=>String(G||"").toLowerCase().includes(F)):String(K.tracking_id||"").toLowerCase().includes(F))||String(K.client_name||"").toLowerCase().includes(F)||String(K.user_email||"").toLowerCase().includes(F)||String(K.company_name||"").toLowerCase().includes(F)}),M=async()=>{if(S.size===0){p("Please select at least one reception.");return}if(confirm(`Mark ${S.size} reception(s) as received?`))try{const K=Array.from(S),{error:F}=await he.markMultipleAsReceived(K,e.id);if(F)throw F;p(`${S.size} reception(s) marked as received.`),w(new Set),j()}catch(K){p(`Erreur: ${K.message}`)}},T=async K=>{if(confirm("tergi aceast recepie? Operaiunea este definitiv.")){l(!0),p("");try{let{error:F}=await he.deleteReceivingShipment(K);if(F&&/foreign key|constraint/i.test(F.message)){const{error:H}=await Q.from("receiving_items").delete().eq("shipment_id",K);if(H)throw H;const{error:G}=await he.deleteReceivingShipment(K);if(G)throw G;F=null}if(F)throw F;p("Recepia a fost tears cu succes"),await j()}catch(F){p(`Eroare la tergere: ${F.message}`)}finally{l(!1)}}},$=K=>{const F=new Set(S);F.has(K)?F.delete(K):F.add(K),w(F)},C=()=>{S.size===P.length?w(new Set):w(new Set(P.map(K=>K.id)))};if(c)return s.jsx(mB,{shipment:c,onBack:()=>u(null),onUpdate:()=>{j(),u(null)}});const U=typeof d=="string"&&d.toLowerCase().includes("success");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Reception Management"}),s.jsx("p",{className:"text-text-secondary",children:"Review and process client receiving announcements"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[S.size>0&&s.jsxs("button",{onClick:M,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Mark selected as received (",S.size,")"]}),s.jsxs("button",{onClick:j,className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx($a,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),d&&s.jsx("div",{className:`px-4 py-3 rounded-lg ${U?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"}`,children:d}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ry,{className:"w-4 h-4 text-text-secondary"}),s.jsxs("select",{value:h,onChange:K=>{m(K.target.value),v(1)},className:"border border-gray-300 rounded-lg px-3 py-2",children:[s.jsx("option",{value:"all",children:"All statuses"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"submitted",children:"Submitted"}),s.jsx("option",{value:"partial",children:"Partial"}),s.jsx("option",{value:"received",children:"Received"}),s.jsx("option",{value:"processed",children:"Processed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:[s.jsx(Xp,{className:"w-4 h-4 text-text-secondary"}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:y,onChange:K=>f(K.target.value),placeholder:"Search by tracking number, client, or email...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-8"}),y&&s.jsx("button",{type:"button",onClick:()=>f(""),className:"absolute inset-y-0 right-2 flex items-center text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:s.jsx(yr,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:S.size===P.length&&P.length>0,onChange:C,className:"rounded border-gray-300"})}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Carrier"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Tracking"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Destination"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Products"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Lines"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),s.jsx("tbody",{children:o?s.jsx("tr",{children:s.jsx("td",{colSpan:10,className:"px-4 py-12 text-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})})}):P.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:10,className:"px-4 py-12 text-center",children:[s.jsx(vc,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-text-secondary",children:"No receptions found"})]})}):P.map(K=>{var J,Y,pe;const F=String(K.client_email||K.user_email||"").trim(),H=F.includes("@"),G=K.fba_mode&&K.fba_mode!=="none"||(K.receiving_items||[]).some(oe=>{const se=Sl(oe);return se.hasIntent||se.directFromAction});(K.receiving_items||[]).reduce((oe,se)=>{const _e=Math.max(0,Number(se.quantity_received??se.units_requested??se.qty??se.quantity??se.requested??0)||0);return oe.announced+=_e,oe},{announced:0});const ie=G?"border-t bg-sky-50 hover:bg-sky-100/60":"border-t hover:bg-gray-50";return s.jsxs("tr",{className:ie,children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"checkbox",checked:S.has(K.id),onChange:()=>$(K.id),className:"rounded border-gray-300"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Va,{className:"w-4 h-4 text-text-secondary mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-text-primary",children:K.store_name||K.client_name||""}),H&&s.jsx("p",{className:"text-xs text-text-secondary",children:F}),K.company_name&&s.jsxs("p",{className:"text-xs text-text-secondary flex items-center",children:[s.jsx(Ls,{className:"w-3 h-3 mr-1"}),K.company_name]})]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:"text-text-primary",children:[K.carrier,K.carrier_other&&s.jsxs("span",{className:"text-text-secondary",children:[" (",K.carrier_other,")"]})]})}),s.jsx("td",{className:"px-4 py-3",children:(K.tracking_ids||[K.tracking_id]).filter(Boolean).map((oe,se)=>s.jsx("p",{className:"font-mono",children:oe},se))}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(eo,{code:K.destination_country||"FR",variant:"subtle"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bg,{status:K.status}),G&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700",children:"FBA"})]})}),s.jsx("td",{className:"px-4 py-3 align-top",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[(K.receiving_items||[]).slice(0,3).map((oe,se)=>{var de,B;const _e=((de=oe.stock_item)==null?void 0:de.image_url)||oe.image_url||"",te=oe.product_name||((B=oe.stock_item)==null?void 0:B.name)||`Line ${se+1}`;return _e?s.jsx("img",{src:_e,alt:te,className:"w-12 h-12 rounded border object-cover"},`${K.id}-${oe.id||se}`):s.jsx("div",{className:"w-12 h-12 rounded border bg-gray-100 flex items-center justify-center text-[10px] text-gray-400",title:te,children:"N/A"},`${K.id}-${oe.id||se}-ph`)}),(((J=K.receiving_items)==null?void 0:J.length)||0)>3&&s.jsxs("span",{className:"text-xs text-text-secondary",children:["+",(((Y=K.receiving_items)==null?void 0:Y.length)||0)-3," more"]})]})}),s.jsxs("td",{className:"px-4 py-3 text-center",children:[s.jsx("span",{className:"text-text-primary font-semibold",children:((pe=K.receiving_items)==null?void 0:pe.length)||0}),s.jsx("p",{className:"text-[11px] uppercase tracking-wide text-text-secondary",children:"Lines"})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center text-text-secondary",children:[s.jsx(Bd,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:new Date(K.created_at).toLocaleDateString("fr-FR")})]})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex justify-end items-center gap-3",children:[s.jsx("button",{onClick:()=>u(K),className:"text-primary hover:text-primary-dark font-medium",title:"View reception details",children:"View details"}),s.jsxs("button",{onClick:()=>T(K.id),className:"flex items-center text-red-600 hover:text-red-700 font-medium",title:"Delete reception",children:[s.jsx(Nt,{className:"inline w-4 h-4 mr-1"}),"Delete"]})]})})]},K.id)})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-text-secondary",children:["Showing ",(g-1)*N+1,"-",Math.min(g*N,O)," of ",O,S.size>0&&s.jsxs("span",{className:"ml-2 font-medium",children:["(",S.size," selected)"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>v(Math.max(1,g-1)),disabled:g<=1,className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 hover:bg-gray-50",children:s.jsx(Ld,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-text-secondary",children:["Page ",g," of ",b]}),s.jsx("button",{onClick:()=>v(Math.min(b,g+1)),disabled:g>=b,className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 hover:bg-gray-50",children:s.jsx(Wl,{className:"w-4 h-4"})})]})]})]})}function fB(){const[e,t]=Zt.useState("receiving"),r=["fr","en","de","it","es","ro"],[n,i]=Zt.useState("fr"),[a,o]=Zt.useState(null),[l,c]=Zt.useState(""),[u,d]=Zt.useState([]),[p,h]=Zt.useState(!1),m=Zt.useCallback(async()=>{try{const{data:g,error:v}=await Q.storage.from("user_guides").list(e,{limit:100,offset:0});if(v)throw v;d((g||[]).filter(b=>{var _;return(_=b==null?void 0:b.name)==null?void 0:_.endsWith(".pdf")}).map(b=>b.name))}catch{}},[e]);Zt.useEffect(()=>{m()},[m,e]);const y=async()=>{if(!a){c("Selecteaz un fiier PDF.");return}if(!/\.pdf$/i.test(a.name)){c("Te rog ncarc un fiier .pdf.");return}h(!0),c("Se ncarc...");try{const g=`${e}/${n}.pdf`,{error:v}=await Q.storage.from("user_guides").upload(g,a,{upsert:!0,cacheControl:"3600",contentType:"application/pdf"});if(v)throw v;c("PDF ncrcat "),o(null),await m()}catch(g){c(`Eroare la ncrcare: ${g.message}`)}finally{h(!1)}},f=async g=>{if(!(!g||p)&&window.confirm(`tergi fiierul ${g}?`)){h(!0),c("terg fiierul...");try{const v=`${e}/${g}`,{error:b}=await Q.storage.from("user_guides").remove([v]);if(b)throw b;c("PDF ters "),await m()}catch(v){c(`Eroare la tergere: ${v.message}`)}finally{h(!1)}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-text-primary flex items-center",children:[s.jsx(za,{className:"w-5 h-5 mr-2"}),"Import Instructions (PDF)  ",e==="receiving"?"Receiving":"Stock"]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Section"}),s.jsxs("select",{value:e,onChange:g=>t(g.target.value),className:"w-full border rounded-lg px-3 py-2",disabled:p,children:[s.jsx("option",{value:"receiving",children:"Receiving"}),s.jsx("option",{value:"stock",children:"Stock"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Limb"}),s.jsx("select",{value:n,onChange:g=>i(g.target.value),className:"w-full border rounded-lg px-3 py-2",disabled:p,children:r.map(g=>s.jsx("option",{value:g,children:g.toUpperCase()},g))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Fiier PDF"}),s.jsx("input",{type:"file",accept:"application/pdf",onChange:g=>{var v;return o(((v=g.target.files)==null?void 0:v[0])||null)},className:"w-full border rounded-lg px-3 py-2",disabled:p})]}),s.jsx("div",{children:s.jsxs("button",{onClick:y,className:"inline-flex items-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-60",disabled:p||!a,children:[s.jsx(By,{className:"w-4 h-4 mr-2"}),"Upload / Replace"]})})]}),l&&s.jsx("div",{className:"px-4 py-2 rounded bg-gray-50 border text-sm",children:l}),u.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm text-text-secondary mb-1",children:["Fiiere existente pentru ",s.jsx("b",{children:e}),":"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(g=>s.jsxs("div",{className:"px-2 py-1 text-xs rounded border bg-gray-50 flex items-center gap-2",children:[s.jsx("span",{className:"select-text",children:g}),s.jsx("button",{type:"button",className:"text-red-600 hover:text-red-800",onClick:()=>f(g),disabled:p,children:"Remove"})]},g))})]})]})]})}const Aw={owner_profile_id:"",code:"",label:"",description:"",payout_type:"percentage",percent_below_threshold:"",percent_above_threshold:"",threshold_amount:"",fixed_amount:""},Pi=e=>{const t=[e==null?void 0:e.first_name,e==null?void 0:e.last_name].filter(Boolean);return t.length?t.join(" "):e!=null&&e.company_name?e.company_name:e!=null&&e.store_name?e.store_name:""};function Cw(){const{t:e}=xo(),[t,r]=x.useState([]),[n,i]=x.useState([]),[a,o]=x.useState(null),[l,c]=x.useState({assigned:[],candidates:[]}),[u,d]=x.useState(!0),[p,h]=x.useState(!0),[m,y]=x.useState(!1),[f,g]=x.useState(""),[v,b]=x.useState(Aw),[_,S]=x.useState(!1),[w,N]=x.useState([]),j=async()=>{d(!0),h(!0);try{const[{data:F},{data:H},{data:G}]=await Promise.all([ut.listAffiliateRequests(),ut.listAffiliateCodes(),ut.listAffiliateOwnerOptions()]);r(F||[]),i(H||[]),N(G||[])}finally{d(!1),h(!1)}};x.useEffect(()=>{j()},[]);const O=async F=>{var H;if(F.preventDefault(),!v.owner_profile_id||!v.code){g(e("affiliates.formError"));return}S(!0);try{const G={owner_profile_id:v.owner_profile_id,code:v.code.trim().toUpperCase(),label:v.label||Pi(((H=n.find(ie=>ie.owner_profile_id===v.owner_profile_id))==null?void 0:H.owner)||{})||"Affiliate",description:v.description||null,payout_type:v.payout_type,percent_below_threshold:v.percent_below_threshold||null,percent_above_threshold:v.percent_above_threshold||null,threshold_amount:v.threshold_amount||null,fixed_amount:v.fixed_amount||null};await ut.createAffiliateCode(G),b(Aw),g(e("affiliates.createSuccess")),j()}catch(G){console.error("createAffiliateCode",G),g(G.message||"Failed to create code")}finally{S(!1)}},E=async F=>{o(F),y(!0);const{assigned:H,candidates:G}=await ut.getAffiliateCodeMembers(F.id,F.code);c({assigned:H,candidates:G}),y(!1)},P=async F=>{a&&(y(!0),await ut.assignAffiliateCodeToProfile(F,a.id),await E(a))},M=async F=>{y(!0),await ut.removeAffiliateCodeFromProfile(F),await E(a)},T=async F=>{await ut.updateAffiliateCode(F.id,{active:!F.active}),j()},$=async(F,H)=>{if(H==="reject"){await ut.respondAffiliateRequest(F.id,{status:"rejected"}),j();return}F.profile&&N(G=>G.some(ie=>ie.id===F.profile_id)?G:[...G,F.profile]),b(G=>({...G,owner_profile_id:F.profile_id,code:F.preferred_code?F.preferred_code.toUpperCase():"",label:Pi(F.profile)}))},C=x.useMemo(()=>t.filter(F=>F.status==="pending"),[t]),U=x.useMemo(()=>new Set((n||[]).map(F=>F.owner_profile_id).filter(Boolean)),[n]),K=x.useMemo(()=>{const F=new Map;return w.forEach(H=>{H!=null&&H.id&&F.set(H.id,H)}),C.forEach(H=>{var G;(G=H.profile)!=null&&G.id&&F.set(H.profile_id,H.profile)}),Array.from(F.values()).sort((H,G)=>Pi(H).localeCompare(Pi(G)))},[w,C]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:e("affiliates.title")}),s.jsx("p",{className:"text-text-secondary text-sm",children:e("affiliates.subtitle")})]}),s.jsxs("div",{className:"bg-white border rounded-xl p-6 space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ly,{className:"w-4 h-4"})," ",e("affiliates.createTitle")]}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary mb-1 block",children:e("affiliates.ownerSelect")}),s.jsxs("select",{value:v.owner_profile_id,onChange:F=>b(H=>({...H,owner_profile_id:F.target.value})),className:"w-full border rounded-lg px-3 py-2",children:[s.jsx("option",{value:"",children:e("affiliates.ownerPlaceholder")}),K.map(F=>{const H=U.has(F.id)&&v.owner_profile_id!==F.id;return s.jsxs("option",{value:F.id,disabled:H,children:[Pi(F)," (",F.company_name||F.store_name||"",H?`  ${e("affiliates.ownerHasCode")}`:"",")"]},F.id)})]}),p&&s.jsxs("p",{className:"text-xs text-text-secondary mt-1 flex items-center gap-1",children:[s.jsx(Bs,{className:"w-3 h-3 animate-spin"})," ",e("affiliates.ownerLoading")]}),!p&&K.length===0&&s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:e("affiliates.ownerEmpty")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary mb-1 block",children:e("affiliates.codeLabel")}),s.jsx("input",{value:v.code,onChange:F=>b(H=>({...H,code:F.target.value.toUpperCase()})),className:"w-full border rounded-lg px-3 py-2 uppercase",placeholder:"AF001"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary mb-1 block",children:e("affiliates.payoutType")}),s.jsxs("select",{value:v.payout_type,onChange:F=>b(H=>({...H,payout_type:F.target.value})),className:"w-full border rounded-lg px-3 py-2",children:[s.jsx("option",{value:"percentage",children:e("affiliates.modePercent")}),s.jsx("option",{value:"threshold",children:e("affiliates.modeThreshold")})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary mb-1 block",children:e("affiliates.labelLabel")}),s.jsx("input",{value:v.label,onChange:F=>b(H=>({...H,label:F.target.value})),className:"w-full border rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm text-text-secondary mb-1 block flex items-center gap-1",children:[s.jsx(v_,{className:"w-3 h-3"})," ",e("affiliates.percentBelow")]}),s.jsx("input",{type:"number",step:"0.1",value:v.percent_below_threshold,onChange:F=>b(H=>({...H,percent_below_threshold:F.target.value})),className:"w-full border rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm text-text-secondary mb-1 block flex items-center gap-1",children:[s.jsx(v_,{className:"w-3 h-3"})," ",e("affiliates.percentAbove")]}),s.jsx("input",{type:"number",step:"0.1",value:v.percent_above_threshold,onChange:F=>b(H=>({...H,percent_above_threshold:F.target.value})),className:"w-full border rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary mb-1 block",children:e("affiliates.threshold")}),s.jsx("input",{type:"number",step:"10",value:v.threshold_amount,onChange:F=>b(H=>({...H,threshold_amount:F.target.value})),className:"w-full border rounded-lg px-3 py-2"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary mb-1 block",children:e("affiliates.fixedAmount")}),s.jsx("input",{type:"number",step:"10",value:v.fixed_amount,onChange:F=>b(H=>({...H,fixed_amount:F.target.value})),className:"w-full border rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary mb-1 block",children:e("affiliates.descriptionLabel")}),s.jsx("input",{value:v.description,onChange:F=>b(H=>({...H,description:F.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:e("affiliates.descriptionPlaceholder")})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:_,className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50",children:e(_?"common.loading":"affiliates.createBtn")}),f&&s.jsx("span",{className:"text-sm text-text-secondary",children:f})]})]})]}),s.jsx("div",{className:"grid gap-4",children:u?s.jsxs("div",{className:"text-sm text-text-secondary flex items-center gap-2",children:[s.jsx(Bs,{className:"w-4 h-4 animate-spin"})," ",e("common.loading")]}):s.jsxs(s.Fragment,{children:[C.length>0&&s.jsxs("div",{className:"bg-white border rounded-xl p-4 space-y-3",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ln,{className:"w-4 h-4"})," ",e("affiliates.requestsTitle")]}),C.map(F=>s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between border rounded-lg p-3 gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:Pi(F.profile)}),s.jsx("p",{className:"text-xs text-text-secondary",children:F.notes||e("affiliates.noNotes")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",className:"px-3 py-1 text-sm border rounded text-green-700 border-green-200",onClick:()=>$(F,"approve"),children:[s.jsx(Bj,{className:"w-4 h-4 inline mr-1"})," ",e("affiliates.requestApprove")]}),s.jsxs("button",{type:"button",className:"px-3 py-1 text-sm border rounded text-red-600 border-red-200",onClick:()=>$(F,"reject"),children:[s.jsx(yr,{className:"w-4 h-4 inline mr-1"})," ",e("affiliates.requestReject")]})]})]},F.id))]}),n.map(F=>s.jsxs("div",{className:`bg-white border rounded-xl p-4 ${(a==null?void 0:a.id)===F.id?"ring-2 ring-primary":""}`,children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-mono",children:F.code}),s.jsx("p",{className:"text-text-primary font-semibold",children:F.label}),F.description&&s.jsx("p",{className:"text-sm text-text-secondary",children:F.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-1 text-sm border rounded",onClick:()=>T(F),children:F.active?e("affiliates.disable"):e("affiliates.enable")}),s.jsx("button",{type:"button",className:"px-3 py-1 text-sm border rounded bg-gray-50",onClick:()=>E(F),children:e("affiliates.viewMembers")})]})]}),(a==null?void 0:a.id)===F.id&&s.jsx("div",{className:"mt-4",children:m?s.jsxs("div",{className:"text-sm text-text-secondary flex items-center gap-2",children:[s.jsx(Bs,{className:"w-4 h-4 animate-spin"})," ",e("common.loading")]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-1",children:[s.jsx(Wa,{className:"w-4 h-4"})," ",e("affiliates.assignedTitle")]}),l.assigned.length===0?s.jsx("p",{className:"text-xs text-text-secondary",children:e("affiliates.noAssigned")}):s.jsx("ul",{className:"space-y-2",children:l.assigned.map(H=>s.jsxs("li",{className:"flex items-center justify-between text-sm border rounded px-3 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:Pi(H)}),s.jsx("p",{className:"text-xs text-text-secondary uppercase",children:H.id})]}),s.jsx("button",{type:"button",className:"text-xs text-red-600",onClick:()=>M(H.id),children:e("affiliates.remove")})]},H.id))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-1",children:[s.jsx(vR,{className:"w-4 h-4"})," ",e("affiliates.candidatesTitle")]}),l.candidates.length===0?s.jsx("p",{className:"text-xs text-text-secondary",children:e("affiliates.noCandidates")}):s.jsx("ul",{className:"space-y-2",children:l.candidates.map(H=>s.jsxs("li",{className:"flex items-center justify-between text-sm border rounded px-3 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:Pi(H)}),s.jsx("p",{className:"text-xs text-text-secondary",children:H.affiliate_code_input||"-"})]}),s.jsx("button",{type:"button",className:"text-xs text-primary",onClick:()=>P(H.id),children:e("affiliates.assign")})]},H.id))})]})]})})]},F.id))]})})]})}const ld=[{id:"FBA Prep Services",key:"fba",addLabelKey:"adminPricing.addPrep",defaults:[{service_name:"FNSKU Labeling",unit:"/unit"},{service_name:"Polybagging",unit:"/unit"},{service_name:"Bubble Wrap",unit:"/unit"},{service_name:"Quality Check",unit:"/unit"},{service_name:"Dunnage / Protective Fill",unit:"/unit"}]},{id:"FBM Fulfillment",key:"fbm",addLabelKey:"adminPricing.addPlatform",defaults:[{service_name:"Amazon FBM",unit:"/order"},{service_name:"eBay",unit:"/order"},{service_name:"Shopify / Website",unit:"/order"},{service_name:"Vinted",unit:"/order"}]},{id:"Extra Services",key:"extra",addLabelKey:"adminPricing.addService",defaults:[{service_name:"Insert Materials",unit:"/unit"},{service_name:"Custom Labels",unit:"/unit"},{service_name:"Translation Fee",unit:"/project"}]},{id:"Storage",key:"storage",addLabelKey:"adminPricing.addStorage",defaults:[{service_name:"Standard Storage",unit:"/m/month"},{service_name:"Oversized",unit:"+/month"},{service_name:"Fragile",unit:"+/month"}]}],Pw=()=>ld.reduce((e,t)=>(e[t.id]=[],e),{}),Ew=()=>`tmp-${typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Math.random().toString(36).slice(2,10)}`,gB=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)});function vB(){const{t:e}=xo(),[t,r]=x.useState(Pw),[n,i]=x.useState(!0),[a,o]=x.useState({}),[l,c]=x.useState({}),[u,d]=x.useState(null),[p,h]=x.useState(()=>ld.reduce((j,O)=>({...j,[O.id]:!0}),{})),m=x.useMemo(()=>t,[t]),y=async()=>{i(!0);try{const{data:j,error:O}=await he.getPricingServices();if(O)throw O;const E=Pw();(j||[]).forEach(P=>{const M={id:P.id,service_name:P.service_name,price:P.price,unit:P.unit,position:P.position??0};E[P.category]||(E[P.category]=[]),E[P.category].push(M)}),ld.forEach(P=>{!E[P.id]||E[P.id].length===0?E[P.id]=P.defaults.map((M,T)=>({id:Ew(),service_name:M.service_name,price:"",unit:M.unit,position:T})):E[P.id]=E[P.id].sort((M,T)=>M.position-T.position).map((M,T)=>({...M,position:T}))}),r(E),c({})}catch(j){console.error("Failed to load pricing services",j),d({type:"error",text:e("adminPricing.loadError")})}finally{i(!1)}};x.useEffect(()=>{y()},[]);const f=(j,O)=>{r(E=>({...E,[j]:typeof O=="function"?O(E[j]||[]):O}))},g=(j,O,E,P)=>{f(j,M=>M.map(T=>T.id===O?{...T,[E]:P}:T))},v=(j,O="/unit")=>{f(j,E=>[...E,{id:Ew(),service_name:"",price:"",unit:O,position:E.length}])},b=(j,O)=>{f(j,E=>E.filter(P=>P.id!==O)),O.startsWith("tmp-")||c(E=>({...E,[j]:[...E[j]||[],O]}))},_=async j=>{const E=(t[j]||[]).map((M,T)=>({...M,position:T})),P=[];if(E.forEach((M,T)=>{var $,C,U;(!(($=M.service_name)!=null&&$.trim())||!((C=M.price)!=null&&C.trim())||!((U=M.unit)!=null&&U.trim()))&&P.push(e("adminPricing.validation",{index:T+1}))}),P.length){d({type:"error",text:P[0]});return}o(M=>({...M,[j]:!0}));try{const M=E.map($=>{const C={category:j,service_name:$.service_name.trim(),price:$.price.trim(),unit:$.unit.trim(),position:$.position};return $.id&&!$.id.startsWith("tmp-")?C.id=$.id:(!$.id||$.id.startsWith("tmp-"))&&(C.id=gB()),C}),T=l[j]||[];if(M.length){const{error:$}=await he.upsertPricingServices(M);if($)throw $}if(T.length){const{error:$}=await he.deletePricingServices(T);if($)throw $}d({type:"success",text:e("adminPricing.saveSuccess")}),await y()}catch(M){console.error("Failed to save pricing services",M),d({type:"error",text:e("adminPricing.saveError")})}finally{o(M=>({...M,[j]:!1}))}},S=async()=>{try{await u2(m)}catch(j){console.error("Pricing PDF generation failed",j),d({type:"error",text:e("adminPricing.exportError")})}},w=j=>{h(O=>({...O,[j]:!O[j]}))},N=j=>{var M;const O=t[j.id]||[],E=e(j.addLabelKey),P=((M=j.defaults[0])==null?void 0:M.unit)||"/unit";return s.jsxs("div",{className:"bg-white border rounded-xl shadow-sm",children:[s.jsxs("button",{onClick:()=>w(j.id),className:"w-full flex items-center justify-between px-5 py-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm uppercase tracking-wide text-text-light",children:j.id}),s.jsx("p",{className:"text-lg font-semibold text-text-primary",children:e(`adminPricing.groups.${j.key}.title`)})]}),p[j.id]?s.jsx(UM,{}):s.jsx(Fy,{})]}),p[j.id]&&s.jsxs("div",{className:"px-5 pb-5 space-y-4",children:[s.jsx("p",{className:"text-sm text-text-secondary",children:e(`adminPricing.groups.${j.key}.subtitle`)}),s.jsx("div",{className:"space-y-3",children:O.map(T=>s.jsxs("div",{className:"grid gap-3 md:grid-cols-[2fr_1fr_1fr_auto] items-center border rounded-lg p-3",children:[s.jsx("input",{type:"text",className:"border rounded-lg px-3 py-2",placeholder:e("adminPricing.fields.service"),value:T.service_name,onChange:$=>g(j.id,T.id,"service_name",$.target.value)}),s.jsx("input",{type:"text",className:"border rounded-lg px-3 py-2",placeholder:e("adminPricing.fields.price"),value:T.price,onChange:$=>g(j.id,T.id,"price",$.target.value)}),s.jsx("input",{type:"text",className:"border rounded-lg px-3 py-2",placeholder:e("adminPricing.fields.unit"),value:T.unit,onChange:$=>g(j.id,T.id,"unit",$.target.value)}),s.jsx("button",{onClick:()=>b(j.id,T.id),className:"text-red-500 hover:text-red-600 inline-flex items-center justify-center p-2","aria-label":"Remove row",children:s.jsx(Nt,{className:"w-4 h-4"})})]},T.id))}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:()=>v(j.id,P),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border text-sm font-medium hover:bg-gray-50",children:[s.jsx(rn,{className:"w-4 h-4"}),E]}),s.jsxs("button",{onClick:()=>_(j.id),disabled:a[j.id],className:"inline-flex items-center gap-2 px-5 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-dark disabled:opacity-60",children:[s.jsx(Jt,{className:"w-4 h-4"}),a[j.id]?e("adminPricing.saving"):e("adminPricing.save")]})]})]})]},j.id)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between bg-white border rounded-xl px-5 py-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:e("adminPricing.title")}),s.jsx("p",{className:"text-sm text-text-secondary",children:e("adminPricing.subtitle")})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border text-sm font-medium hover:bg-gray-50",children:[s.jsx($j,{className:"w-4 h-4"}),e("adminPricing.sync")]}),s.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-900 text-white text-sm font-medium hover:bg-gray-800",children:[s.jsx(Qp,{className:"w-4 h-4"}),e("adminPricing.export")]})]})]}),u&&s.jsx("div",{className:`px-4 py-3 rounded-lg text-sm ${u.type==="error"?"bg-red-50 text-red-700 border border-red-100":"bg-green-50 text-green-700 border border-green-100"}`,children:u.text}),n?s.jsx("div",{className:"bg-white border rounded-xl px-4 py-10 text-center text-text-secondary",children:e("adminPricing.loading")}):s.jsx("div",{className:"space-y-4",children:ld.map(j=>N(j))})]})}const wu="France",Su=[{key:"0.25",label:"0.25 kg"},{key:"0.5",label:"0.5 kg"},{key:"1",label:"1 kg"},{key:"20",label:"20 kg (604040)"}],ms={"Germany/Austria":["0.5","1","10","20"],Spain:["0.5","1","10","20"],Italy:["0.5","1","10","20"],Belgium:["0.5","1","10","20"],"United Kingdom":["0.5","1","2","5"]},v2=(e,t={})=>{const r={};return e.forEach(n=>{r[n]=t[n]??""}),r},Nu=e=>({id:`tmp-${Math.random().toString(36).slice(2,8)}`,provider:"",info:"",color:"",rates:v2(e)});function yB(){const{t:e}=xo(),[t,r]=x.useState({domestic:[],international:{}}),[n,i]=x.useState("Germany/Austria"),[a,o]=x.useState(!0),[l,c]=x.useState(!1),[u,d]=x.useState(null),[p,h]=x.useState([]),m=async()=>{o(!0),d(null);try{const{data:w,error:N}=await he.getFbmShippingRates();if(N)throw N;const j=[],O={};(w||[]).forEach(E=>{const P={id:E.id,provider:E.provider,info:E.info||"",color:E.color||"",rates:v2(E.category==="domestic"?Su.map(M=>M.key):ms[E.region]||[],E.rates||{})};E.category==="domestic"&&E.region===wu&&j.push(P),E.category==="international"&&(O[E.region]||(O[E.region]=[]),O[E.region].push(P))}),j.length===0&&j.push(Nu(Su.map(E=>E.key))),Object.keys(ms).forEach(E=>{(!O[E]||O[E].length===0)&&(O[E]=[Nu(ms[E])])}),r({domestic:j,international:O}),h([])}catch(w){console.error("Failed to load shipping rates",w),d({type:"error",text:e("adminShipping.loadError")})}finally{o(!1)}};x.useEffect(()=>{m()},[]);const y=(w,N,j,O)=>{r(E=>{const P={...E};return w==="domestic"?P.domestic=E.domestic.map(M=>M.id===j?O(M):M):P.international={...E.international,[N]:E.international[N].map(M=>M.id===j?O(M):M)},P})},f=(w,N)=>{const j=w==="domestic"?Su.map(O=>O.key):ms[N]||[];r(O=>{if(w==="domestic")return{...O,domestic:[...O.domestic,Nu(j)]};const E=O.international[N]||[];return{...O,international:{...O.international,[N]:[...E,Nu(j)]}}})},g=(w,N,j)=>{r(O=>w==="domestic"?{...O,domestic:O.domestic.filter(E=>E.id!==j.id)}:{...O,international:{...O.international,[N]:O.international[N].filter(E=>E.id!==j.id)}}),j.id.startsWith("tmp-")||h(O=>[...O,j.id])},v=async(w,N)=>{c(!0),d(null);try{const O=(w==="domestic"?t.domestic:t.international[N]||[]).map((M,T)=>({id:M.id.startsWith("tmp-")?void 0:M.id,category:w,region:N,provider:M.provider.trim(),info:M.info.trim()||null,color:M.color.trim()||null,position:T,rates:M.rates}));if(O.find(M=>!M.provider)){d({type:"error",text:e("adminShipping.validation")}),c(!1);return}if(O.length){const{error:M}=await he.upsertFbmShippingRates(O);if(M)throw M}const P=p;if(P.length){const{error:M}=await he.deleteFbmShippingRates(P);if(M)throw M;h([])}d({type:"success",text:e("adminShipping.saveSuccess")}),await m()}catch(j){console.error("Failed to save shipping rates",j),d({type:"error",text:e("adminShipping.saveError")}),c(!1)}},b=(w,N,j,O)=>s.jsx("div",{className:"overflow-auto border rounded-xl",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-text-secondary",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left w-56",children:e("adminShipping.provider")}),j.map(E=>s.jsx("th",{className:"px-4 py-3 text-left",children:E.includes("kg")?E:`${E} kg`},E)),s.jsx("th",{className:"px-4 py-3 text-left",children:e("adminShipping.info")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("adminShipping.actions")})]})}),s.jsx("tbody",{children:O.map(E=>s.jsxs("tr",{className:"border-t align-top",children:[s.jsxs("td",{className:"px-4 py-3 space-y-2",children:[s.jsx("input",{type:"text",value:E.provider,onChange:P=>y(w,N,E.id,M=>({...M,provider:P.target.value})),placeholder:e("adminShipping.providerPlaceholder"),className:"w-full border rounded px-3 py-2"}),s.jsx("input",{type:"text",value:E.color,onChange:P=>y(w,N,E.id,M=>({...M,color:P.target.value})),placeholder:e("adminShipping.colorPlaceholder"),className:"w-full border rounded px-3 py-2"})]}),j.map(P=>s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"text",value:E.rates[P]??"",onChange:M=>y(w,N,E.id,T=>({...T,rates:{...T.rates,[P]:M.target.value}})),placeholder:"0.00",className:"w-full border rounded px-3 py-2"})},P)),s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"text",value:E.info,onChange:P=>y(w,N,E.id,M=>({...M,info:P.target.value})),placeholder:e("adminShipping.infoPlaceholder"),className:"w-full border rounded px-3 py-2"})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("button",{onClick:()=>g(w,N,E),className:"text-red-500 hover:text-red-600 inline-flex items-center gap-1",children:[s.jsx(Nt,{className:"w-4 h-4"}),e("adminShipping.remove")]})})]},E.id))})]})}),_=s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-text-light tracking-wide",children:e("adminShipping.domesticBadge")}),s.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:e("adminShipping.domesticTitle")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>f("domestic",wu),className:"inline-flex items-center gap-2 px-4 py-2 border rounded-lg text-sm font-medium hover:bg-gray-50",children:[s.jsx(rn,{className:"w-4 h-4"}),e("adminShipping.addProvider")]}),s.jsxs("button",{onClick:()=>v("domestic",wu),disabled:l,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark disabled:opacity-60",children:[s.jsx(Jt,{className:"w-4 h-4"}),e("adminShipping.save")]})]})]}),b("domestic",wu,Su.map(w=>w.key),t.domestic)]}),S=s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-text-light tracking-wide",children:e("adminShipping.internationalBadge")}),s.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:e("adminShipping.internationalTitle")})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("select",{value:n,onChange:w=>i(w.target.value),className:"border rounded-lg px-3 py-2",children:Object.keys(ms).map(w=>s.jsx("option",{value:w,children:w},w))}),s.jsxs("button",{onClick:()=>f("international",n),className:"inline-flex items-center gap-2 px-4 py-2 border rounded-lg text-sm font-medium hover:bg-gray-50",children:[s.jsx(rn,{className:"w-4 h-4"}),e("adminShipping.addProvider")]}),s.jsxs("button",{onClick:()=>v("international",n),disabled:l,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark disabled:opacity-60",children:[s.jsx(Jt,{className:"w-4 h-4"}),e("adminShipping.save")]})]})]}),b("international",n,ms[n]||[],t.international[n]||[])]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:e("adminShipping.title")}),s.jsx("p",{className:"text-sm text-text-secondary",children:e("adminShipping.subtitle")})]}),s.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-4 py-2 border rounded-lg text-sm font-medium hover:bg-gray-50",children:[s.jsx($j,{className:"w-4 h-4"}),e("adminShipping.refresh")]})]}),u&&s.jsx("div",{className:`px-4 py-3 rounded-lg text-sm ${u.type==="error"?"bg-red-50 text-red-700 border border-red-100":"bg-green-50 text-green-700 border border-green-100"}`,children:u.text}),a?s.jsx("div",{className:"bg-white border rounded-xl px-4 py-10 text-center text-text-secondary",children:e("adminShipping.loading")}):s.jsxs("div",{className:"space-y-10",children:[_,S]})]})}const xB=({s:e})=>{const t={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800"};return s.jsx("span",{className:`px-2 py-1 rounded text-xs ${t[e]||"bg-gray-100 text-gray-700"}`,children:e})};function bB({requestId:e,onBack:t,onChanged:r}){const{profile:n}=Ye(),[i,a]=x.useState(null),[o,l]=x.useState(!0),[c,u]=x.useState(""),[d,p]=x.useState(""),[h,m]=x.useState(""),[y,f]=x.useState(""),[g,v]=x.useState(!1),[b,_]=x.useState({}),[S,w]=x.useState(!1),N=te=>(te==null?void 0:te.asin)||(te==null?void 0:te.sku)||"",j=te=>{var de;return(te==null?void 0:te.product_name)||((de=te==null?void 0:te.stock_item)==null?void 0:de.name)||(te==null?void 0:te.title)||(te==null?void 0:te.name)||""};async function O(){const de=((i==null?void 0:i.prep_request_items)||[]).map(B=>{const I=Number(B.units_requested||0);let R=Number(B.units_sent??0);return(!Number.isFinite(R)||R<0)&&(R=0),R>I&&(R=I),{id:B.id,units_sent:R,obs_admin:B.obs_admin??null}});if(typeof he.bulkUpdatePrepItems=="function"){const{error:B}=await he.bulkUpdatePrepItems(de);if(B)throw B;return}await Promise.all(de.map(B=>he.updatePrepItem(B.id,{units_sent:B.units_sent,obs_admin:B.obs_admin})))}const E=(te=[])=>{const de={};return te.forEach(B=>{if(!(B!=null&&B.prep_request_item_id))return;const I={id:B.id||T(),boxNumber:B.box_number,units:B.units};de[B.prep_request_item_id]||(de[B.prep_request_item_id]=[]),de[B.prep_request_item_id].push(I)}),Object.values(de).forEach(B=>B.sort((I,R)=>Number(I.boxNumber)-Number(R.boxNumber))),de},P=async(te=[])=>{const de=(te||[]).map(R=>R.id).filter(Boolean);if(de.length===0){_({});return}const{data:B,error:I}=await he.getPrepRequestBoxes(de);if(I){console.error("Failed to load boxes:",I);return}_(E(B||[]))},M=async te=>{if(!te)return null;const de=(b[te]||[]).map(q=>({boxNumber:Math.max(1,Number(q.boxNumber)||1),units:Math.max(0,Number(q.units)||0)})).filter(q=>q.units>0),{error:B}=await he.savePrepRequestBoxes(te,de);if(B)return B;const{data:I,error:R}=await he.getPrepRequestBoxes([te]);return!R&&I&&_(q=>({...q,...E(I)})),R||null},T=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`,$=te=>{_(de=>{const B=de[te]||[],I=B.length>0?Math.max(...B.map(q=>Number(q.boxNumber)||0))+1:1,R={id:T(),boxNumber:I,units:""};return{...de,[te]:[...B,R]}})},C=(te,de,B,I)=>{_(R=>{const re=(R[te]||[]).map(k=>{if(k.id!==de)return k;if(B==="boxNumber"){const ee=Math.max(1,Number(I)||1);return{...k,boxNumber:ee}}if(B==="units"){if(I==="")return{...k,units:""};const ee=Math.max(0,Number(I)||0);return{...k,units:ee}}return k});return{...R,[te]:re}})},U=(te,de)=>{_(B=>{const R=(B[te]||[]).filter(re=>re.id!==de),q={...B};return R.length===0?delete q[te]:q[te]=R,q})};async function K(){l(!0),u("");const{data:te,error:de}=await he.getPrepRequest(e);de?(a(null),u(de.message||"Failed to load request")):(a(te),p((te==null?void 0:te.fba_shipment_id)||""),m((te==null?void 0:te.obs_admin)||""),await P((te==null?void 0:te.prep_request_items)||[]),window.__req=te,window.__reqId=te==null?void 0:te.id,console.log("DETAIL row:",{id:te==null?void 0:te.id,items:((te==null?void 0:te.prep_request_items)||[]).length,tracking:((te==null?void 0:te.prep_request_tracking)||[]).length})),l(!1)}x.useEffect(()=>{e&&K()},[e]),x.useEffect(()=>{i&&_(te=>{const de=new Set((i.prep_request_items||[]).map(R=>R.id));let B=!1;const I={};return Object.entries(te).forEach(([R,q])=>{if(!de.has(R)){B=!0;return}I[R]=q}),B?I:te})},[i]);async function F(){v(!0);const{error:te}=await he.setFbaShipmentId(e,d||null);if(v(!1),te)return u(te.message);u("Shipment ID saved."),await K(),r==null||r()}async function H(){v(!0);const{error:te}=await he.updatePrepHeader(e,{obs_admin:h});if(v(!1),te)return u(te.message);u("Admin note saved."),await K(),r==null||r()}async function G(){if(!y.trim())return;const{error:te}=await he.addTrackingId(e,y.trim());if(te)return u(te.message);f(""),await K(),r==null||r()}async function ie(te){if(!confirm("Delete this tracking ID?"))return;const{error:de}=await he.removeTrackingId(te);if(de)return u(de.message);await K(),r==null||r()}function J(te,de,B){a(I=>{const R={...I};return R.prep_request_items=(I.prep_request_items||[]).map(q=>q.id===te?{...q,[de]:B}:q),R})}async function Y(te){const de=Number(te.units_requested||0);let B=Number(te.units_sent??0);(!Number.isFinite(B)||B<0)&&(B=0),B>de&&(B=de);const{error:I}=await he.updatePrepItem(te.id,{units_sent:B,obs_admin:te.obs_admin??null});if(I)return u(I.message);const R=await M(te.id);if(R){u(`Item saved but boxes failed: ${R.message||R}`);return}u("Item & boxes saved."),await K(),r==null||r()}function pe(){a(te=>({...te,prep_request_items:(te.prep_request_items||[]).map(de=>({...de,units_sent:de.units_requested}))}))}function oe(){a(te=>({...te,prep_request_items:(te.prep_request_items||[]).map(de=>({...de,units_sent:0}))}))}async function se(){if((i==null?void 0:i.status)!=="pending")return u("Only pending requests can be confirmed.");if((i.prep_request_items||[]).find(B=>!N(B)))return u("Fiecare produs trebuie s aib completat ASIN sau SKU nainte de confirmare.");if((i.prep_request_items||[]).find(B=>{const I=Number(B.units_requested||0),R=Number(B.units_sent??0);return!Number.isFinite(R)||R<0||R>I}))return u("Please fix Units to send values first.");if(confirm("Confirm this request? Stock will be adjusted accordingly.")){v(!0),u("");try{await O(),await K(),console.log("[CONFIRM] calling RPC confirm_prep_request_v2 with:",{requestId:e,adminId:(n==null?void 0:n.id)||null});const{data:B,error:I}=await he.confirmPrepRequestV2(e,(n==null?void 0:n.id)||null);if(I)throw I;{const{error:D}=await he.setPrepStatus(e,"confirmed");D&&console.warn("Status set failed:",D)}const R=`FBA${Math.random().toString(36).slice(2,8).toUpperCase()}`,q=((i==null?void 0:i.fba_shipment_id)||"").trim()||R,re=((i==null?void 0:i.prep_request_items)||[]).map(D=>{var W,L;const A=Number(D.units_requested||0),z=Number(D.units_sent||0);return{asin:D.asin||((W=D.stock_item)==null?void 0:W.asin)||null,sku:D.sku||((L=D.stock_item)==null?void 0:L.sku)||null,requested:A,sent:z,removed:Math.max(A-z,0),note:D.obs_admin||null}}),k={...B,request_id:e,email:(i==null?void 0:i.user_email)||null,client_name:(i==null?void 0:i.client_name)||null,company_name:(i==null?void 0:i.company_name)||null,note:(i==null?void 0:i.obs_admin)||null,fba_shipment_id:(i==null?void 0:i.fba_shipment_id)||null,tracking_ids:((i==null?void 0:i.prep_request_tracking)||[]).map(D=>D.tracking_id).filter(Boolean),subject_id:q,items:re},{error:ee}=await he.sendPrepConfirmationEmail(k);u(ee?`Request confirmed (status updated). Email failed: ${ee.message||"unknown"}`:"Request confirmed (status updated) and client notified by email."),await K(),r==null||r()}catch(B){console.error("[CONFIRM] failed:",B),u((B==null?void 0:B.message)||"Confirmation failed.")}finally{v(!1)}}}const _e=x.useMemo(()=>{if(!i)return[];const te={};return(i.prep_request_items||[]).forEach(de=>{(b[de.id]||[]).forEach(({boxNumber:I,units:R})=>{const q=Number(R);if(!Number.isFinite(q)||q<=0)return;const re=Number(I)||1;te[re]||(te[re]=[]),te[re].push({code:N(de),name:j(de),qty:q})})}),Object.keys(te).map(de=>({boxNumber:Number(de),lines:te[de]})).sort((de,B)=>de.boxNumber-B.boxNumber)},[b,i]);return o?s.jsx("div",{children:"Loading"}):i?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("button",{onClick:t,className:"inline-flex items-center text-sm",children:[s.jsx(Vl,{className:"w-4 h-4 mr-1"})," Back to list"]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx($a,{className:"w-5 h-5"}),"Request #",i.id.slice(0,8)]}),s.jsxs("div",{className:"text-sm text-text-secondary",children:[new Date(i.created_at).toLocaleString()," "," ",i.client_name?s.jsx("b",{children:i.client_name}):""," (",i.user_email||"",")  Company: ",s.jsx("b",{children:i.company_name||""})]}),s.jsxs("div",{className:"mt-1 text-sm flex flex-wrap items-center gap-2",children:[s.jsx(eo,{code:i.destination_country||"FR",variant:"loud"}),s.jsxs("span",{className:"text-text-secondary flex items-center gap-1",children:["Status: ",s.jsx(xB,{s:i.status})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>w(!0),className:"px-4 py-2 border rounded inline-flex items-center gap-2",type:"button",children:[s.jsx(My,{className:"w-4 h-4"}),"Box summary"]}),s.jsxs("button",{onClick:se,disabled:i.status!=="pending"||g,className:"px-4 py-2 bg-green-600 text-white rounded disabled:opacity-50 inline-flex items-center gap-2",title:"Confirm (will subtract stock)",children:[s.jsx(HM,{className:"w-4 h-4"}),"Confirm"]})]})]}),c&&s.jsx("div",{className:"mt-4 px-4 py-3 rounded bg-blue-50 border border-blue-200 text-blue-700",children:c}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold mb-3",children:"FBA Shipment ID"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"border rounded px-3 py-2 w-full",placeholder:"ex: FBA15KXYZ",value:d,onChange:te=>p(te.target.value)}),s.jsxs("button",{onClick:F,disabled:g,className:"px-3 py-2 bg-primary text-white rounded inline-flex items-center gap-1",children:[s.jsx(Jt,{className:"w-4 h-4"})," Save"]})]}),s.jsx("p",{className:"text-xs text-text-secondary mt-2",children:"We store this ID so you can quickly find the shipment in Amazon."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Tracking IDs"}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("input",{className:"border rounded px-3 py-2 w-full",placeholder:"Add a tracking ID (you can add multiple)",value:y,onChange:te=>f(te.target.value)}),s.jsxs("button",{onClick:G,className:"px-3 py-2 border rounded inline-flex items-center gap-1",children:[s.jsx(rn,{className:"w-4 h-4"})," Add"]})]}),s.jsx("ul",{className:"space-y-2",children:(i.prep_request_tracking||[]).length===0?s.jsx("li",{className:"text-sm text-text-secondary",children:" none"}):i.prep_request_tracking.map(te=>s.jsxs("li",{className:"flex items-center justify-between bg-gray-50 rounded px-3 py-2",children:[s.jsxs("span",{className:"font-mono text-sm",children:[te.tracking_id,te.created_at?s.jsxs("span",{className:"ml-2 text-xs text-text-secondary",children:[" ",new Date(te.created_at).toLocaleString()]}):null]}),s.jsxs("button",{onClick:()=>ie(te.id),className:"text-red-600 inline-flex items-center gap-1",children:[s.jsx(Nt,{className:"w-4 h-4"})," Delete"]})]},te.id))})]})]}),s.jsxs("div",{className:"mt-6 border rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Admin note (header)"}),s.jsx("textarea",{className:"w-full border rounded p-2 min-h-[80px]",placeholder:"Explain why some units were removed / any packaging notes",value:h,onChange:te=>m(te.target.value)}),s.jsx("div",{className:"mt-2",children:s.jsxs("button",{onClick:H,disabled:g,className:"px-3 py-2 bg-primary text-white rounded inline-flex items-center gap-1",children:[s.jsx(Jt,{className:"w-4 h-4"})," Save note"]})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold",children:"Products"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:pe,className:"px-3 py-1 border rounded",children:"Set all Units to send = Requested"}),s.jsx("button",{onClick:oe,className:"px-3 py-1 border rounded",children:"Set all = 0"})]})]}),s.jsx("p",{className:"text-xs text-text-secondary mb-3",children:"Box assignments are saved when you click Save on each product row."}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Photo"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"ASIN / SKU"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Product name"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Units requested"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Units to send"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Units removed"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Boxes"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Admin note"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),s.jsx("tbody",{children:(i.prep_request_items||[]).length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-3 py-4 text-center text-text-secondary",children:""})}):i.prep_request_items.map(te=>{var ee;const de=Number(te.units_requested||0),B=Number(te.units_sent??0),I=Math.min(Math.max(Number.isFinite(B)?B:0,0),de),R=de-I,q=b[te.id]||[],re=q.reduce((D,A)=>D+(Number(A.units)||0),0),k=((ee=te.stock_item)==null?void 0:ee.image_url)||te.image_url||"";return s.jsxs("tr",{className:"border-t align-top",children:[s.jsx("td",{className:"px-3 py-2",children:k?s.jsx("img",{src:k,alt:j(te),className:"w-12 h-12 rounded border object-cover"}):s.jsx("div",{className:"w-12 h-12 rounded border bg-gray-50 text-[10px] text-text-secondary flex items-center justify-center",children:"No Img"})}),s.jsx("td",{className:"px-3 py-2 font-mono",title:j(te),children:N(te)||""}),s.jsx("td",{className:"px-3 py-2",children:j(te)}),s.jsx("td",{className:"px-3 py-2 text-right",children:de}),s.jsx("td",{className:"px-3 py-2 text-right",children:s.jsx("input",{type:"number",className:"w-28 text-right border rounded px-2 py-1",min:0,max:de,value:Number.isFinite(te.units_sent)?te.units_sent:"",placeholder:"0",onChange:D=>J(te.id,"units_sent",D.target.value===""?"":Number(D.target.value))})}),s.jsx("td",{className:"px-3 py-2 text-right",children:R}),s.jsx("td",{className:"px-3 py-2",children:s.jsxs("div",{className:"space-y-2",children:[q.map(D=>s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-text-secondary",children:"Box"}),s.jsx("input",{type:"number",min:1,className:"w-16 border rounded px-2 py-1 text-right",value:D.boxNumber,onChange:A=>C(te.id,D.id,"boxNumber",A.target.value)}),s.jsx("span",{className:"text-text-secondary",children:"Units"}),s.jsx("input",{type:"number",min:0,className:"w-20 border rounded px-2 py-1 text-right",value:D.units,onChange:A=>C(te.id,D.id,"units",A.target.value)}),s.jsx("button",{type:"button",className:"text-red-600 text-xs",onClick:()=>U(te.id,D.id),children:""})]},D.id)),s.jsx("button",{type:"button",className:"text-xs text-primary hover:underline",onClick:()=>$(te.id),children:"+ Add box"}),s.jsxs("div",{className:`text-[11px] ${re>I?"text-red-600":"text-text-secondary"}`,children:["Assigned: ",re||0," / ",I||0]})]})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("textarea",{className:"w-full border rounded p-1 min-h-[40px]",placeholder:"Explain what was removed (weight limit, out of stock, etc.)",value:te.obs_admin||"",onChange:D=>J(te.id,"obs_admin",D.target.value)})}),s.jsx("td",{className:"px-3 py-2 text-right",children:s.jsxs("button",{onClick:()=>Y(te),className:"px-3 py-1 border rounded inline-flex items-center gap-1",children:[s.jsx(Jt,{className:"w-4 h-4"})," Save"]})})]},te.id)})})]})})]})]}),S&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[80vh] overflow-y-auto p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(eo,{code:i.destination_country||"FR",variant:"loud"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Box shipping summary"})]}),s.jsx("button",{className:"text-sm text-text-secondary hover:text-primary",onClick:()=>w(!1),children:"Close"})]}),_e.length===0?s.jsx("p",{className:"text-sm text-text-secondary",children:"No boxes added yet."}):s.jsx("div",{className:"space-y-3 text-sm",children:_e.map(te=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"font-semibold text-text-primary",children:["Box ",te.boxNumber]}),s.jsx("div",{className:"flex flex-wrap gap-4 pl-2 text-text-secondary",children:te.lines.map((de,B)=>s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{children:de.code||de.name||"Item"}),s.jsx("span",{className:"font-semibold text-text-primary",children:de.qty})]},`${te.boxNumber}-${B}`))})]},te.boxNumber))})]})})]}):s.jsxs("div",{children:[s.jsxs("button",{onClick:t,className:"inline-flex items-center text-sm mb-4",children:[s.jsx(Vl,{className:"w-4 h-4 mr-1"})," Back"]}),s.jsx("div",{children:"Request not found."})]})}const Tw="admin-prep-requests-state",_B=({s:e})=>{const t={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800"};return s.jsx("span",{className:`px-2 py-1 rounded text-xs ${t[e]||"bg-gray-100 text-gray-700"}`,children:e})};function wB(){const e=x.useRef(null);e.current===null&&(e.current=rm(Xt,Tw,{}));const t=e.current||{},r=Number(t.page)>0?Number(t.page):1,[n,i]=x.useState(t.status||"all"),[a,o]=x.useState(t.q||""),[l,c]=x.useState([]),[u,d]=x.useState(0),[p,h]=x.useState(r),m=10,[y,f]=x.useState(!0),[g,v]=x.useState(t.selectedId||null),[b,_]=x.useState(""),S=x.useRef(!0),w=x.useRef(r),N=async P=>{var U;const M=((U=P.id)==null?void 0:U.slice(0,8))||P.id,$=`Sigur doreti s tergi recepia clientului ${[P.client_company_name,P.client_name,P.company_name].filter(Boolean).join(" / ")||P.user_email||"client"}?`,C=P.status==="confirmed"?`${$}
Request ${M} este CONFIRMED.
tergerea va elimina DEFINITIV i liniile + tracking.`:`${$}
Request ${M} va fi ters definitiv.`;if(confirm(C)){if(P.status==="confirmed"){const K=`Confirmare suplimentar:
Request ${M} este CONFIRMED i va disprea definitiv din istoric.
Apas OK doar dac eti 100% sigur.`;if(!confirm(K))return}_("");try{const{error:K}=await he.deletePrepRequest(P.id);if(K)throw K;await j(1),_("Request deleted.")}catch(K){_((K==null?void 0:K.message)||"Delete failed.")}}},j=async(P=p)=>{f(!0),_("");try{const{data:M,error:T,count:$}=await he.listPrepRequests({status:n==="all"?void 0:n,page:P,pageSize:m});if(T)throw T;c(Array.isArray(M)?M:[]),d($||0),h(P)}catch(M){console.error("listPrepRequests failed:",(M==null?void 0:M.message)||M),c([]),d(0),_((M==null?void 0:M.message)||"Eroare la ncrcare.")}finally{f(!1)}};x.useEffect(()=>{j(w.current),S.current=!1},[]),x.useEffect(()=>{S.current||j(1)},[n]),x.useEffect(()=>{nm(Xt,Tw,{status:n,q:a,page:p,selectedId:g})},[n,a,p,g]);const O=x.useMemo(()=>{if(!a.trim())return l;const P=a.toLowerCase();return l.filter(M=>{const $=(M.prep_request_items||[]).some(H=>(H.asin||"").toLowerCase().includes(P)||(H.sku||"").toLowerCase().includes(P)),C=(M.user_email||"").toLowerCase(),U=(M.company_name||"").toLowerCase(),K=(M.client_name||"").toLowerCase(),F=(M.client_company_name||"").toLowerCase();return $||C.includes(P)||U.includes(P)||K.includes(P)||F.includes(P)})},[l,a]),E=Math.max(1,Math.ceil((n==="all"?u:O.length)/m));return g?s.jsx(bB,{requestId:g,onBack:()=>v(null),onChanged:()=>j(p)}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Prep Requests"}),s.jsxs("button",{onClick:()=>j(p),className:"inline-flex items-center gap-2 px-3 py-2 border rounded",children:[s.jsx(Bs,{className:"w-4 h-4"})," Refresh"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xp,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-text-light"}),s.jsx("input",{value:a,onChange:P=>o(P.target.value),placeholder:"Caut n ASIN / SKU / nume / email / companie",className:"pl-9 pr-3 py-2 w-80 border rounded-lg"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ry,{className:"w-4 h-4 text-text-secondary"}),s.jsxs("select",{value:n,onChange:P=>i(P.target.value),className:"border rounded px-2 py-2",children:[s.jsx("option",{value:"all",children:"Toate"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),b&&s.jsx("div",{className:"px-4 py-3 rounded bg-red-50 border border-red-200 text-red-700",children:b}),s.jsx("div",{className:"border rounded-xl overflow-hidden overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-text-secondary",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Creat la"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Store"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"ara"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Produse"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Aciuni"})]})}),s.jsx("tbody",{children:y?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-text-secondary",children:"Se ncarc"})}):O.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-text-secondary",children:"Nimic de afiat."})}):O.map(P=>s.jsxs("tr",{className:"border-t align-top",children:[s.jsx("td",{className:"px-4 py-3",children:new Date(P.created_at).toLocaleString()}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"font-semibold",children:P.client_company_name||P.company_name||P.client_name||""}),P.client_name&&P.client_name!==P.client_company_name&&s.jsx("div",{className:"text-xs text-text-secondary",children:P.client_name}),s.jsx("div",{className:"text-xs text-text-secondary",children:P.user_email||""})]}),s.jsx("td",{className:"px-4 py-3",children:P.company_name||P.store_name||""}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(eo,{code:P.destination_country||"FR",variant:"subtle"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(_B,{s:P.status})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"flex flex-wrap gap-3",children:(P.prep_request_items||[]).slice(0,3).map(M=>{var C,U;const T=((C=M.stock_item)==null?void 0:C.image_url)||M.image_url||"",$=M.asin||M.sku||"";return s.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[T?s.jsx("img",{src:T,alt:M.product_name||((U=M.stock_item)==null?void 0:U.name)||$,className:"w-12 h-12 rounded border object-cover"}):s.jsx("div",{className:"w-12 h-12 rounded border bg-gray-50 text-[10px] text-text-secondary flex items-center justify-center",children:"No Img"}),s.jsxs("div",{className:"text-xs leading-tight",children:[s.jsx("div",{className:"font-semibold font-mono",children:$}),s.jsxs("div",{className:"text-text-secondary",children:[M.units_requested," u  SKU: ",M.sku||""]})]})]},M.id)})}),(P.prep_request_items||[]).length>3&&s.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:["+",(P.prep_request_items||[]).length-3," produse"]})]}),s.jsxs("td",{className:"px-4 py-3 text-right",children:[s.jsx("button",{onClick:()=>v(P.id),className:"px-3 py-1 bg-primary text-white rounded",children:"Deschide"}),s.jsxs("button",{onClick:()=>N(P),className:"ml-2 px-3 py-1 bg-red-600 text-white rounded inline-flex items-center gap-1",title:`Delete request (${P.status})`,children:[s.jsx(Nt,{className:"w-4 h-4"}),"Delete"]})]})]},P.id))})]})}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-2 py-1 border rounded disabled:opacity-50",onClick:()=>j(Math.max(1,p-1)),disabled:p<=1,title:"Pagina anterioar",children:s.jsx(Ld,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-text-secondary",children:["Pagina ",p," / ",E]}),s.jsx("button",{className:"px-2 py-1 border rounded disabled:opacity-50",onClick:()=>j(Math.min(E,p+1)),disabled:p>=E,title:"Pagina urmtoare",children:s.jsx(Wl,{className:"w-4 h-4"})})]})]})}function SB(){const e=xc(),{user:t,signOut:r}=Ye(),{t:n}=xo(),[i,a]=x.useState(!1),[o,l]=x.useState(!0);x.useEffect(()=>{(async()=>{if(!t){a(!1),l(!1);return}const{data:z,error:W}=await he.getProfile(t.id);W?(console.error("Error checking admin:",W),a(!1)):a((z==null?void 0:z.is_admin)===!0),l(!1)})()},[t]);const c=Nn(),u=Rr(),[d,p]=x.useState(null),[h,m]=x.useState(()=>{const z=(typeof window<"u"?new URLSearchParams(window.location.search):new URLSearchParams).get("tab");let W=null;try{W=Xt.getItem("adminDashboardTab")}catch{W=null}const L=["analytics","profiles","receiving","prep-requests","pricing","reviews","user-guide","settings"];return z&&L.includes(z)?z:L.includes(W)?W:"profiles"});x.useEffect(()=>{const A=new URLSearchParams(u.search);A.get("tabId")!==e&&(A.set("tabId",e),c(`${u.pathname}?${A.toString()}`,{replace:!0}))},[u.pathname,u.search,c,e]),x.useEffect(()=>{try{Xt.setItem("adminDashboardTab",h)}catch{}new URLSearchParams(u.search).get("tab")!==h&&c(`/admin?tab=${h}`,{replace:!0})},[h,u.search,c]);const y=A=>{const z=new URLSearchParams(u.search);A?z.set("profile",A):z.delete("profile"),z.get("tab")||z.set("tab",h),c(`/admin?${z.toString()}`,{replace:!0})},f=A=>{A&&(p(A),y(A.id))},g=()=>{p(null),y(null)};x.useEffect(()=>{const z=new URLSearchParams(u.search).get("profile");if(h!=="profiles"||!z||(d==null?void 0:d.id)===z)return;let W=!0;return(async()=>{const{data:L,error:Z}=await he.getProfile(z);W&&!Z&&L&&p(L)})(),()=>{W=!1}},[h,u.search,d==null?void 0:d.id]);const[v,b]=x.useState([]),[_,S]=x.useState({enabled:!1,message:"Site en maintenance. Nous revenons vite."}),[w,N]=x.useState(null),[j,O]=x.useState({}),[E,P]=x.useState(!1),[M,T]=x.useState(""),[$,C]=x.useState([]),[U,K]=x.useState({}),[F,H]=x.useState("en"),G=x.useMemo(()=>[{id:"analytics",label:n("sidebar.analytics"),icon:Lj},{id:"profiles",label:n("sidebar.profiles"),icon:Wa},{id:"receiving",label:n("sidebar.receiving"),icon:vc},{id:"prep-requests",label:n("sidebar.prepRequests"),icon:LF},{id:"pricing",label:n("sidebar.pricing"),icon:wg},{id:"reviews",label:n("sidebar.reviews"),icon:On},{id:"user-guide",label:n("sidebar.userGuide"),icon:ZM},{id:"affiliates",label:n("sidebar.affiliates"),icon:Wa},{id:"settings",label:n("sidebar.settings"),icon:iR}],[n]);x.useEffect(()=>{t&&(ie(),J(),Y(),pe())},[t]);const ie=async()=>{try{const{data:A,error:z}=await he.getServices();if(z)throw z;b(A||[])}catch(A){console.error("Error fetching services:",A)}},J=async()=>{try{const{data:A,error:z}=await he.getContent();if(z)throw z;K(A||{})}catch(A){console.error("Error fetching content data:",A)}},Y=async()=>{try{const{data:A,error:z}=await he.getReviews();if(z)throw z;C(A||[])}catch(A){console.error("Error fetching reviews:",A)}},pe=async()=>{const{data:A,error:z}=await Q.from("app_settings").select("value").eq("key","maintenance_mode").maybeSingle();!z&&(A!=null&&A.value)&&S({enabled:!!A.value.enabled,message:A.value.message||"Site en maintenance. Nous revenons vite."})},oe=async A=>{const z=A||_,{error:W}=await Q.from("app_settings").upsert({key:"maintenance_mode",value:z,updated_at:new Date().toISOString()});T(W?"Eroare la salvarea mentenanei.":z.enabled?"Modul de mentenan a fost activat.":"Modul de mentenan a fost dezactivat.")},se=async A=>{P(!0),T("");try{if(A.id){const{error:z}=await he.updateService(A.id,A);if(z)throw z;T("Serviciul a fost actualizat cu succes")}else{const{error:z}=await he.createService(A);if(z)throw z;T("Serviciul a fost creat cu succes")}N(null),O({}),ie()}catch(z){T(z.message||"Eroare la salvarea serviciului")}P(!1)},_e=async A=>{P(!0),T("");try{if(A.id)T("Actualizarea recenziilor nu este nc implementat.");else{const{error:z}=await he.createReview(A);if(z)throw z;T("Recenzia a fost adugat cu succes")}Y()}catch(z){T(z.message||"Eroare la salvarea recenziei")}P(!1)},te=async A=>{if(confirm("Eti sigur c vrei s tergi aceast recenzie?"))try{const{error:z}=await he.deleteReview(A);if(z)throw z;T("Recenzia a fost tears cu succes"),Y()}catch(z){T(z.message||"Eroare la tergerea recenziei")}},de=async A=>{if(confirm("Eti sigur c vrei s tergi acest serviciu?"))try{const{error:z}=await he.deleteService(A);if(z)throw z;T("Serviciul a fost ters cu succes"),ie()}catch(z){T(z.message||"Eroare la tergerea serviciului")}},B=A=>{N(A.id||"new"),O(A)},I=()=>{N(null),O({})},R=async()=>{P(!0),T("");try{const{error:A}=await he.updateContent(U);if(A)throw A;T("Coninutul a fost salvat cu succes")}catch(A){T(A.message||"Eroare la salvarea coninutului")}P(!1)},q=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Gestionare Servicii"}),s.jsxs("button",{onClick:()=>B({title:"",description:"",features:[""],price:"",unit:"",category:"",active:!0}),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition-colors flex items-center",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Adaug Serviciu"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.map(A=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:w===A.id?s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",value:j.title||"",onChange:z=>O({...j,title:z.target.value}),placeholder:"Titlu serviciu",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),s.jsx("textarea",{value:j.description||"",onChange:z=>O({...j,description:z.target.value}),placeholder:"Descriere",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:j.price||"",onChange:z=>O({...j,price:z.target.value}),placeholder:"Pre",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),s.jsx("input",{type:"text",value:j.unit||"",onChange:z=>O({...j,unit:z.target.value}),placeholder:"Unitate",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("select",{value:j.category||"",onChange:z=>O({...j,category:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"",children:"Selecteaz categoria"}),s.jsx("option",{value:"fba",children:"FBA Prep"}),s.jsx("option",{value:"fbm",children:"FBM Shipping"}),s.jsx("option",{value:"storage",children:"Storage"}),s.jsx("option",{value:"additional",children:"Additional Services"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>se(j),className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[s.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Salveaz"]}),s.jsx("button",{onClick:I,className:"flex-1 bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Anuleaz"})]})]}):s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:A.title}),s.jsx("p",{className:"text-text-secondary mb-4",children:A.description}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-lg font-bold text-primary",children:A.price}),s.jsx("span",{className:"text-sm text-text-secondary",children:A.unit})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>B(A),className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),"Editeaz"]}),s.jsxs("button",{onClick:()=>de(A.id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center",children:[s.jsx(Nt,{className:"w-4 h-4 mr-2"}),"terge"]})]})]})},A.id)),w==="new"&&s.jsxs("div",{className:"bg-white border-2 border-primary rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Serviciu Nou"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",value:j.title||"",onChange:A=>O({...j,title:A.target.value}),placeholder:"Titlu serviciu",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),s.jsx("textarea",{value:j.description||"",onChange:A=>O({...j,description:A.target.value}),placeholder:"Descriere",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:j.price||"",onChange:A=>O({...j,price:A.target.value}),placeholder:"Pre (ex: 0.50)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),s.jsx("input",{type:"text",value:j.unit||"",onChange:A=>O({...j,unit:A.target.value}),placeholder:"Unitate (ex: per product)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("select",{value:j.category||"",onChange:A=>O({...j,category:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"",children:"Selecteaz categoria"}),s.jsx("option",{value:"fba",children:"FBA Prep"}),s.jsx("option",{value:"fbm",children:"FBM Shipping"}),s.jsx("option",{value:"storage",children:"Storage"}),s.jsx("option",{value:"additional",children:"Additional Services"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>se(j),className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[s.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Salveaz"]}),s.jsx("button",{onClick:I,className:"flex-1 bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Anuleaz"})]})]})]})]})]}),re=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Gestionare Recenzii"}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Adaug Recenzie Nou"}),s.jsxs("form",{onSubmit:A=>{A.preventDefault(),_e({reviewer_name:A.target.reviewer_name.value,rating:parseInt(A.target.rating.value,10),review_text:A.target.review_text.value,review_link:A.target.review_link.value}),A.target.reset()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reviewer_name",className:"block text-sm font-medium text-text-primary mb-2",children:"Nume Recenzor *"}),s.jsx("input",{type:"text",id:"reviewer_name",name:"reviewer_name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-text-primary mb-2",children:"Rating (1-5 Stele) *"}),s.jsx("input",{type:"number",id:"rating",name:"rating",required:!0,min:"1",max:"5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"review_text",className:"block text-sm font-medium text-text-primary mb-2",children:"Text Recenzie *"}),s.jsx("textarea",{id:"review_text",name:"review_text",required:!0,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"review_link",className:"block text-sm font-medium text-text-primary mb-2",children:"Link Recenzie (opional)"}),s.jsx("input",{type:"url",id:"review_link",name:"review_link",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsx("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition-colors",children:"Adaug Recenzie"})]})]}),s.jsx("h3",{className:"text-xl font-bold text-text-primary mb-4",children:"Recenzii Existente"}),s.jsx("div",{className:"space-y-4",children:$.length===0?s.jsx("p",{className:"text-text-secondary",children:"Nu exist recenzii adugate."}):$.map(A=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center mb-2",children:[...Array(A.rating)].map((z,W)=>s.jsx(On,{className:"w-5 h-5 text-yellow-400 fill-current"},W))}),s.jsx("p",{className:"text-lg font-semibold text-text-primary",children:A.reviewer_name}),s.jsx("p",{className:"text-text-secondary mb-2",children:A.review_text}),A.review_link&&s.jsx("a",{href:A.review_link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"Vezi recenzia original"})]}),s.jsx("button",{onClick:()=>te(A.id),className:"text-red-600 hover:text-red-800 transition-colors",children:s.jsx(Nt,{className:"w-5 h-5"})})]},A.id))})]}),k=()=>s.jsxs("div",{className:"space-y-10",children:[s.jsx(vB,{}),s.jsx(yB,{})]}),ee=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Setri Generale"}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Company / Warehouse / Contact"}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-text-secondary",children:"Company information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Company name"}),s.jsx("input",{type:"text",value:U.company_info_name||"",onChange:A=>K({...U,company_info_name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"SIRET"}),s.jsx("input",{type:"text",value:U.company_info_siret||"",onChange:A=>K({...U,company_info_siret:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"VAT"}),s.jsx("input",{type:"text",value:U.company_info_vat||"",onChange:A=>K({...U,company_info_vat:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-text-secondary",children:"Warehouse & operations"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Hub name"}),s.jsx("input",{type:"text",value:U.warehouse_name||"",onChange:A=>K({...U,warehouse_name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Address"}),s.jsx("textarea",{rows:3,value:U.warehouse_address||"",onChange:A=>K({...U,warehouse_address:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Phone"}),s.jsx("input",{type:"text",value:U.warehouse_phone||"",onChange:A=>K({...U,warehouse_phone:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Email"}),s.jsx("input",{type:"email",value:U.warehouse_email||"",onChange:A=>K({...U,warehouse_email:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-text-secondary",children:"Contact"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Primary email"}),s.jsx("input",{type:"email",value:U.contact_email||"",onChange:A=>K({...U,contact_email:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Primary phone"}),s.jsx("input",{type:"text",value:U.contact_phone||"",onChange:A=>K({...U,contact_phone:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Address"}),s.jsx("textarea",{rows:3,value:U.contact_address||"",onChange:A=>K({...U,contact_address:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Mentenan Site"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-text-primary",children:"Stare mentenan:"}),s.jsx("button",{onClick:()=>{const A=!_.enabled,z={..._,enabled:A};S(z),oe(z)},className:`px-4 py-2 rounded-lg font-medium text-white transition-colors ${_.enabled?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:_.enabled?"Mentenan activ":"Mentenan dezactivat"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Mesaj afiat ctre clieni"}),s.jsx("textarea",{rows:3,value:_.message,onChange:A=>S(z=>({...z,message:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsx("button",{onClick:()=>oe(_),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition-colors",children:"Salveaz Mentenana"})]})]}),s.jsx("button",{onClick:R,className:"bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary-dark transition-colors",children:"Salveaz Setrile"})]}),D=()=>{switch(h){case"analytics":return s.jsx(p2,{});case"profiles":return d?s.jsx(cB,{profile:d,onBack:g}):s.jsx(k5,{onSelect:f});case"receiving":return s.jsx(hB,{});case"prep-requests":return s.jsx(wB,{});case"services":return q();case"pricing":return k();case"reviews":return re();case"user-guide":return s.jsx(fB,{});case"affiliates":return s.jsx(Cw,{});case"affiliates":return s.jsx(Cw,{});case"settings":return ee();default:return s.jsxs("div",{className:"text-center text-gray-500 py-10",children:[s.jsxs("p",{children:["Unknown tab: ",s.jsx("strong",{children:h})]}),s.jsx("p",{className:"text-sm mt-2",children:"Please reload the page or contact support."})]})}};return o?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[M&&s.jsx("div",{className:`mb-6 px-4 py-3 rounded-lg ${M.includes("succes")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"}`,children:M}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[220px_minmax(0,1fr)] gap-6 lg:gap-8",children:[s.jsx("div",{children:s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:s.jsx("nav",{className:"space-y-1.5",children:G.map(A=>s.jsxs("button",{onClick:()=>m(A.id),className:`w-full flex items-center px-3 py-2 text-left rounded-lg text-sm transition-colors ${h===A.id?"bg-primary text-white":"text-text-secondary hover:bg-gray-50"}`,children:[s.jsx(A.icon,{className:"w-4 h-4 mr-2"}),A.label]},A.id))})})}),s.jsx("div",{children:s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-fade-in",children:E?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):D()})})]})]})}):s.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen text-center text-gray-600",children:[s.jsx("p",{className:"text-xl mb-2",children:n("common.accessDeniedTitle")}),s.jsx("p",{className:"text-sm",children:n("common.accessDeniedDesc")}),s.jsx("button",{onClick:r,className:"mt-4 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark",children:n("common.signOut")})]})}function zw({children:e}){const{loading:t,profileLoading:r,profile:n,user:i}=Ye();return t||r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-text-secondary",children:"Verificare autentificare..."})]})}):i&&(n==null?void 0:n.account_type)==="admin"?e:s.jsx(Iy,{to:"/admin-login",replace:!0})}function Ow({children:e}){const t=Rr(),{user:r,status:n}=(Ye==null?void 0:Ye())||{};return n==="loading"?null:r?e:s.jsx(Iy,{to:"/login",replace:!0,state:{from:t}})}function Iw(){var f,g;const[e,t]=x.useState({email:"",password:""}),[r,n]=x.useState(!1),[i,a]=x.useState(!1),[o,l]=x.useState(""),{signIn:c,loadUserProfile:u}=Ye(),d=Nn(),h=((g=(f=Rr().state)==null?void 0:f.from)==null?void 0:g.pathname)||"/dashboard",m=async v=>{var _,S,w,N;v.preventDefault(),a(!0),l("");const b=await c(e.email,e.password);if(b.success){if(((_=b.profile)==null?void 0:_.account_type)==="admin"||((w=(S=b.user)==null?void 0:S.user_metadata)==null?void 0:w.account_type)==="admin"){a(!1),d("/admin",{replace:!0});return}if((N=b.user)!=null&&N.id){const j=await u(b.user.id);if((j==null?void 0:j.account_type)==="admin"){a(!1),d("/admin",{replace:!0});return}}if(b.emailVerified===!1){a(!1),l("You need to confirm your email address before continuing. Please check your inbox/spam and click the confirmation link.");return}a(!1),d(h,{replace:!0})}else{let j=b.error||"An unknown error occurred.";j==="Invalid login credentials"&&(j="Incorrect email or password. Please try again."),l(j),a(!1)}},y=v=>{t(b=>({...b,[v.target.name]:v.target.value}))};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsx("div",{children:s.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-text-primary",children:"Sign in"})}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[o&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:o}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(fo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:y,className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"your.email@example.com",autoComplete:"email"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-primary mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,value:e.password,onChange:y,className:"pl-10 pr-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Your password",autoComplete:"current-password"}),s.jsx("button",{type:"button",onClick:()=>n(v=>!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-light hover:text-text-secondary","aria-label":r?"Hide password":"Show password",children:r?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(qn,{className:"w-5 h-5"})})]})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(xt,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary-dark",children:"Forgot your password?"})}),s.jsx("button",{type:"submit",disabled:i,className:"w-full bg-primary text-white py-3 px-4 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in...":"Sign in"})]})]})})}function NB(){var w,N;const[e,t]=x.useState({accountType:"individual",firstName:"",lastName:"",companyName:"",cui:"",vatNumber:"",companyAddress:"",companyCity:"",companyPostalCode:"",email:"",password:"",confirmPassword:"",phone:"",country:"FR",language:"en",affiliateCode:"",acceptTerms:!1,acceptMarketing:!1}),[r,n]=x.useState(!1),[i,a]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(""),[d,p]=x.useState(""),[h,m]=x.useState({state:"idle"}),{signUp:y}=Ye(),{t:f}=Jp(),g=Nn(),v=j=>{const O=j.length>=8,E=/[A-Z]/.test(j),P=/\d/.test(j);return O&&E&&P},b=async j=>{const O=j.trim().toUpperCase();if(!O)return m({state:"idle"}),{valid:!0,data:null};m({state:"loading"});const{data:E,error:P}=await ut.lookupAffiliateCode(O);return P?(m({state:"error",message:P.message}),{valid:!1}):E?(m({state:"valid",data:E}),{valid:!0,data:E}):(m({state:"invalid"}),{valid:!1})},_=async j=>{j.preventDefault(),l(!0),u(""),p("");const O=e.firstName.trim(),E=e.lastName.trim();if(!O||!E){u("First name and last name are required."),l(!1);return}if(e.accountType==="company"&&(!e.companyName||!e.cui||!e.companyAddress||!e.companyCity||!e.companyPostalCode)){u("All fields marked with * are required for company accounts."),l(!1);return}if(!v(e.password)){u("Password must have at least 8 characters, one uppercase letter, and one number."),l(!1);return}if(e.password!==e.confirmPassword){u("Passwords do not match."),l(!1);return}if(!e.acceptTerms){u("You must accept the Terms and Conditions."),l(!1);return}if(e.affiliateCode.trim()&&!(await b(e.affiliateCode)).valid){u(f("authAffiliateInvalid")),l(!1);return}const P={account_type:e.accountType,first_name:O,last_name:E,company_name:e.companyName,cui:e.cui,vat_number:e.vatNumber,company_address:e.companyAddress,company_city:e.companyCity,company_postal_code:e.companyPostalCode,phone:e.phone,country:e.country,language:e.language,accept_terms:e.acceptTerms,accept_marketing:e.acceptMarketing,affiliate_code:e.affiliateCode.trim(),affiliate_code_input:e.affiliateCode.trim(),accountType:e.accountType,firstName:O,lastName:E,companyName:e.companyName,vatNumber:e.vatNumber,companyAddress:e.companyAddress,companyCity:e.companyCity,companyPostalCode:e.companyPostalCode,phoneNumber:e.phone,countryCode:e.country,languageCode:e.language,acceptTerms:e.acceptTerms,acceptMarketing:e.acceptMarketing,affiliateCode:e.affiliateCode.trim()},M=await y(e.email,e.password,P);M.success?(p(M.message),setTimeout(()=>g("/login"),3e3)):(console.error("Signup error:",M.error),u(f("authSignupGenericError"))),l(!1)},S=j=>{const{name:O,value:E,type:P,checked:M}=j.target;t({...e,[O]:P==="checkbox"?M:E})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-4 text-center text-3xl font-bold text-text-primary",children:"Create account"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-text-secondary",children:["Or"," ",s.jsx(xt,{to:"/login",className:"font-medium text-primary hover:text-primary-dark",children:"log in here"})]})]}),s.jsxs("form",{className:"mt-6 space-y-4",onSubmit:_,children:[c&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-3 py-2 rounded-lg",children:c}),d&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-3 py-2 rounded-lg",children:d}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-3",children:"Account type"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"accountType",value:"individual",checked:e.accountType==="individual",onChange:S,className:"mr-3"}),s.jsx(Va,{className:"w-5 h-5 mr-2 text-text-secondary"}),s.jsx("span",{children:"Individual"})]}),s.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"accountType",value:"company",checked:e.accountType==="company",onChange:S,className:"mr-3"}),s.jsx(Ls,{className:"w-5 h-5 mr-2 text-text-secondary"}),s.jsx("span",{children:"Company"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-text-primary mb-2",children:e.accountType==="company"?"Contact first name *":"First name *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName,onChange:S,className:"pl-9 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"First name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-text-primary mb-2",children:e.accountType==="company"?"Contact last name *":"Last name *"}),s.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"Last name"})]})]}),e.accountType==="company"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-text-primary mb-2",children:"Company name *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"companyName",name:"companyName",type:"text",required:!0,value:e.companyName,onChange:S,className:"pl-9 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"Company name"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cui",className:"block text-sm font-medium text-text-primary mb-2",children:"Company ID *"}),s.jsx("input",{id:"cui",name:"cui",type:"text",required:!0,value:e.cui,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"RO12345678"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"vatNumber",className:"block text-sm font-medium text-text-primary mb-2",children:"VAT number (optional)"}),s.jsx("input",{id:"vatNumber",name:"vatNumber",type:"text",value:e.vatNumber,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"RO12345678"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"companyAddress",className:"block text-sm font-medium text-text-primary mb-2",children:"Company address *"}),s.jsx("input",{id:"companyAddress",name:"companyAddress",type:"text",required:!0,value:e.companyAddress,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"Street, number"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"companyCity",className:"block text-sm font-medium text-text-primary mb-2",children:"City *"}),s.jsx("input",{id:"companyCity",name:"companyCity",type:"text",required:!0,value:e.companyCity,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"City"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"companyPostalCode",className:"block text-sm font-medium text-text-primary mb-2",children:"Postal code *"}),s.jsx("input",{id:"companyPostalCode",name:"companyPostalCode",type:"text",required:!0,value:e.companyPostalCode,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"010101"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:S,className:"pl-9 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"your.email@example.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-primary mb-2",children:"Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,value:e.password,onChange:S,className:"pl-9 pr-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"At least 8 characters, 1 uppercase, 1 number"}),s.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-light hover:text-text-secondary",children:r?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(qn,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-text-primary mb-2",children:"Confirm password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",required:!0,value:e.confirmPassword,onChange:S,className:"pl-9 pr-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary",placeholder:"Confirm password"}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-light hover:text-text-secondary",children:i?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(qn,{className:"w-5 h-5"})})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"affiliateCode",className:"block text-sm font-medium text-text-primary mb-2",children:f("authAffiliateLabel")}),s.jsxs("div",{className:"relative",children:[s.jsx(Ly,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"affiliateCode",name:"affiliateCode",type:"text",value:e.affiliateCode,onChange:S,onBlur:()=>b(e.affiliateCode),className:"pl-9 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary uppercase",placeholder:"AF123"})]}),s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:f("authAffiliateHint")}),h.state==="loading"&&s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:f("common.loading")}),h.state==="invalid"&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:f("authAffiliateInvalid")}),h.state==="valid"&&s.jsx("p",{className:"text-xs text-green-600 mt-1",children:f("authAffiliateValid",{label:((w=h.data)==null?void 0:w.label)||((N=h.data)==null?void 0:N.code)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{id:"acceptTerms",name:"acceptTerms",type:"checkbox",required:!0,checked:e.acceptTerms,onChange:S,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded mt-1"}),s.jsxs("label",{htmlFor:"acceptTerms",className:"ml-2 block text-sm text-text-secondary",children:["By checking this box, I confirm that I have read and agree with"," ",s.jsx(xt,{to:"/terms",className:"text-primary hover:text-primary-dark",children:"Terms and Conditions"})," ","and"," ",s.jsx(xt,{to:"/privacy",className:"text-primary hover:text-primary-dark",children:"Privacy Policy"}),"."]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{id:"acceptMarketing",name:"acceptMarketing",type:"checkbox",checked:e.acceptMarketing,onChange:S,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded mt-1"}),s.jsx("label",{htmlFor:"acceptMarketing",className:"ml-2 block text-sm text-text-secondary",children:"I agree to receive marketing communications (newsletter)."})]})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary text-white py-2.5 px-4 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating account...":"Create account"})]})]})})}function kB(){const[e,t]=x.useState(""),[r,n]=x.useState(!1),[i,a]=x.useState(""),[o,l]=x.useState(""),{resetPassword:c}=Ye(),u=async d=>{d.preventDefault(),n(!0),l(""),a("");const p=await c(e);p.success?(a(p.message),t("")):l(p.error),n(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-text-primary",children:"Forgot password"}),s.jsx("p",{className:"mt-2 text-center text-sm text-text-secondary",children:"Enter your email address and well send you a reset link."})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[o&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:o}),i&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:i}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(fo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:d=>t(d.target.value),className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"your.email@example.com"})]})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full bg-primary text-white py-3 px-4 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Sending":"Send reset link"}),s.jsx("div",{className:"text-center",children:s.jsxs(xt,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:text-primary-dark",children:[s.jsx(Vl,{className:"w-4 h-4 mr-1"}),"Back to sign in"]})})]})]})})}function jB(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[i,a]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,p]=x.useState(""),[h,m]=x.useState(""),y=Nn(),{t:f}=Jp(),g={title:f("authResetTitle"),subtitle:f("authResetSubtitle"),newLabel:f("authResetNewLabel"),confirmLabel:f("authResetConfirmLabel"),hint:f("authResetHint"),save:f("authResetSave"),success:f("authResetSuccess"),errorLength:f("authResetErrorLength"),errorMismatch:f("authResetErrorMismatch")};x.useEffect(()=>{const{data:{subscription:b}}=Q.auth.onAuthStateChange(_=>{});return()=>{b.unsubscribe()}},[]);const v=async b=>{if(b.preventDefault(),u(!0),m(""),p(""),e.length<8){m(g.errorLength||"Password must be at least 8 characters."),u(!1);return}if(e!==r){m(g.errorMismatch||"Passwords do not match."),u(!1);return}const{error:_}=await Q.auth.updateUser({password:e});_?m(_.message):(p(g.success||"Password updated successfully! You will be redirected to the sign-in page."),t(""),n(""),setTimeout(()=>y("/login"),3e3)),u(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-text-primary",children:g.title||"Set a new password"}),s.jsx("p",{className:"mt-2 text-center text-sm text-text-secondary",children:g.subtitle||"Enter your new password below."})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[h&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:h}),d&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:d}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-primary mb-2",children:g.newLabel||"New password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"password",name:"password",type:i?"text":"password",required:!0,value:e,onChange:b=>t(b.target.value),className:"pl-10 pr-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:g.newLabel||"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-light hover:text-text-secondary","aria-label":i?"Hide password":"Show password",children:i?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(qn,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"mt-2 text-xs text-text-secondary",children:g.hint||"Use at least 8 characters and mix upper/lowercase letters, numbers, and symbols for a stronger password."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-text-primary mb-2",children:g.confirmLabel||"Confirm new password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light w-5 h-5"}),s.jsx("input",{id:"confirm-password",name:"confirm-password",type:o?"text":"password",required:!0,value:r,onChange:b=>n(b.target.value),onPaste:b=>b.preventDefault(),className:"pl-10 pr-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:g.confirmLabel||"Re-enter new password"}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-light hover:text-text-secondary","aria-label":o?"Hide password":"Show password",children:o?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(qn,{className:"w-5 h-5"})})]})]})]}),s.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary text-white py-3 px-4 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Saving":g.save||"Save password"})]})]})})}function AB(){const{changeLanguage:e}=Dr(),{t}=qt(),{user:r,profile:n,updateProfile:i}=Ye(),[a,o]=x.useState(!1),[l,c]=x.useState({first_name:"",last_name:"",phone:"",country:"FR",language:"en"}),[u,d]=x.useState(!1),[p,h]=x.useState(""),m=[{code:"RO",name:"Romania"},{code:"FR",name:"France"},{code:"DE",name:"Germany"},{code:"IT",name:"Italy"},{code:"ES",name:"Spain"},{code:"NL",name:"Netherlands"}],y=[{code:"en",name:"English"},{code:"ro",name:"Romn"},{code:"fr",name:"Franais"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"es",name:"Espaol"}];x.useEffect(()=>{if(n&&(c({first_name:n.first_name||"",last_name:n.last_name||"",phone:n.phone||"",country:n.country||"FR",language:n.language||"en"}),n.language)){e(n.language);try{localStorage.setItem("appLang",n.language)}catch{}}},[n]);const f=async v=>{v.preventDefault(),d(!0),h("");const b=await i(l);if(b.success){if(h(t("profile.flashOk")),o(!1),l!=null&&l.language){e(l.language);try{localStorage.setItem("appLang",l.language)}catch{}}}else h(b.error||t("profile.flashErr"));d(!1)},g=v=>{c(b=>({...b,[v.target.name]:v.target.value}))};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:t("profile.title")}),s.jsxs("button",{onClick:()=>o(v=>!v),className:"flex items-center px-4 py-2 text-primary hover:text-primary-dark transition-colors",children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),t(a?"profile.cancel":"profile.edit")]})]}),p&&s.jsx("div",{className:`mb-6 px-4 py-3 rounded-lg ${p.toLowerCase().includes("success")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"}`,children:p}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-text-primary mb-2",children:t("profile.fields.firstName")}),s.jsx("input",{type:"text",id:"first_name",name:"first_name",value:l.first_name,onChange:g,disabled:!a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent disabled:bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-text-primary mb-2",children:t("profile.fields.lastName")}),s.jsx("input",{type:"text",id:"last_name",name:"last_name",value:l.last_name,onChange:g,disabled:!a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent disabled:bg-gray-50"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:t("profile.fields.email")}),s.jsx("input",{type:"email",id:"email",value:(r==null?void 0:r.email)||"",disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"}),s.jsx("p",{className:"text-sm text-text-light mt-1",children:t("profile.fields.emailNote")})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-text-primary mb-2",children:t("profile.fields.phone")}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:l.phone,onChange:g,disabled:!a,placeholder:t("profile.fields.phonePh"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent disabled:bg-gray-50"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-text-primary mb-2",children:t("profile.fields.country")}),s.jsx("select",{id:"country",name:"country",value:l.country,onChange:g,disabled:!a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent disabled:bg-gray-50",children:m.map(v=>s.jsx("option",{value:v.code,children:t(`profile.countries.${v.code}`)},v.code))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-text-primary mb-2",children:t("profile.fields.language")}),s.jsx("select",{id:"language",name:"language",value:l.language,onChange:g,disabled:!a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent disabled:bg-gray-50",children:y.map(v=>s.jsx("option",{value:v.code,children:t(`profile.languages.${v.code}`)},v.code))})]})]}),a&&s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",disabled:u,className:"flex items-center px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50",children:[s.jsx(Jt,{className:"w-4 h-4 mr-2"}),t(u?"profile.saving":"profile.save")]})})]})]})}function CB(){const{t:e}=qt(),{user:t}=Ye(),[r,n]=x.useState([]),[i,a]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,p]=x.useState(""),[h,m]=x.useState({type:"individual",first_name:"",last_name:"",company_name:"",vat_number:"",siren_siret:"",country:"FR",address:"",city:"",postal_code:"",phone:"",is_default:!1}),y=["FR","DE","IT","ES","RO"].map(N=>({code:N,name:e(`profile.countries.${N}`)}));x.useEffect(()=>{t&&f()},[t]);const f=async()=>{if(!t)return;u(!0);const{data:N,error:j}=await he.getBillingProfiles(t.id);if(j){console.error("Error fetching profiles:",j),p(j.message||e("billing.flash.errorSave")),n([]),u(!1);return}if(!N||N.length===0){const{error:O}=await he.seedBillingProfilesFromSignup(t.id);if(O){console.error("Error seeding billing profiles:",O),p(O.message||e("billing.flash.errorSave")),n([]),u(!1);return}const{data:E}=await he.getBillingProfiles(t.id);n(E||[]),u(!1);return}n(N),u(!1)},g=async(N,j)=>{if(!N)return{valid:!0};const E={FR:/^FR[0-9A-Z]{2}[0-9]{9}$/,DE:/^DE[0-9]{9}$/,IT:/^IT[0-9]{11}$/,ES:/^ES[0-9A-Z][0-9]{7}[0-9A-Z]$/,NL:/^NL[0-9]{9}B[0-9]{2}$/,BE:/^BE[0-9]{10}$/,RO:/^RO[0-9]{2,10}$/}[j];return E&&!E.test(N)?{valid:!1,error:"Format VAT invalid pentru aceast ar"}:{valid:!0}},v=async N=>{if(N.preventDefault(),u(!0),p(""),h.type==="company"&&h.vat_number){const O=await g(h.vat_number,h.country);if(!O.valid){p(`Validare VAT euat: ${O.error||"Numr VAT invalid"}`),u(!1);return}}const j={...h,user_id:t.id};try{if(o){const{error:O}=await he.updateBillingProfile(o.id,h);if(O)throw O;p(e("billing.flash.updated"))}else{const{error:O}=await he.createBillingProfile(j);if(O)throw O;p(e("billing.flash.created"))}S(),f()}catch(O){p(O.message||e("billing.flash.errorSave"))}u(!1)},b=N=>{l(N),m(N),a(!0)},_=async N=>{if(confirm(e("billing.flash.deleteConfirm")))try{const{error:j}=await he.deleteBillingProfile(N);if(j)throw j;p(e("billing.flash.deleted")),f()}catch(j){p(j.message||e("billing.flash.errorDelete"))}},S=()=>{m({type:"individual",first_name:"",last_name:"",company_name:"",vat_number:"",siren_siret:"",country:"FR",address:"",city:"",postal_code:"",phone:"",is_default:!1}),a(!1),l(null)},w=N=>{const{name:j,value:O,type:E,checked:P}=N.target;m({...h,[j]:E==="checkbox"?P:O})};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:e("billing.title")}),s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),e("billing.addProfile")]})]}),d&&s.jsx("div",{className:`mb-6 px-4 py-3 rounded-lg ${d.toLowerCase().includes("succes")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"}`,children:d}),i&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:e(o?"billing.form.edit":"billing.form.new")}),s.jsx("button",{onClick:S,className:"text-text-secondary hover:text-text-primary",children:s.jsx(yr,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-primary mb-3",children:e("billing.form.type")}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"type",value:"individual",checked:h.type==="individual",onChange:w,className:"mr-3"}),s.jsx(Va,{className:"w-5 h-5 mr-2 text-text-secondary"}),s.jsx("span",{children:e("billing.form.individual")})]}),s.jsxs("label",{className:"flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"type",value:"company",checked:h.type==="company",onChange:w,className:"mr-3"}),s.jsx(Ls,{className:"w-5 h-5 mr-2 text-text-secondary"}),s.jsx("span",{children:e("billing.form.company")})]})]})]}),h.type==="individual"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-text-primary mb-2",children:e("billing.form.firstName")}),s.jsx("input",{type:"text",id:"first_name",name:"first_name",required:!0,value:h.first_name,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-text-primary mb-2",children:e("billing.form.lastName")}),s.jsx("input",{type:"text",id:"last_name",name:"last_name",required:!0,value:h.last_name,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),h.type==="company"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company_name",className:"block text-sm font-medium text-text-primary mb-2",children:e("billing.form.companyName")}),s.jsx("input",{type:"text",id:"company_name",name:"company_name",required:!0,value:h.company_name,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"vat_number",className:"block text-sm font-medium text-text-primary mb-2",children:e("billing.form.vat")}),s.jsx("input",{type:"text",id:"vat_number",name:"vat_number",value:h.vat_number,onChange:w,placeholder:"Ex: FR12345678901",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),h.country==="FR"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"siren_siret",className:"block text-sm font-medium text-text-primary mb-2",children:e("billing.form.sirenSiret")}),s.jsx("input",{type:"text",id:"siren_siret",name:"siren_siret",value:h.siren_siret,onChange:w,placeholder:"Ex: 12345678901234",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-text-primary mb-2",children:e("billing.form.country")}),s.jsx("select",{id:"country",name:"country",required:!0,value:h.country,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:y.map(N=>s.jsx("option",{value:N.code,children:N.name},N.code))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-text-primary mb-2",children:e("billing.form.address")}),s.jsx("textarea",{id:"address",name:"address",required:!0,rows:3,value:h.address,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-text-primary mb-2",children:e("billing.form.city")}),s.jsx("input",{type:"text",id:"city",name:"city",required:!0,value:h.city,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-text-primary mb-2",children:e("billing.form.postalCode")}),s.jsx("input",{type:"text",id:"postal_code",name:"postal_code",required:!0,value:h.postal_code,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-text-primary mb-2",children:e("billing.form.phone")}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_default",name:"is_default",checked:h.is_default,onChange:w,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_default",className:"ml-2 block text-sm text-text-secondary",children:e("billing.form.default")})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:S,className:"px-6 py-3 border border-gray-300 text-text-secondary rounded-lg hover:bg-gray-50 transition-colors",children:e("billing.form.cancel")}),s.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50",children:e(c?"billing.form.saving":o?"billing.form.update":"billing.form.save")})]})]})]}),s.jsx("div",{className:"space-y-4",children:r.map(N=>{var j;return s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[N.type==="company"?s.jsx(Ls,{className:"w-5 h-5 text-text-secondary mr-2"}):s.jsx(Va,{className:"w-5 h-5 text-text-secondary mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:N.type==="company"?N.company_name:`${N.first_name} ${N.last_name}`}),N.is_default&&s.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Implicit"})]}),s.jsxs("div",{className:"text-text-secondary space-y-1",children:[N.type==="company"&&N.vat_number&&s.jsxs("p",{children:[e("billing.list.labels.vat"),": ",N.vat_number]}),N.type==="company"&&N.siren_siret&&s.jsxs("p",{children:[e("billing.list.labels.sirenSiret"),": ",N.siren_siret]}),s.jsx("p",{children:N.address}),s.jsxs("p",{children:[N.city,", ",N.postal_code]}),s.jsx("p",{children:(j=y.find(O=>O.code===N.country))==null?void 0:j.name}),N.phone&&s.jsxs("p",{children:[e("billing.list.labels.tel"),": ",N.phone]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>b(N),className:"p-2 text-text-secondary hover:text-primary transition-colors",children:s.jsx(gc,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>_(N.id),className:"p-2 text-text-secondary hover:text-red-600 transition-colors",children:s.jsx(Nt,{className:"w-4 h-4"})})]})]})},N.id)})}),r.length===0&&!i&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ls,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-text-secondary mb-2",children:e("billing.list.noneTitle")}),s.jsx("p",{className:"text-text-light mb-6",children:e("billing.list.noneDesc")}),s.jsx("button",{onClick:()=>a(!0),className:"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors",children:e("billing.list.add")})]})]})}function PB(){const{t:e,tp:t}=qt(),[r,n]=x.useState([]),[i,a]=x.useState(!0),{user:o}=Ye(),[l,c]=x.useState(""),[u,d]=x.useState("all"),[p,h]=x.useState("all"),[m,y]=x.useState("");x.useEffect(()=>{o&&f()},[o]);const f=async()=>{if(o)try{const{data:w,error:N}=await he.getInvoices(o.id);if(N)throw N;n(w||[])}catch(w){console.error("Error fetching invoices:",w),y(e("invoices.flashError"))}finally{a(!1)}},g=async w=>{try{const{data:N,error:j}=await he.downloadInvoice(w.file_path);if(j)throw j;const O=window.URL.createObjectURL(N),E=document.createElement("a");E.style.display="none",E.href=O,E.download=`invoice-${w.invoice_number}.pdf`,document.body.appendChild(E),E.click(),window.URL.revokeObjectURL(O)}catch(N){console.error("Error downloading invoice:",N),y(e("invoices.errors.download"))}},v=async w=>{const{data:N,error:j}=await he.getInvoiceSignedUrl(w.file_path,300);if(j||!(N!=null&&N.signedUrl)){y(e("invoices.errors.view"));return}window.open(N.signedUrl,"_blank")},b=w=>{switch(w){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},_=w=>{switch(w){case"paid":return"Paid";case"pending":return"Pending";case"overdue":return"Overdue";case"cancelled":return"Cancelled";default:return w}},S=r.filter(w=>{var E,P;const N=((E=w.invoice_number)==null?void 0:E.toLowerCase().includes(l.toLowerCase()))||((P=w.description)==null?void 0:P.toLowerCase().includes(l.toLowerCase())),j=u==="all"||w.status===u;let O=!0;if(p!=="all"){const M=new Date(w.issue_date),T=new Date;switch(p){case"last30":O=T-M<=30*24*60*60*1e3;break;case"last90":O=T-M<=90*24*60*60*1e3;break;case"thisYear":O=M.getFullYear()===T.getFullYear();break;default:O=!0}}return N&&j&&O});return i?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:e("invoices.title")}),s.jsx("div",{className:"text-sm text-text-secondary",children:t("invoices.total",{n:S.length})})]}),m&&s.jsx("div",{className:`mb-6 px-4 py-3 rounded-lg ${m.toLowerCase().includes("success")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"}`,children:m}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-text-primary mb-2",children:e("invoices.filters.search")}),s.jsxs("div",{className:"relative",children:[s.jsx(Xp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-light w-4 h-4"}),s.jsx("input",{type:"text",id:"search",value:l,onChange:w=>c(w.target.value),placeholder:e("invoices.filters.searchPh"),className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-text-primary mb-2",children:e("invoices.filters.status")}),s.jsxs("select",{id:"status",value:u,onChange:w=>d(w.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[s.jsx("option",{value:"all",children:e("invoices.filters.all")}),s.jsx("option",{value:"paid",children:e("invoices.filters.paid")}),s.jsx("option",{value:"pending",children:e("invoices.filters.pending")}),s.jsx("option",{value:"overdue",children:e("invoices.filters.overdue")}),s.jsx("option",{value:"cancelled",children:e("invoices.filters.cancelled")})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-text-primary mb-2",children:e("invoices.filters.period")}),s.jsxs("select",{id:"date",value:p,onChange:w=>h(w.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[s.jsx("option",{value:"all",children:e("invoices.filters.all")}),s.jsx("option",{value:"last30",children:e("invoices.filters.last30")}),s.jsx("option",{value:"last90",children:e("invoices.filters.last90")}),s.jsx("option",{value:"thisYear",children:e("invoices.filters.thisYear")})]})]})]})}),s.jsx("div",{className:"space-y-4",children:S.map(w=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[s.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(za,{className:"w-5 h-5 text-text-secondary mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:t("invoices.card.invoice",{no:w.invoice_number})}),s.jsx("span",{className:`ml-3 px-2 py-1 text-xs rounded-full ${b(w.status)}`,children:_(w.status)})]}),s.jsxs("div",{className:"text-text-secondary space-y-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ys,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[e("invoices.card.date"),": ",new Date(w.issue_date).toLocaleDateString("en-GB")]})]}),w.due_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ys,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[e("invoices.card.due"),": ",new Date(w.due_date).toLocaleDateString("en-GB")]})]}),w.description&&s.jsx("p",{className:"text-sm",children:w.description})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-2 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-text-primary",children:t("invoices.card.amount",{amount:parseFloat(w.amount||0).toFixed(2)})}),w.vat_amount&&s.jsx("p",{className:"text-sm text-text-secondary",children:t("invoices.card.vat",{vat:parseFloat(w.vat_amount).toFixed(2)})})]}),w.file_path?s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>v(w),className:"flex items-center px-3 py-2 text-primary border border-primary rounded-lg hover:bg-primary hover:text-white transition-colors",children:[s.jsx(qn,{className:"w-4 h-4 mr-1"}),e("invoices.card.view")]}),s.jsxs("button",{onClick:()=>g(w),className:"flex items-center px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[s.jsx(Kl,{className:"w-4 h-4 mr-1"}),e("invoices.card.download")]})]}):s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-700",children:e("invoices.card.noFile")})]})]})},w.id))}),S.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(za,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-text-secondary mb-2",children:e(l||u!=="all"||p!=="all"?"invoices.empty.noneFound":"invoices.empty.noneYet")}),s.jsx("p",{className:"text-text-light mb-6",children:e(l||u!=="all"||p!=="all"?"invoices.empty.tipFound":"invoices.empty.tipYet")})]})]})}function EB(){const{t:e}=qt(),{user:t}=Ye(),[r,n]=x.useState(""),[i,a]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,p]=x.useState(""),h=async y=>{if(y.preventDefault(),u(!0),p(""),r!==i){p(e("security.flash.pwdMismatch")),u(!1);return}if(r.length<8){p(e("security.flash.pwdTooShort")),u(!1);return}try{const{error:f}=await Q.auth.updateUser({password:r});if(f)throw f;p(e("security.flash.pwdOk")),n(""),a("")}catch(f){p(f.message||e("security.flash.pwdErr"))}u(!1)},m=d.toLowerCase().includes("success")||d.toLowerCase().includes("changed")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600";return s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-xl font-bold text-text-primary mb-6",children:e("security.title")})}),d&&s.jsx("div",{className:`px-4 py-3 rounded-lg ${m}`,children:d}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(kF,{className:"w-6 h-6 text-primary mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:e("security.changePwd.title")})]}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-text-primary mb-2",children:e("security.changePwd.new")}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o?"text":"password",id:"newPassword",value:r,onChange:y=>n(y.target.value),required:!0,minLength:8,className:"w-full px-4 py-3 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:e("security.changePwd.newPh")}),s.jsx("button",{type:"button",onClick:()=>l(y=>!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-light hover:text-text-secondary",children:o?s.jsx(Xs,{className:"w-5 h-5"}):s.jsx(qn,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-text-primary mb-2",children:e("security.changePwd.confirm")}),s.jsx("input",{type:o?"text":"password",id:"confirmPassword",value:i,onChange:y=>a(y.target.value),required:!0,minLength:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:e("security.changePwd.confirmPh")})]}),s.jsx("button",{type:"submit",disabled:c,className:"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50",children:e(c?"security.changePwd.changing":"security.changePwd.submit")})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Ln,{className:"w-6 h-6 text-primary mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:e("security.accountInfo.title")})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-text-secondary",children:e("security.accountInfo.emailVerified")}),s.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${t!=null&&t.email_confirmed_at?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t!=null&&t.email_confirmed_at?e("security.accountInfo.verified"):e("security.accountInfo.unverified")})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-text-secondary",children:e("security.accountInfo.lastSignIn")}),s.jsx("span",{className:"text-text-primary",children:t!=null&&t.last_sign_in_at?new Date(t.last_sign_in_at).toLocaleDateString("en-GB"):"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-text-secondary",children:e("security.accountInfo.createdAt")}),s.jsx("span",{className:"text-text-primary",children:t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString("en-GB"):"N/A"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:e("security.tips.title")}),s.jsxs("ul",{className:"space-y-2 text-sm text-text-secondary",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e("security.tips.t1")]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e("security.tips.t2")]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e("security.tips.t3")]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),e("security.tips.t4")]})]})]})]})}function y2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=y2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=y2(e))&&(n&&(n+=" "),n+=t);return n}var TB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function nx(e){if(typeof e!="string")return!1;var t=TB;return t.includes(e)}var zB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function x2(e){if(typeof e!="string")return!1;var t=zB;return t.includes(e)}function b2(e){return typeof e=="string"&&e.startsWith("data-")}function Un(e){var t=Object.entries(e).filter(r=>{var[n]=r;return x2(n)||b2(n)});return Object.fromEntries(t)}function om(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Un(t)}return typeof e=="object"&&!Array.isArray(e)?Un(e):null}function Or(e){var t=Object.entries(e).filter(r=>{var[n]=r;return x2(n)||b2(n)||nx(n)});return Object.fromEntries(t)}function OB(e){return e==null?null:x.isValidElement(e)?Or(e.props):typeof e=="object"&&!Array.isArray(e)?Or(e):null}var IB=["children","width","height","viewBox","className","style","title","desc"];function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(null,arguments)}function MB(e,t){if(e==null)return{};var r,n,i=FB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ix=x.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:l,title:c,desc:u}=e,d=MB(e,IB),p=a||{width:n,height:i,x:0,y:0},h=Ke("recharts-surface",o);return x.createElement("svg",qg({},Or(d),{className:h,width:n,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,u),r)}),RB=["children","className"];function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(null,arguments)}function DB(e,t){if(e==null)return{};var r,n,i=LB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bo=x.forwardRef((e,t)=>{var{children:r,className:n}=e,i=DB(e,RB),a=Ke("recharts-layer",n);return x.createElement("g",Ug({className:a},Or(i),{ref:t}),r)}),_2=x.createContext(null),BB=()=>x.useContext(_2);function Ze(e){return function(){return e}}const w2=Math.cos,Qd=Math.sin,kn=Math.sqrt,Yd=Math.PI,lm=2*Yd,$g=Math.PI,Vg=2*$g,va=1e-6,qB=Vg-va;function S2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function UB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return S2;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class $B{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?S2:UB(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,d=o-t,p=l-r,h=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>va)if(!(Math.abs(p*c-u*d)>va)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,y=i-l,f=c*c+u*u,g=m*m+y*y,v=Math.sqrt(f),b=Math.sqrt(h),_=a*Math.tan(($g-Math.acos((f+h-g)/(2*v*b)))/2),S=_/b,w=_/v;Math.abs(S-1)>va&&this._append`L${t+S*d},${r+S*p}`,this._append`A${a},${a},0,0,${+(p*m>d*y)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,p=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>va||Math.abs(this._y1-d)>va)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Vg+Vg),h>qB?this._append`A${n},${n},0,1,${p},${t-l},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=d}`:h>va&&this._append`A${n},${n},0,${+(h>=$g)},${p},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ax(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $B(t)}function sx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function N2(e){this._context=e}N2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cm(e){return new N2(e)}function k2(e){return e[0]}function j2(e){return e[1]}function A2(e,t){var r=Ze(!0),n=null,i=cm,a=null,o=ax(l);e=typeof e=="function"?e:e===void 0?k2:Ze(e),t=typeof t=="function"?t:t===void 0?j2:Ze(t);function l(c){var u,d=(c=sx(c)).length,p,h=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=d;++u)!(u<d&&r(p=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(p,u,c),+t(p,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ze(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ze(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ze(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function ku(e,t,r){var n=null,i=Ze(!0),a=null,o=cm,l=null,c=ax(u);e=typeof e=="function"?e:e===void 0?k2:Ze(+e),t=typeof t=="function"?t:Ze(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?j2:Ze(+r);function u(p){var h,m,y,f=(p=sx(p)).length,g,v=!1,b,_=new Array(f),S=new Array(f);for(a==null&&(l=o(b=c())),h=0;h<=f;++h){if(!(h<f&&i(g=p[h],h,p))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(_[y],S[y]);l.lineEnd(),l.areaEnd()}v&&(_[h]=+e(g,h,p),S[h]=+t(g,h,p),l.point(n?+n(g,h,p):_[h],r?+r(g,h,p):S[h]))}if(b)return l=null,b+""||null}function d(){return A2().defined(i).curve(o).context(a)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ze(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ze(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ze(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ze(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ze(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ze(+p),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ze(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),u):o},u.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),u):a},u}class C2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function VB(e){return new C2(e,!0)}function WB(e){return new C2(e,!1)}const ox={draw(e,t){const r=kn(t/Yd);e.moveTo(r,0),e.arc(0,0,r,0,lm)}},KB={draw(e,t){const r=kn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},P2=kn(1/3),HB=P2*2,GB={draw(e,t){const r=kn(t/HB),n=r*P2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ZB={draw(e,t){const r=kn(t),n=-r/2;e.rect(n,n,r,r)}},QB=.8908130915292852,E2=Qd(Yd/10)/Qd(7*Yd/10),YB=Qd(lm/10)*E2,XB=-w2(lm/10)*E2,JB={draw(e,t){const r=kn(t*QB),n=YB*r,i=XB*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=lm*a/5,l=w2(o),c=Qd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},Xh=kn(3),e6={draw(e,t){const r=-kn(t/(Xh*3));e.moveTo(0,r*2),e.lineTo(-Xh*r,-r),e.lineTo(Xh*r,-r),e.closePath()}},$r=-.5,Vr=kn(3)/2,Wg=1/kn(12),t6=(Wg/2+1)*3,r6={draw(e,t){const r=kn(t/t6),n=r/2,i=r*Wg,a=n,o=r*Wg+r,l=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo($r*n-Vr*i,Vr*n+$r*i),e.lineTo($r*a-Vr*o,Vr*a+$r*o),e.lineTo($r*l-Vr*c,Vr*l+$r*c),e.lineTo($r*n+Vr*i,$r*i-Vr*n),e.lineTo($r*a+Vr*o,$r*o-Vr*a),e.lineTo($r*l+Vr*c,$r*c-Vr*l),e.closePath()}};function n6(e,t){let r=null,n=ax(i);e=typeof e=="function"?e:Ze(e||ox),t=typeof t=="function"?t:Ze(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ze(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ze(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Xd(){}function Jd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function T2(e){this._context=e}T2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i6(e){return new T2(e)}function z2(e){this._context=e}z2.prototype={areaStart:Xd,areaEnd:Xd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a6(e){return new z2(e)}function O2(e){this._context=e}O2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s6(e){return new O2(e)}function I2(e){this._context=e}I2.prototype={areaStart:Xd,areaEnd:Xd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function o6(e){return new I2(e)}function Mw(e){return e<0?-1:1}function Fw(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(Mw(a)+Mw(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function Rw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Jh(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function ep(e){this._context=e}ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jh(this,this._t0,Rw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jh(this,Rw(this,r=Fw(this,e,t)),r);break;default:Jh(this,this._t0,r=Fw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function M2(e){this._context=new F2(e)}(M2.prototype=Object.create(ep.prototype)).point=function(e,t){ep.prototype.point.call(this,t,e)};function F2(e){this._context=e}F2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function l6(e){return new ep(e)}function c6(e){return new M2(e)}function R2(e){this._context=e}R2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Dw(e),i=Dw(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Dw(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function u6(e){return new R2(e)}function um(e,t){this._context=e,this._t=t}um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function d6(e){return new um(e,.5)}function p6(e){return new um(e,0)}function m6(e){return new um(e,1)}function to(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,l=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Kg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function h6(e,t){return e[t]}function f6(e){const t=[];return t.key=e,t}function g6(){var e=Ze([]),t=Kg,r=to,n=h6;function i(a){var o=Array.from(e.apply(this,arguments),f6),l,c=o.length,u=-1,d;for(const p of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(p,o[l].key,u,a)]).data=p;for(l=0,d=sx(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ze(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ze(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Kg:typeof a=="function"?a:Ze(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??to,i):r},i}function v6(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}to(e,t)}}function y6(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}to(e,t)}}function x6(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],p=d[n][1]||0,h=d[n-1][1]||0,m=(p-h)/2,y=0;y<l;++y){var f=e[t[y]],g=f[n][1]||0,v=f[n-1][1]||0;m+=g-v}c+=p,u+=m*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,to(e,t)}}var dm={},D2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(D2);var lx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(lx);var pm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(pm);var mm={},L2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(L2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L2,r=pm;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];u?p==="\\"&&l+1<o?(l++,c+=i[l]):p===u?u="":c+=p:d?p==='"'||p==="'"?u=p:p==="]"?(d=!1,a.push(c),c=""):c+=p:p==="["?(d=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,l++}return c&&a.push(c),a}e.toPath=n})(mm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D2,r=lx,n=pm,i=mm;function a(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?a(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let p=0;p<c.length;p++){if(d==null||t.isUnsafeProperty(c[p]))return u;d=d[c[p]]}return d===void 0?u:d}e.get=a})(dm);var b6=dm.get;const hm=fi(b6);var Yr=e=>e===0?0:e>0?1:-1,Sn=e=>typeof e=="number"&&e!=+e,ui=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ze=e=>(typeof e=="number"||e instanceof Number)&&!Sn(e),$n=e=>ze(e)||typeof e=="string",_6=0,Jl=e=>{var t=++_6;return"".concat(e||"").concat(t)},ea=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(t)&&typeof t!="string")return n;var a;if(ui(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return Sn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},B2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Qn(e,t,r){return ze(e)&&ze(t)?e+r*(t-e):t}function q2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):hm(n,t))===r)}var zt=e=>e===null||typeof e>"u",wc=e=>zt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),w6=["type","size","sizeType"];function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(null,arguments)}function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){S6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S6(e,t,r){return(t=N6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N6(e){var t=k6(e,"string");return typeof t=="symbol"?t:t+""}function k6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j6(e,t){if(e==null)return{};var r,n,i=A6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function A6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var U2={symbolCircle:ox,symbolCross:KB,symbolDiamond:GB,symbolSquare:ZB,symbolStar:JB,symbolTriangle:e6,symbolWye:r6},C6=Math.PI/180,P6=e=>{var t="symbol".concat(wc(e));return U2[t]||ox},E6=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*C6;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},T6=(e,t)=>{U2["symbol".concat(wc(e))]=t},$2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=j6(e,w6),a=Bw(Bw({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=P6(o),m=n6().type(h).size(E6(r,n,o)),y=m();if(y!==null)return y},{className:c,cx:u,cy:d}=a,p=Or(a);return u===+u&&d===+d&&r===+r?x.createElement("path",Hg({},p,{className:Ke("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};$2.registerSymbol=T6;var cx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{nx(i)&&(n[i]=a=>r[i](r,a))}),n},z6=(e,t,r)=>n=>(e(t,r,n),null),V2=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];nx(i)&&typeof a=="function"&&(n||(n={}),n[i]=z6(a,t,r))}),n};function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(null,arguments)}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){ux(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ux(e,t,r){return(t=I6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I6(e){var t=M6(e,"string");return typeof t=="symbol"?t:t+""}function M6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wr=32;class dx extends x.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=Wr/2,a=Wr/6,o=Wr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Wr,y2:i,className:"recharts-legend-icon"});if(c==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Wr,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return x.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var u=O6({},t);return delete u.legendIcon,x.cloneElement(t.legendIcon,u)}return x.createElement($2,{fill:l,cx:i,cy:i,size:Wr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:Wr,height:Wr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,p)=>{var h=d.formatter||i,m=Ke({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?a:d.color,f=h?h(d.value,d,p):d.value;return x.createElement("li",Gg({className:m,style:c,key:"legend-item-".concat(p)},V2(this.props,d,p)),x.createElement(ix,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(f," legend icon")},this.renderIcon(d,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},f))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}ux(dx,"displayName","Legend");ux(dx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var W2={},K2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],l=n(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(K2);var px={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(px);var H2={},fm={},G2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(G2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(fm);var Z2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Z2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fm,r=Z2;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(H2);var Q2={},Y2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dm;function r(n){return function(i){return t.get(i,n)}}e.property=r})(Y2);var X2={},mx={},J2={},hx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(hx);var fx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(fx);var gx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(gx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hx,r=fx,n=gx;function i(d,p,h){return typeof h!="function"?i(d,p,()=>{}):a(d,p,function m(y,f,g,v,b,_){const S=h(y,f,g,v,b,_);return S!==void 0?!!S:a(y,f,m,_)},new Map)}function a(d,p,h,m){if(p===d)return!0;switch(typeof p){case"object":return o(d,p,h,m);case"function":return Object.keys(p).length>0?a(d,{...p},h,m):n.eq(d,p);default:return t.isObject(d)?typeof p=="string"?p==="":!0:n.eq(d,p)}}function o(d,p,h,m){if(p==null)return!0;if(Array.isArray(p))return c(d,p,h,m);if(p instanceof Map)return l(d,p,h,m);if(p instanceof Set)return u(d,p,h,m);const y=Object.keys(p);if(d==null)return y.length===0;if(y.length===0)return!0;if(m!=null&&m.has(p))return m.get(p)===d;m==null||m.set(p,d);try{for(let f=0;f<y.length;f++){const g=y[f];if(!r.isPrimitive(d)&&!(g in d)||p[g]===void 0&&d[g]!==void 0||p[g]===null&&d[g]!==null||!h(d[g],p[g],g,d,p,m))return!1}return!0}finally{m==null||m.delete(p)}}function l(d,p,h,m){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,f]of p.entries()){const g=d.get(y);if(h(g,f,y,d,p,m)===!1)return!1}return!0}function c(d,p,h,m){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let f=0;f<p.length;f++){const g=p[f];let v=!1;for(let b=0;b<d.length;b++){if(y.has(b))continue;const _=d[b];let S=!1;if(h(_,g,f,d,p,m)&&(S=!0),S){y.add(b),v=!0;break}}if(!v)return!1}return!0}function u(d,p,h,m){return p.size===0?!0:d instanceof Set?c([...d],[...p],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})(J2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J2;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(mx);var eC={},vx={},tC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(tC);var yx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(yx);var xx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",p="[object Function]",h="[object ArrayBuffer]",m="[object Object]",y="[object Error]",f="[object DataView]",g="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",_="[object Uint32Array]",S="[object BigUint64Array]",w="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",O="[object BigInt64Array]",E="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=f,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=E,e.float64ArrayTag=P,e.functionTag=p,e.int16ArrayTag=N,e.int32ArrayTag=j,e.int8ArrayTag=w,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=_,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=v})(xx);var rC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(rC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tC,r=yx,n=xx,i=fx,a=rC;function o(d,p){return l(d,void 0,d,new Map,p)}function l(d,p,h,m=new Map,y=void 0){const f=y==null?void 0:y(d,p,h,m);if(f!==void 0)return f;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const g=new Array(d.length);m.set(d,g);for(let v=0;v<d.length;v++)g[v]=l(d[v],v,h,m,y);return Object.hasOwn(d,"index")&&(g.index=d.index),Object.hasOwn(d,"input")&&(g.input=d.input),g}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const g=new RegExp(d.source,d.flags);return g.lastIndex=d.lastIndex,g}if(d instanceof Map){const g=new Map;m.set(d,g);for(const[v,b]of d)g.set(v,l(b,v,h,m,y));return g}if(d instanceof Set){const g=new Set;m.set(d,g);for(const v of d)g.add(l(v,void 0,h,m,y));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const g=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,g);for(let v=0;v<d.length;v++)g[v]=l(d[v],v,h,m,y);return g}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const g=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,g),c(g,d,h,m,y),g}if(typeof File<"u"&&d instanceof File){const g=new File([d],d.name,{type:d.type});return m.set(d,g),c(g,d,h,m,y),g}if(typeof Blob<"u"&&d instanceof Blob){const g=new Blob([d],{type:d.type});return m.set(d,g),c(g,d,h,m,y),g}if(d instanceof Error){const g=new d.constructor;return m.set(d,g),g.message=d.message,g.name=d.name,g.stack=d.stack,g.cause=d.cause,c(g,d,h,m,y),g}if(d instanceof Boolean){const g=new Boolean(d.valueOf());return m.set(d,g),c(g,d,h,m,y),g}if(d instanceof Number){const g=new Number(d.valueOf());return m.set(d,g),c(g,d,h,m,y),g}if(d instanceof String){const g=new String(d.valueOf());return m.set(d,g),c(g,d,h,m,y),g}if(typeof d=="object"&&u(d)){const g=Object.create(Object.getPrototypeOf(d));return m.set(d,g),c(g,d,h,m,y),g}return d}function c(d,p,h=d,m,y){const f=[...Object.keys(p),...t.getSymbols(p)];for(let g=0;g<f.length;g++){const v=f[g],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=l(p[v],v,h,m,y))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(vx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(eC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mx,r=eC;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(X2);var nC={},iC={},aC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vx,r=xx;function n(i,a){return t.cloneDeepWith(i,(o,l,c,u)=>{const d=a==null?void 0:a(o,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(aC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aC;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(iC);var sC={},bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(bx);var oC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(oC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lx,r=bx,n=oC,i=mm;function a(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const p=c[d];if((u==null||!Object.hasOwn(u,p))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(p)&&p<u.length))return!1;u=u[p]}return!0}e.has=a})(sC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mx,r=pm,n=iC,i=dm,a=sC;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?a.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(nC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px,r=Y2,n=X2,i=nC;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(Q2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K2,r=px,n=H2,i=Q2;function a(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(W2);var F6=W2.uniqBy;const Uw=fi(F6);function lC(e,t,r){return t===!0?Uw(e,r):typeof t=="function"?Uw(e,t):e}var cC={exports:{}},uC={},dC={exports:{}},pC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=x;function R6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var D6=typeof Object.is=="function"?Object.is:R6,L6=ro.useState,B6=ro.useEffect,q6=ro.useLayoutEffect,U6=ro.useDebugValue;function $6(e,t){var r=t(),n=L6({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return q6(function(){i.value=r,i.getSnapshot=t,ef(i)&&a({inst:i})},[e,r,t]),B6(function(){return ef(i)&&a({inst:i}),e(function(){ef(i)&&a({inst:i})})},[e]),U6(r),r}function ef(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!D6(e,r)}catch{return!0}}function V6(e,t){return t()}var W6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?V6:$6;pC.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:W6;dC.exports=pC;var K6=dC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm=x,H6=K6;function G6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z6=typeof Object.is=="function"?Object.is:G6,Q6=H6.useSyncExternalStore,Y6=gm.useRef,X6=gm.useEffect,J6=gm.useMemo,eq=gm.useDebugValue;uC.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Y6(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=J6(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return p=y}return p=m}if(y=p,Z6(d,m))return y;var f=n(m);return i!==void 0&&i(y,f)?(d=m,y):(d=m,p=f)}var u=!1,d,p,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=Q6(e,a[0],a[1]);return X6(function(){o.hasValue=!0,o.value=l},[l]),eq(l),l};cC.exports=uC;var tq=cC.exports,_x=x.createContext(null),rq=e=>e,Ot=()=>{var e=x.useContext(_x);return e?e.store.dispatch:rq},cd=()=>{},nq=()=>cd,iq=(e,t)=>e===t;function Te(e){var t=x.useContext(_x);return tq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:nq,t?t.store.getState:cd,t?t.store.getState:cd,t?e:cd,iq)}function aq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function sq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function oq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var $w=e=>Array.isArray(e)?e:[e];function lq(e){const t=Array.isArray(e[0])?e[0]:e;return oq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function cq(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var uq=class{constructor(e){this.value=e}deref(){return this.value}},dq=typeof WeakRef<"u"?WeakRef:uq,pq=0,Vw=1;function ju(){return{s:pq,v:void 0,o:null,p:null}}function mC(e,t={}){let r=ju();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var p;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let f=l.o;f===null&&(l.o=f=new WeakMap);const g=f.get(y);g===void 0?(l=ju(),f.set(y,l)):l=g}else{let f=l.p;f===null&&(l.p=f=new Map);const g=f.get(y);g===void 0?(l=ju(),f.set(y,l)):l=g}}const u=l;let d;if(l.s===Vw)d=l.v;else if(d=e.apply(null,arguments),a++,n){const h=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new dq(d):d}return u.s=Vw,u.v=d,d}return o.clearCache=()=>{r=ju(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function mq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),aq(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:p,memoizeOptions:h=[],argsMemoize:m=mC,argsMemoizeOptions:y=[]}=d,f=$w(h),g=$w(y),v=lq(i),b=p(function(){return a++,u.apply(null,arguments)},...f),_=m(function(){o++;const w=cq(v,arguments);return l=b.apply(null,w),l},...g);return Object.assign(_,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var ue=mq(mC),hq=Object.assign((e,t=ue)=>{sq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>hq}),hC={},fC={},gC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),l=t(i);if(o===l&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=r})(gC);var vC={},wx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(wx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(vC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gC,r=vC,n=mm;function i(a,o,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,y)=>{let f=m;for(let g=0;g<y.length&&f!=null;++g)f=f[y[g]];return f},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,p=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:p.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let f=0;f<p.length;f++){const g=t.compareValues(m.criteria[f],y.criteria[f],l[f]);if(g!==0)return g}return 0}).map(m=>m.original)}e.orderBy=i})(fC);var yC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<a?o(d,c+1):i.push(d)}};return o(r,0),i}e.flatten=t})(yC);var Sx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bx,r=fm,n=hx,i=gx;function a(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}e.isIterateeCall=a})(Sx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fC,r=yC,n=Sx;function i(a,...o){const l=o.length;return l>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(hC);var fq=hC.sortBy;const vm=fi(fq);var xC=e=>e.legend.settings,gq=e=>e.legend.size,vq=e=>e.legend.payload,yq=ue([vq,xC],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?vm(n,r):n});function xq(){return Te(yq)}var Au=1;function bC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Au||Math.abs(o.left-t.left)>Au||Math.abs(o.top-t.top)>Au||Math.abs(o.width-t.width)>Au)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Mt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bq=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ww=bq,tf=()=>Math.random().toString(36).substring(7).split("").join("."),_q={INIT:`@@redux/INIT${tf()}`,REPLACE:`@@redux/REPLACE${tf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tf()}`},tp=_q;function Nx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _C(e,t,r){if(typeof e!="function")throw new Error(Mt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Mt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Mt(1));return r(_C)(e,t)}let n=e,i=t,a=new Map,o=a,l=0,c=!1;function u(){o===a&&(o=new Map,a.forEach((g,v)=>{o.set(v,g)}))}function d(){if(c)throw new Error(Mt(3));return i}function p(g){if(typeof g!="function")throw new Error(Mt(4));if(c)throw new Error(Mt(5));let v=!0;u();const b=l++;return o.set(b,g),function(){if(v){if(c)throw new Error(Mt(6));v=!1,u(),o.delete(b),a=null}}}function h(g){if(!Nx(g))throw new Error(Mt(7));if(typeof g.type>"u")throw new Error(Mt(8));if(typeof g.type!="string")throw new Error(Mt(17));if(c)throw new Error(Mt(9));try{c=!0,i=n(i,g)}finally{c=!1}return(a=o).forEach(b=>{b()}),g}function m(g){if(typeof g!="function")throw new Error(Mt(10));n=g,h({type:tp.REPLACE})}function y(){const g=p;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Mt(11));function b(){const S=v;S.next&&S.next(d())}return b(),{unsubscribe:g(b)}},[Ww](){return this}}}return h({type:tp.INIT}),{dispatch:h,subscribe:p,getState:d,replaceReducer:m,[Ww]:y}}function wq(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:tp.INIT})>"u")throw new Error(Mt(12));if(typeof r(void 0,{type:tp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mt(13))})}function wC(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{wq(r)}catch(a){i=a}return function(o={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const p=n[d],h=r[p],m=o[p],y=h(m,l);if(typeof y>"u")throw l&&l.type,new Error(Mt(14));u[p]=y,c=c||y!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function rp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Sq(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Mt(15))};const o={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},l=e.map(c=>c(o));return a=rp(...l)(i.dispatch),{...i,dispatch:a}}}function SC(e){return Nx(e)&&"type"in e&&typeof e.type=="string"}var NC=Symbol.for("immer-nothing"),Kw=Symbol.for("immer-draftable"),Ir=Symbol.for("immer-state");function yn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ec=Object.getPrototypeOf;function Ka(e){return!!e&&!!e[Ir]}function di(e){var t;return e?kC(e)||Array.isArray(e)||!!e[Kw]||!!((t=e.constructor)!=null&&t[Kw])||Sc(e)||xm(e):!1}var Nq=Object.prototype.constructor.toString(),Hw=new WeakMap;function kC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Hw.get(r);return n===void 0&&(n=Function.toString.call(r),Hw.set(r,n)),n===Nq}function np(e,t,r=!0){ym(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function ym(e){const t=e[Ir];return t?t.type_:Array.isArray(e)?1:Sc(e)?2:xm(e)?3:0}function Zg(e,t){return ym(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jC(e,t,r){const n=ym(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function kq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Sc(e){return e instanceof Map}function xm(e){return e instanceof Set}function ya(e){return e.copy_||e.base_}function Qg(e,t){if(Sc(e))return new Map(e);if(xm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=kC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ir];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(ec(e),n)}else{const n=ec(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function kx(e,t=!1){return bm(e)||Ka(e)||!di(e)||(ym(e)>1&&Object.defineProperties(e,{set:Cu,add:Cu,clear:Cu,delete:Cu}),Object.freeze(e),t&&Object.values(e).forEach(r=>kx(r,!0))),e}function jq(){yn(2)}var Cu={value:jq};function bm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Aq={};function Ha(e){const t=Aq[e];return t||yn(0,e),t}var tc;function AC(){return tc}function Cq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Gw(e,t){t&&(Ha("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Yg(e){Xg(e),e.drafts_.forEach(Pq),e.drafts_=null}function Xg(e){e===tc&&(tc=e.parent_)}function Zw(e){return tc=Cq(tc,e)}function Pq(e){const t=e[Ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Qw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ir].modified_&&(Yg(t),yn(4)),di(e)&&(e=ip(t,e),t.parent_||ap(t,e)),t.patches_&&Ha("Patches").generateReplacementPatches_(r[Ir].base_,e,t.patches_,t.inversePatches_)):e=ip(t,r,[]),Yg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NC?e:void 0}function ip(e,t,r){if(bm(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Ir];if(!i)return np(t,(a,o)=>Yw(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return ap(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),np(o,(c,u)=>Yw(e,i,a,c,u,r,l),n),ap(e,a,!1),r&&e.patches_&&Ha("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function Yw(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=bm(i);if(!(l&&!o)){if(Ka(i)){const c=a&&t&&t.type_!==3&&!Zg(t.assigned_,n)?a.concat(n):void 0,u=ip(e,i,c);if(jC(r,n,u),Ka(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(di(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&l)return;ip(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Sc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ap(e,i)}}}function ap(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kx(t,r)}function Eq(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:AC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=jx;r&&(i=[n],a=rc);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,l}var jx={get(e,t){if(t===Ir)return e;const r=ya(e);if(!Zg(r,t))return Tq(e,r,t);const n=r[t];return e.finalized_||!di(n)?n:n===rf(e.base_,t)?(nf(e),e.copy_[t]=ev(n,e)):n},has(e,t){return t in ya(e)},ownKeys(e){return Reflect.ownKeys(ya(e))},set(e,t,r){const n=CC(ya(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=rf(ya(e),t),a=i==null?void 0:i[Ir];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(kq(r,i)&&(r!==void 0||Zg(e.base_,t)))return!0;nf(e),Jg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return rf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,nf(e),Jg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ya(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){yn(11)},getPrototypeOf(e){return ec(e.base_)},setPrototypeOf(){yn(12)}},rc={};np(jx,(e,t)=>{rc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});rc.deleteProperty=function(e,t){return rc.set.call(this,e,t,void 0)};rc.set=function(e,t,r){return jx.set.call(this,e[0],t,r,e[0])};function rf(e,t){const r=e[Ir];return(r?ya(r):e)[t]}function Tq(e,t,r){var i;const n=CC(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function CC(e,t){if(!(t in e))return;let r=ec(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ec(r)}}function Jg(e){e.modified_||(e.modified_=!0,e.parent_&&Jg(e.parent_))}function nf(e){e.copy_||(e.copy_=Qg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(c=a,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&yn(6),n!==void 0&&typeof n!="function"&&yn(7);let i;if(di(t)){const a=Zw(this),o=ev(t,void 0);let l=!0;try{i=r(o),l=!1}finally{l?Yg(a):Xg(a)}return Gw(a,n),Qw(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===NC&&(i=void 0),this.autoFreeze_&&kx(i,!0),n){const a=[],o=[];Ha("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else yn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,i;return[this.produce(t,r,(o,l)=>{n=o,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){di(e)||yn(8),Ka(e)&&(e=ii(e));const t=Zw(this),r=ev(e,void 0);return r[Ir].isManual_=!0,Xg(t),r}finishDraft(e,t){const r=e&&e[Ir];(!r||!r.isManual_)&&yn(9);const{scope_:n}=r;return Gw(n,t),Qw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Ha("Patches").applyPatches_;return Ka(e)?n(e,t):this.produce(e,i=>n(i,t))}};function ev(e,t){const r=Sc(e)?Ha("MapSet").proxyMap_(e,t):xm(e)?Ha("MapSet").proxySet_(e,t):Eq(e,t);return(t?t.scope_:AC()).drafts_.push(r),r}function ii(e){return Ka(e)||yn(10,e),PC(e)}function PC(e){if(!di(e)||bm(e))return e;const t=e[Ir];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Qg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Qg(e,!0);return np(r,(i,a)=>{jC(r,i,PC(a))},n),t&&(t.finalized_=!1),r}var tv=new zq,EC=tv.produce,Oq=tv.setUseStrictIteration.bind(tv);function TC(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var Iq=TC(),Mq=TC,Fq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rp:rp.apply(null,arguments)};function nn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Tr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>SC(n)&&n.type===e,r}var zC=class ol extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ol.prototype)}static get[Symbol.species](){return ol}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ol(...t[0].concat(this)):new ol(...t.concat(this))}};function Xw(e){return di(e)?EC(e,()=>{}):e}function Pu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Rq(e){return typeof e=="boolean"}var Dq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new zC;return r&&(Rq(r)?o.push(Iq):o.push(Mq(r.extraArgument))),o},OC="RTK_autoBatch",nr=()=>e=>({payload:e,meta:{[OC]:!0}}),Jw=e=>t=>{setTimeout(t,e)},IC=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Jw(10):e.type==="callback"?e.queueNotification:Jw(e.timeout),u=()=>{o=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const p=()=>i&&d(),h=n.subscribe(p);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var p;try{return i=!((p=d==null?void 0:d.meta)!=null&&p[OC]),a=!i,a&&(o||(o=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},Lq=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new zC(e);return n&&i.push(IC(typeof n=="object"?n:void 0)),i};function Bq(e){const t=Dq(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Nx(r))l=wC(r);else throw new Error(Tr(1));let c;typeof n=="function"?c=n(t):c=t();let u=rp;i&&(u=Fq({trace:!1,...typeof i=="object"&&i}));const d=Sq(...c),p=Lq(d);let h=typeof o=="function"?o(p):p();const m=u(...h);return _C(l,a,m)}function MC(e){const t={},r=[];let n;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Tr(28));if(l in t)throw new Error(Tr(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}Oq(!1);function qq(e){return typeof e=="function"}function Uq(e,t){let[r,n,i]=MC(t),a;if(qq(e))a=()=>Xw(e());else{const l=Xw(e);a=()=>l}function o(l=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,p)=>{if(p)if(Ka(d)){const m=p(d,c);return m===void 0?d:m}else{if(di(d))return EC(d,h=>p(h,c));{const h=p(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=a,o}var $q="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vq=(e=21)=>{let t="",r=e;for(;r--;)t+=$q[Math.random()*64|0];return t},Wq=Symbol.for("rtk-slice-createasyncthunk");function Kq(e,t){return`${e}/${t}`}function Hq({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Wq];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Tr(11));const l=(typeof i.reducers=="function"?i.reducers(Zq()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,w){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(Tr(12));if(N in u.sliceCaseReducersByType)throw new Error(Tr(13));return u.sliceCaseReducersByType[N]=w,d},addMatcher(S,w){return u.sliceMatchers.push({matcher:S,reducer:w}),d},exposeAction(S,w){return u.actionCreators[S]=w,d},exposeCaseReducer(S,w){return u.sliceCaseReducersByName[S]=w,d}};c.forEach(S=>{const w=l[S],N={reducerName:S,type:Kq(a,S),createNotation:typeof i.reducers=="function"};Yq(w)?Jq(N,w,d,t):Qq(N,w,d)});function p(){const[S={},w=[],N=void 0]=typeof i.extraReducers=="function"?MC(i.extraReducers):[i.extraReducers],j={...S,...u.sliceCaseReducersByType};return Uq(i.initialState,O=>{for(let E in j)O.addCase(E,j[E]);for(let E of u.sliceMatchers)O.addMatcher(E.matcher,E.reducer);for(let E of w)O.addMatcher(E.matcher,E.reducer);N&&O.addDefaultCase(N)})}const h=S=>S,m=new Map,y=new WeakMap;let f;function g(S,w){return f||(f=p()),f(S,w)}function v(){return f||(f=p()),f.getInitialState()}function b(S,w=!1){function N(O){let E=O[S];return typeof E>"u"&&w&&(E=Pu(y,N,v)),E}function j(O=h){const E=Pu(m,w,()=>new WeakMap);return Pu(E,O,()=>{const P={};for(const[M,T]of Object.entries(i.selectors??{}))P[M]=Gq(T,O,()=>Pu(y,O,v),w);return P})}return{reducerPath:S,getSelectors:j,get selectors(){return j(N)},selectSlice:N}}const _={name:a,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(S,{reducerPath:w,...N}={}){const j=w??o;return S.inject({reducerPath:j,reducer:g},N),{..._,...b(j,!0)}}};return _}}function Gq(e,t,r,n){function i(a,...o){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return i.unwrapped=e,i}var Lr=Hq();function Zq(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Qq({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!Xq(n))throw new Error(Tr(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?nn(e,o):nn(e))}function Yq(e){return e._reducerDefinitionType==="asyncThunk"}function Xq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Jq({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Tr(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,p=i(e,a,d);n.exposeAction(t,p),o&&n.addCase(p.fulfilled,o),l&&n.addCase(p.pending,l),c&&n.addCase(p.rejected,c),u&&n.addMatcher(p.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Eu,pending:l||Eu,rejected:c||Eu,settled:u||Eu})}function Eu(){}var eU="task",FC="listener",RC="completed",Ax="cancelled",tU=`task-${Ax}`,rU=`task-${RC}`,rv=`${FC}-${Ax}`,nU=`${FC}-${RC}`,_m=class{constructor(e){rh(this,"name","TaskAbortError");rh(this,"message");this.code=e,this.message=`${eU} ${Ax} (reason: ${e})`}},Cx=(e,t)=>{if(typeof e!="function")throw new TypeError(Tr(32))},sp=()=>{},DC=(e,t=sp)=>(e.catch(t),e),LC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ia=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ma=e=>{if(e.aborted){const{reason:t}=e;throw new _m(t)}};function BC(e,t){let r=sp;return new Promise((n,i)=>{const a=()=>i(new _m(e.reason));if(e.aborted){a();return}r=LC(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=sp})}var iU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof _m?"cancelled":"rejected",error:r}}finally{t==null||t()}},op=e=>t=>DC(BC(e,t).then(r=>(Ma(e),r))),qC=e=>{const t=op(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Us}=Object,eS={},wm="listenerMiddleware",aU=(e,t)=>{const r=n=>LC(e,()=>Ia(n,e.reason));return(n,i)=>{Cx(n);const a=new AbortController;r(a);const o=iU(async()=>{Ma(e),Ma(a.signal);const l=await n({pause:op(a.signal),delay:qC(a.signal),signal:a.signal});return Ma(a.signal),l},()=>Ia(a,rU));return i!=null&&i.autoJoin&&t.push(o.catch(sp)),{result:op(e)(o),cancel(){Ia(a,tU)}}}},sU=(e,t)=>{const r=async(n,i)=>{Ma(t);let a=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(p,h)=>{h.unsubscribe(),c([p,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await BC(t,Promise.race(l));return Ma(t),c}finally{a()}};return(n,i)=>DC(r(n,i))},UC=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=nn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Tr(21));return Cx(a),{predicate:i,type:t,effect:a}},$C=Us(e=>{const{type:t,predicate:r,effect:n}=UC(e);return{id:Vq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Tr(22))}}},{withTypes:()=>$C}),tS=(e,t)=>{const{type:r,effect:n,predicate:i}=UC(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},nv=e=>{e.pending.forEach(t=>{Ia(t,rv)})},oU=(e,t)=>()=>{for(const r of t.keys())nv(r);e.clear()},rS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},VC=Us(nn(`${wm}/add`),{withTypes:()=>VC}),lU=nn(`${wm}/removeAll`),WC=Us(nn(`${wm}/remove`),{withTypes:()=>WC}),cU=(...e)=>{console.error(`${wm}/error`,...e)},Nc=(e={})=>{const t=new Map,r=new Map,n=m=>{const y=r.get(m)??0;r.set(m,y+1)},i=m=>{const y=r.get(m)??1;y===1?r.delete(m):r.set(m,y-1)},{extra:a,onError:o=cU}=e;Cx(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),y=>{m.unsubscribe(),y!=null&&y.cancelActive&&nv(m)}),c=m=>{const y=tS(t,m)??$C(m);return l(y)};Us(c,{withTypes:()=>c});const u=m=>{const y=tS(t,m);return y&&(y.unsubscribe(),m.cancelActive&&nv(y)),!!y};Us(u,{withTypes:()=>u});const d=async(m,y,f,g)=>{const v=new AbortController,b=sU(c,v.signal),_=[];try{m.pending.add(v),n(m),await Promise.resolve(m.effect(y,Us({},f,{getOriginalState:g,condition:(S,w)=>b(S,w).then(Boolean),take:b,delay:qC(v.signal),pause:op(v.signal),extra:a,signal:v.signal,fork:aU(v.signal,_),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,w,N)=>{S!==v&&(Ia(S,rv),N.delete(S))})},cancel:()=>{Ia(v,rv),m.pending.delete(v)},throwIfCancelled:()=>{Ma(v.signal)}})))}catch(S){S instanceof _m||rS(o,S,{raisedBy:"effect"})}finally{await Promise.all(_),Ia(v,nU),i(m),m.pending.delete(v)}},p=oU(t,r);return{middleware:m=>y=>f=>{if(!SC(f))return y(f);if(VC.match(f))return c(f.payload);if(lU.match(f)){p();return}if(WC.match(f))return u(f.payload);let g=m.getState();const v=()=>{if(g===eS)throw new Error(Tr(23));return g};let b;try{if(b=y(f),t.size>0){const _=m.getState(),S=Array.from(t.values());for(const w of S){let N=!1;try{N=w.predicate(f,_,g)}catch(j){N=!1,rS(o,j,{raisedBy:"predicate"})}N&&d(w,f,m,v)}}}finally{g=eS}return b},startListening:c,stopListening:u,clearListeners:p}};function Tr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KC=Lr({name:"chartLayout",initialState:uU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:dU,setLayout:pU,setChartSize:mU,setScale:hU}=KC.actions,fU=KC.reducer;function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){gU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=yU(e,"string");return typeof t=="symbol"?t:t+""}function yU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lp=Math.PI/180,xU=e=>e*180/Math.PI,Dt=(e,t,r,n)=>({x:e+Math.cos(-lp*n)*r,y:t+Math.sin(-lp*n)*r}),bU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_U=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},wU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=_U({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(r-i)/o,c=Math.acos(l);return n>a&&(c=2*Math.PI-c),{radius:o,angle:xU(c),angleInRadian:c}},SU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},NU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},kU=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=wU({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:u}=SU(t),d=a,p;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=c}return p?iS(iS({},t),{},{radius:i,angle:NU(d,t)}):null};function HC(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return(t=AU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=CU(e,"string");return typeof t=="symbol"?t:t+""}function CU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sr(e,t,r){return zt(e)||zt(t)?r:$n(t)?hm(e,t,r):typeof t=="function"?t(e):r}var PU=(e,t,r,n,i)=>{var a,o=-1,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,p=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Yr(d-u)!==Yr(p-d)){var m=[];if(Yr(p-d)===Yr(i[1]-i[0])){h=p;var y=d+i[1]-i[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{h=u;var f=p+i[1]-i[0];m[0]=Math.min(d,(f+d)/2),m[1]=Math.max(d,(f+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){({index:o}=r[c]);break}}else{var v=Math.min(u,p),b=Math.max(u,p);if(e>(v+d)/2&&e<=(b+d)/2){({index:o}=r[c]);break}}}else if(t){for(var _=0;_<l;_++)if(_===0&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<l-1&&e>(t[_].coordinate+t[_-1].coordinate)/2&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_===l-1&&e>(t[_].coordinate+t[_-1].coordinate)/2){({index:o}=t[_]);break}}return o},EU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&ze(e[a]))return Zr(Zr({},e),{},{[a]:e[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&ze(e[o]))return Zr(Zr({},e),{},{[o]:e[o]+(i||0)})}return e},oa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",GC=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(r),o},ZC=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:p,niceTicks:h,axisType:m}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,f=i==="category"&&o.bandwidth?o.bandwidth()/y:0;if(f=m==="angleAxis"&&a&&a.length>=2?Yr(a[0]-a[1])*2*f:f,p||h){var g=(p||h||[]).map((v,b)=>{var _=n?n.indexOf(v):v;return{coordinate:o(_)+f,value:v,offset:f,index:b}});return g.filter(v=>!Sn(v.coordinate))}return c&&u?u.map((v,b)=>({coordinate:o(v)+f,value:v,index:b,offset:f})):o.ticks&&d!=null?o.ticks(d).map((v,b)=>({coordinate:o(v)+f,value:v,offset:f,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+f,value:n?n[v]:v,index:b,offset:f}))},sS=1e-4,TU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-sS,a=Math.max(n[0],n[1])+sS,o=e(t[0]),l=e(t[r-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[r-1]])}},zU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var l=Sn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},OU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=Sn(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},IU={sign:zU,expand:v6,none:to,silhouette:y6,wiggle:x6,positive:OU},MU=(e,t,r)=>{var n=IU[r],i=g6().keys(t).value((a,o)=>+sr(a,o,0)).order(Kg).offset(n);return i(e)};function oS(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zt(i[t.dataKey])){var l=q2(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=sr(i,zt(o)?t.dataKey:o);return zt(c)?null:t.scale(c)}var FU=e=>{var t=e.flat(2).filter(ze);return[Math.min(...t),Math.max(...t)]},RU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],DU=(e,t,r)=>{if(e!=null)return RU(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((c,u)=>{var d=HC(u,t,r),p=FU(d);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},lS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iv=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=vm(t,d=>d.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function uS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Zr(Zr({},t),{},{dataKey:r,payload:n,value:i,name:a})}function QC(e,t){if(e)return String(e);if(typeof t=="string")return t}function LU(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?kU({x:e,y:t},n):null}var BU=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return Zr(Zr(Zr({},n),Dt(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:c}=n;return Zr(Zr(Zr({},n),Dt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},qU=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,vi=e=>e.layout.width,yi=e=>e.layout.height,UU=e=>e.layout.scale,YC=e=>e.layout.margin,Sm=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Nm=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),$U="data-recharts-item-index",VU="data-recharts-item-data-key",kc=60;function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){WU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WU(e,t,r){return(t=KU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KU(e){var t=HU(e,"string");return typeof t=="symbol"?t:t+""}function HU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GU=e=>e.brush.height;function ZU(e){var t=Nm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:kc;return r+i}return r},0)}function QU(e){var t=Nm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:kc;return r+i}return r},0)}function YU(e){var t=Sm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function XU(e){var t=Sm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ut=ue([vi,yi,YC,GU,ZU,QU,YU,XU,xC,gq],(e,t,r,n,i,a,o,l,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=Tu(Tu({},p),d),m=h.bottom;h.bottom+=n,h=EU(h,c,u);var y=e-h.left-h.right,f=t-h.top-h.bottom;return Tu(Tu({brushBottom:m},h),{},{width:Math.max(y,0),height:Math.max(f,0)})}),JU=ue(Ut,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),XC=ue(vi,yi,(e,t)=>({x:0,y:0,width:e,height:t})),e$=x.createContext(null),Br=()=>x.useContext(e$)!=null,km=e=>e.brush,jm=ue([km,Ut,YC],(e,t,r)=>({height:e.height,x:ze(e.x)?e.x:t.left,y:ze(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ze(e.width)?e.width:t.width})),JC={},eP={},tP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,l=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},p=()=>{u&&d(),f()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,p()},n)},y=()=>{h!==null&&(clearTimeout(h),h=null)},f=()=>{y(),o=void 0,l=null},g=()=>{d()},v=function(...b){if(i!=null&&i.aborted)return;o=this,l=b;const _=h==null;m(),c&&_&&d()};return v.schedule=m,v.cancel=f,v.flush=g,i==null||i.addEventListener("abort",f,{once:!0}),v}e.debounce=t})(tP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tP;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:c}=a,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,p=null;const h=t.debounce(function(...f){d=n.apply(this,f),p=null},i,{edges:u}),m=function(...f){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(d=n.apply(this,f),p=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,f),d)},y=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=y,m}e.debounce=r})(eP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eP;function r(n,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:l})}e.throttle=r})(JC);var t$=JC.throttle;const r$=fi(t$);var cp=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},rP=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,l=ui(n)?e:Number(n),c=ui(i)?t:Number(i);return a&&a>0&&(l?c=l/a:c&&(l=c*a),o&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},n$={width:0,height:0,overflow:"visible"},i$={width:0,overflowX:"visible"},a$={height:0,overflowY:"visible"},s$={},o$=e=>{var{width:t,height:r}=e,n=ui(t),i=ui(r);return n&&i?n$:n?i$:i?a$:s$};function l$(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function xr(e){return Number.isFinite(e)}function no(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(null,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){c$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c$(e,t,r){return(t=u$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u$(e){var t=d$(e,"string");return typeof t=="symbol"?t:t+""}function d$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nP=x.createContext({width:-1,height:-1});function iP(e){var{children:t,width:r,height:n}=e,i=x.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:x.createElement(nP.Provider,{value:i},t)}var Px=()=>x.useContext(nP),p$=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:p,className:h,onResize:m,style:y={}}=e,f=x.useRef(null),g=x.useRef();g.current=m,x.useImperativeHandle(t,()=>f.current);var[v,b]=x.useState({containerWidth:n.width,containerHeight:n.height}),_=x.useCallback((O,E)=>{b(P=>{var M=Math.round(O),T=Math.round(E);return P.containerWidth===M&&P.containerHeight===T?P:{containerWidth:M,containerHeight:T}})},[]);x.useEffect(()=>{var O=T=>{var $,{width:C,height:U}=T[0].contentRect;_(C,U),($=g.current)===null||$===void 0||$.call(g,C,U)};d>0&&(O=r$(O,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(O),{width:P,height:M}=f.current.getBoundingClientRect();return _(P,M),E.observe(f.current),()=>{E.disconnect()}},[_,d]);var{containerWidth:S,containerHeight:w}=v;cp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:j}=rP(S,w,{width:i,height:a,aspect:r,maxHeight:c});return cp(N>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,j,i,a,o,l,r),x.createElement("div",{id:p?"".concat(p):void 0,className:Ke("recharts-responsive-container",h),style:mS(mS({},y),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:c}),ref:f},x.createElement("div",{style:o$({width:i,height:a})},x.createElement(iP,{width:N,height:j},u)))}),m$=x.forwardRef((e,t)=>{var r=Px();if(no(r.width)&&no(r.height))return e.children;var{width:n,height:i}=l$({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=rP(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ze(a)&&ze(o)?x.createElement(iP,{width:a,height:o},e.children):x.createElement(p$,av({},e,{width:n,height:i,ref:t}))}),Am=()=>{var e,t=Br(),r=Te(JU),n=Te(jm),i=(e=Te(km))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},h$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aP=()=>{var e;return(e=Te(Ut))!==null&&e!==void 0?e:h$},Ex=()=>Te(vi),Tx=()=>Te(yi),f$=()=>Te(e=>e.layout.margin),rt=e=>e.layout.layoutType,zx=()=>Te(rt),Cm=e=>{var t=Ot(),r=Br(),{width:n,height:i}=e,a=Px(),o=n,l=i;return a&&(o=a.width>0?a.width:n,l=a.height>0?a.height:i),x.useEffect(()=>{!r&&no(o)&&no(l)&&t(mU({width:o,height:l}))},[t,r,o,l]),null},g$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},sP=Lr({name:"legend",initialState:g$,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:nr()},removeLegendPayload:{reducer(e,t){var r=ii(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:nr()}}}),{setLegendSize:hS,setLegendSettings:v$,addLegendPayload:y$,removeLegendPayload:x$}=sP.actions,b$=sP.reducer,_$=["contextPayload"];function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sv.apply(null,arguments)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){Ox(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ox(e,t,r){return(t=w$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e){var t=S$(e,"string");return typeof t=="symbol"?t:t+""}function S$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N$(e,t){if(e==null)return{};var r,n,i=k$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j$(e){return e.value}function A$(e){var{contextPayload:t}=e,r=N$(e,_$),n=lC(t,e.payloadUniqBy,j$),i=io(io({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(dx,i)}function C$(e,t,r,n,i,a){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-a.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),io(io({},u),d)}function P$(e){var t=Ot();return x.useEffect(()=>{t(v$(e))},[t,e]),null}function E$(e){var t=Ot();return x.useEffect(()=>(t(hS(e)),()=>{t(hS({width:0,height:0}))}),[t,e]),null}function T$(e){var t=xq(),r=BB(),n=f$(),{width:i,height:a,wrapperStyle:o,portal:l}=e,[c,u]=bC([t]),d=Ex(),p=Tx();if(d==null||p==null)return null;var h=d-(n.left||0)-(n.right||0),m=Pm.getWidthOrHeight(e.layout,a,i,h),y=l?o:io(io({position:"absolute",width:(m==null?void 0:m.width)||i||"auto",height:(m==null?void 0:m.height)||a||"auto"},C$(o,e,n,d,p,c)),o),f=l??r;if(f==null)return null;var g=x.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},x.createElement(P$,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(E$,{width:c.width,height:c.height}),x.createElement(A$,sv({},e,m,{margin:n,chartWidth:d,chartHeight:p,contextPayload:t})));return Py.createPortal(g,f)}class Pm extends x.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&ze(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return x.createElement(T$,this.props)}}Ox(Pm,"displayName","Legend");Ox(Pm,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(null,arguments)}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){z$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$(e,t,r){return(t=O$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O$(e){var t=I$(e,"string");return typeof t=="symbol"?t:t+""}function I$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M$(e){return Array.isArray(e)&&$n(e[0])&&$n(e[1])?e.join(" ~ "):e}var F$=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:p,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var w={padding:0,margin:0},N=(l?vm(a,l):a).map((j,O)=>{if(j.type==="none")return null;var E=j.formatter||o||M$,{value:P,name:M}=j,T=P,$=M;if(E){var C=E(P,M,j,O,a);if(Array.isArray(C))[T,$]=C;else if(C!=null)T=C;else return null}var U=af({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:U},$n($)?x.createElement("span",{className:"recharts-tooltip-item-name"},$):null,$n($)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},T),x.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:w},N)}return null},y=af({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),f=af({margin:0},i),g=!zt(d),v=g?d:"",b=Ke("recharts-default-tooltip",c),_=Ke("recharts-tooltip-label",u);g&&p&&a!==void 0&&a!==null&&(v=p(d,a));var S=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",ov({className:b,style:y},S),x.createElement("p",{className:_,style:f},x.isValidElement(v)?v:"".concat(v)),m())},Ho="recharts-tooltip-wrapper",R$={visibility:"hidden"};function D$(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ke(Ho,{["".concat(Ho,"-right")]:ze(r)&&t&&ze(t.x)&&r>=t.x,["".concat(Ho,"-left")]:ze(r)&&t&&ze(t.x)&&r<t.x,["".concat(Ho,"-bottom")]:ze(n)&&t&&ze(t.y)&&n>=t.y,["".concat(Ho,"-top")]:ze(n)&&t&&ze(t.y)&&n<t.y})}function vS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(a&&ze(a[n]))return a[n];var d=r[n]-l-(i>0?i:0),p=r[n]+i;if(t[n])return o[n]?d:p;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,y=h;return m<y?Math.max(p,h):Math.max(d,h)}if(u==null)return 0;var f=p+l,g=h+u;return f>g?Math.max(d,h):Math.max(p,h)}function L$(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function B$(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,p;return o.height>0&&o.width>0&&r?(d=vS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=vS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=L$({translateX:d,translateY:p,useTranslate3d:l})):u=R$,{cssProperties:u,cssClasses:D$({translateX:d,translateY:p,coordinate:r})}}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){lv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lv(e,t,r){return(t=q$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q$(e){var t=U$(e,"string");return typeof t=="symbol"?t:t+""}function U$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $$ extends x.PureComponent{constructor(){super(...arguments),lv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:p,useTranslate3d:h,viewBox:m,wrapperStyle:y,lastBoundingBox:f,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:_}=B$({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:p,tooltipBox:{height:f.height,width:f.width},useTranslate3d:h,viewBox:m}),S=v?{}:zu(zu({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),w=zu(zu({},S),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:w,ref:g},a)}}var V$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_o={devToolsEnabled:!1,isSsr:V$()},oP=()=>Te(e=>e.rootProps.accessibilityLayer);function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(null,arguments)}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){W$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W$(e,t,r){return(t=K$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K$(e){var t=H$(e,"string");return typeof t=="symbol"?t:t+""}function H$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _S={curveBasisClosed:a6,curveBasisOpen:s6,curveBasis:i6,curveBumpX:VB,curveBumpY:WB,curveLinearClosed:o6,curveLinear:cm,curveMonotoneX:l6,curveMonotoneY:c6,curveNatural:u6,curveStep:d6,curveStepAfter:m6,curveStepBefore:p6},Ou=e=>xr(e.x)&&xr(e.y),Go=e=>e.x,Zo=e=>e.y,G$=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(wc(e));return(r==="curveMonotone"||r==="curveBump")&&t?_S["".concat(r).concat(t==="vertical"?"Y":"X")]:_S[r]||cm},Z$=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=G$(t,i),l=a?r.filter(Ou):r,c;if(Array.isArray(n)){var u=a?n.filter(p=>Ou(p)):n,d=l.map((p,h)=>bS(bS({},p),{},{base:u[h]}));return i==="vertical"?c=ku().y(Zo).x1(Go).x0(p=>p.base.x):c=ku().x(Go).y1(Zo).y0(p=>p.base.y),c.defined(Ou).curve(o),c(d)}return i==="vertical"&&ze(n)?c=ku().y(Zo).x1(Go).x0(n):ze(n)?c=ku().x(Go).y1(Zo).y0(n):c=A2().x(Go).y(Zo),c.defined(Ou).curve(o),c(l)},lP=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?Z$(e):n;return x.createElement("path",cv({},Un(e),cx(e),{className:Ke("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Q$=["x","y","top","left","width","height","className"];function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(null,arguments)}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){X$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X$(e,t,r){return(t=J$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J$(e){var t=e8(e,"string");return typeof t=="symbol"?t:t+""}function e8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t8(e,t){if(e==null)return{};var r,n,i=r8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var n8=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),i8=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:l}=e,c=t8(e,Q$),u=Y$({x:t,y:r,top:n,left:i,width:a,height:o},c);return!ze(t)||!ze(r)||!ze(a)||!ze(o)||!ze(n)||!ze(i)?null:x.createElement("path",uv({},Or(u),{className:Ke("recharts-cross",l),d:n8(t,r,a,o,n,i)}))};function a8(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function s8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){o8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o8(e,t,r){return(t=l8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sn(e,t){var r=s8({},e),n=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return a}function u8(){}function d8(e){return e!=null}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){p8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p8(e,t,r){return(t=m8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8(e){var t=h8(e,"string");return typeof t=="symbol"?t:t+""}function h8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),g8=(e,t,r)=>e.map(n=>"".concat(f8(n)," ").concat(t,"ms ").concat(r)).join(","),v8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),nc=(e,t)=>Object.keys(t).reduce((r,n)=>kS(kS({},r),{},{[n]:e(n,t[n])}),{});function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y8(e,t,r){return(t=x8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x8(e){var t=b8(e,"string");return typeof t=="symbol"?t:t+""}function b8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var up=(e,t,r)=>e+(t-e)*r,dv=e=>{var{from:t,to:r}=e;return t!==r},cP=(e,t,r)=>{var n=nc((i,a)=>{if(dv(a)){var[o,l]=e(a.from,a.to,a.velocity);return Rt(Rt({},a),{},{from:o,velocity:l})}return a},t);return r<1?nc((i,a)=>dv(a)?Rt(Rt({},a),{},{velocity:up(a.velocity,n[i].velocity,r),from:up(a.from,n[i].from,r)}):a,t):cP(e,n,r-1)};function _8(e,t,r,n,i,a){var o,l=n.reduce((h,m)=>Rt(Rt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>nc((h,m)=>m.from,l),u=()=>!Object.values(l).filter(dv).length,d=null,p=h=>{o||(o=h);var m=h-o,y=m/r.dt;l=cP(r,l,y),i(Rt(Rt(Rt({},e),t),c())),o=h,u()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{d()})}function w8(e,t,r,n,i,a,o){var l=null,c=i.reduce((p,h)=>Rt(Rt({},p),{},{[h]:[e[h],t[h]]}),{}),u,d=p=>{u||(u=p);var h=(p-u)/n,m=nc((f,g)=>up(...g,r(h)),c);if(a(Rt(Rt(Rt({},e),t),m)),h<1)l=o.setTimeout(d);else{var y=nc((f,g)=>up(...g,r(1)),c);a(Rt(Rt(Rt({},e),t),y))}};return()=>(l=o.setTimeout(d),()=>{l()})}const S8=(e,t,r,n,i,a)=>{var o=v8(e,t);return r.isStepper===!0?_8(e,t,r,o,i,a):w8(e,t,r,n,o,i,a)};var dp=1e-4,uP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],dP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),AS=(e,t)=>r=>{var n=uP(e,t);return dP(n,r)},N8=(e,t)=>r=>{var n=uP(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return dP(i,r)},CS=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else o.length===4&&([t,n,r,i]=o);var u=AS(t,r),d=AS(n,i),p=N8(t,r),h=y=>y>1?1:y<0?0:y,m=y=>{for(var f=y>1?1:y,g=f,v=0;v<8;++v){var b=u(g)-f,_=p(g);if(Math.abs(b-f)<dp||_<dp)return d(g);g=h(g-b/_)}return d(g)};return m.isStepper=!1,m},k8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,l,c)=>{var u=-(o-l)*r,d=c*n,p=c+(u-d)*i/1e3,h=c*i/1e3+o;return Math.abs(h-l)<dp&&Math.abs(p)<dp?[l,0]:[h,p]};return a.isStepper=!0,a.dt=i,a},j8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CS(e);case"spring":return k8();default:if(e.split("(")[0]==="cubic-bezier")return CS(e)}return typeof e=="function"?e:null};function A8(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class C8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function P8(){return A8(new C8)}var E8=x.createContext(P8);function T8(e,t){var r=x.useContext(E8);return x.useMemo(()=>t??r(e),[e,t,r])}var z8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},PS={t:0},sf={t:1};function pP(e){var t=sn(e,z8),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=T8(t.animationId,t.animationManager),[p,h]=x.useState(r?PS:sf),m=x.useRef(null);return x.useEffect(()=>{r||h(sf)},[r]),x.useEffect(()=>{if(!r||!n)return u8;var y=S8(PS,sf,j8(a),i,h,d.getTimeoutController()),f=()=>{m.current=y()};return d.start([c,o,f,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,a,o,c,l,d]),u(p.t)}function mP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Jl(t)),n=x.useRef(e);return n.current!==e&&(r.current=Jl(t),n.current=e),r.current}var O8=["radius"],I8=["radius"];function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){M8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8(e,t,r){return(t=F8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(null,arguments)}function zS(e,t){if(e==null)return{};var r,n,i=D8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function D8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OS=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,h=4;p<h;p++)d[p]=i[p]>a?a:i[p];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},L8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B8=e=>{var t=sn(e,L8),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var F=r.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:a,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:p,animationDuration:h,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:f}=t,g=x.useRef(l),v=x.useRef(c),b=x.useRef(a),_=x.useRef(o),S=x.useMemo(()=>({x:a,y:o,width:l,height:c,radius:u}),[a,o,l,c,u]),w=mP(S,"rectangle-");if(a!==+a||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var N=Ke("recharts-rectangle",d);if(!f){var j=Or(t),{radius:O}=j,E=zS(j,O8);return x.createElement("path",pp({},E,{radius:typeof u=="number"?u:void 0,className:N,d:OS(a,o,l,c,u)}))}var P=g.current,M=v.current,T=b.current,$=_.current,C="0px ".concat(n===-1?1:n,"px"),U="".concat(n,"px 0px"),K=g8(["strokeDasharray"],h,typeof p=="string"?p:void 0);return x.createElement(pP,{animationId:w,key:w,canBegin:n>0,duration:h,easing:p,isActive:f,begin:m},F=>{var H=Qn(P,l,F),G=Qn(M,c,F),ie=Qn(T,a,F),J=Qn($,o,F);r.current&&(g.current=H,v.current=G,b.current=ie,_.current=J);var Y;y?F>0?Y={transition:K,strokeDasharray:U}:Y={strokeDasharray:C}:Y={strokeDasharray:U};var pe=Or(t),{radius:oe}=pe,se=zS(pe,I8);return x.createElement("path",pp({},se,{radius:typeof u=="number"?u:void 0,className:N,d:OS(ie,J,H,G,u),ref:r,style:TS(TS({},Y),t.style)}))})};function hP(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Dt(t,r,n,i),l=Dt(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}var q8=(e,t)=>{var r=Yr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Iu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/lp,p=c?i:i+a*d,h=Dt(t,r,u,p),m=Dt(t,r,n,p),y=c?i-a*d:i,f=Dt(t,r,u*Math.cos(d*lp),y);return{center:h,circleTangency:m,lineTangency:f,theta:d}},fP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,l=q8(a,o),c=a+l,u=Dt(t,r,i,a),d=Dt(t,r,i,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Dt(t,r,n,a),m=Dt(t,r,n,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},U8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Yr(u-c),{circleTangency:p,lineTangency:h,theta:m}=Iu({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:y,lineTangency:f,theta:g}=Iu({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),v=l?Math.abs(c-u):Math.abs(c-u)-m-g;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):fP({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
  `);if(n>0){var{circleTangency:_,lineTangency:S,theta:w}=Iu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:N,lineTangency:j,theta:O}=Iu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-w-O;if(E<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},$8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},V8=e=>{var t=sn(e,$8),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:p}=t;if(a<i||u===d)return null;var h=Ke("recharts-sector",p),m=a-i,y=ea(o,m,0,!0),f;return y>0&&Math.abs(u-d)<360?f=U8({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):f=fP({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),x.createElement("path",pv({},Or(t),{className:h,d:f}))};function W8(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:p}=t,h=Dt(l,c,u,p),m=Dt(l,c,d,p);n=h.x,i=h.y,a=m.x,o=m.y}else return hP(t);return[{x:n,y:i},{x:a,y:o}]}var gP={},vP={},yP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(yP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(vP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sx,r=vP;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=o;return c}e.range=n})(gP);var K8=gP.range;const xP=fi(K8);function Yi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ix(e){let t,r,n;e.length!==2?(t=Yi,r=(l,c)=>Yi(e(l),c),n=(l,c)=>e(l)-c):(t=e===Yi||e===H8?e:G8,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;r(l[p],c)<0?u=p+1:d=p}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;r(l[p],c)<=0?u=p+1:d=p}while(u<d)}return u}function o(l,c,u=0,d=l.length){const p=i(l,c,u,d-1);return p>u&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:o,right:a}}function G8(){return 0}function bP(e){return e===null?NaN:+e}function*Z8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Q8=Ix(Yi),jc=Q8.right;Ix(bP).center;class IS extends Map{constructor(t,r=J8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(MS(this,t))}has(t){return super.has(MS(this,t))}set(t,r){return super.set(Y8(this,t),r)}delete(t){return super.delete(X8(this,t))}}function MS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Y8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function X8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function J8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function e7(e=Yi){if(e===Yi)return _P;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function _P(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const t7=Math.sqrt(50),r7=Math.sqrt(10),n7=Math.sqrt(2);function mp(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=t7?10:a>=r7?5:a>=n7?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?mp(e,t,r*2):[l,c,u]}function mv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?mp(t,e,r):mp(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function hv(e,t,r){return t=+t,e=+e,r=+r,mp(e,t,r)[2]}function fv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?hv(t,e,r):hv(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function FS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function RS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?_P:e7(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),p=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*p*(c-p)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*p/c+h)),y=Math.min(n,Math.floor(t+(c-u)*p/c+h));wP(e,t,m,y,i)}const a=e[t];let o=r,l=n;for(Qo(e,r,t),i(e[n],a)>0&&Qo(e,r,n);o<l;){for(Qo(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?Qo(e,r,l):(++l,Qo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Qo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function i7(e,t,r){if(e=Float64Array.from(Z8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return RS(e);if(t>=1)return FS(e);var n,i=(n-1)*t,a=Math.floor(i),o=FS(wP(e,a).subarray(0,a+1)),l=RS(e.subarray(a+1));return o+(l-o)*(i-a)}}function a7(e,t,r=bP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function s7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function on(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const gv=Symbol("implicit");function Mx(){var e=new IS,t=[],r=[],n=gv;function i(a){let o=e.get(a);if(o===void 0){if(n!==gv)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new IS;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Mx(t,r).unknown(n)},on.apply(i,arguments),i}function Fx(){var e=Mx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function p(){var h=t().length,m=i<n,y=m?i:n,f=m?n:i;a=(f-y)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),y+=(f-y-a*(h-c))*d,o=a*(1-c),l&&(y=Math.round(y),o=Math.round(o));var g=s7(h).map(function(v){return y+a*v});return r(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),p()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,p()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),p()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),p()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,p()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),p()):d},e.copy=function(){return Fx(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},on.apply(p(),arguments)}function SP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return SP(t())},e}function o7(){return SP(Fx.apply(null,arguments).paddingInner(1))}function Rx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function NP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ac(){}var ic=.7,hp=1/ic,$s="\\s*([+-]?\\d+)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l7=/^#([0-9a-f]{3,8})$/,c7=new RegExp(`^rgb\\(${$s},${$s},${$s}\\)$`),u7=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),d7=new RegExp(`^rgba\\(${$s},${$s},${$s},${ac}\\)$`),p7=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${ac}\\)$`),m7=new RegExp(`^hsl\\(${ac},${Bn},${Bn}\\)$`),h7=new RegExp(`^hsla\\(${ac},${Bn},${Bn},${ac}\\)$`),DS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rx(Ac,sc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:LS,formatHex:LS,formatHex8:f7,formatHsl:g7,formatRgb:BS,toString:BS});function LS(){return this.rgb().formatHex()}function f7(){return this.rgb().formatHex8()}function g7(){return kP(this).formatHsl()}function BS(){return this.rgb().formatRgb()}function sc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=l7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?qS(t):r===3?new hr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=c7.exec(e))?new hr(t[1],t[2],t[3],1):(t=u7.exec(e))?new hr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=d7.exec(e))?Mu(t[1],t[2],t[3],t[4]):(t=p7.exec(e))?Mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=m7.exec(e))?VS(t[1],t[2]/100,t[3]/100,1):(t=h7.exec(e))?VS(t[1],t[2]/100,t[3]/100,t[4]):DS.hasOwnProperty(e)?qS(DS[e]):e==="transparent"?new hr(NaN,NaN,NaN,0):null}function qS(e){return new hr(e>>16&255,e>>8&255,e&255,1)}function Mu(e,t,r,n){return n<=0&&(e=t=r=NaN),new hr(e,t,r,n)}function v7(e){return e instanceof Ac||(e=sc(e)),e?(e=e.rgb(),new hr(e.r,e.g,e.b,e.opacity)):new hr}function vv(e,t,r,n){return arguments.length===1?v7(e):new hr(e,t,r,n??1)}function hr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Rx(hr,vv,NP(Ac,{brighter(e){return e=e==null?hp:Math.pow(hp,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ic:Math.pow(ic,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hr(Fa(this.r),Fa(this.g),Fa(this.b),fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:US,formatHex:US,formatHex8:y7,formatRgb:$S,toString:$S}));function US(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}`}function y7(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}${ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function $S(){const e=fp(this.opacity);return`${e===1?"rgb(":"rgba("}${Fa(this.r)}, ${Fa(this.g)}, ${Fa(this.b)}${e===1?")":`, ${e})`}`}function fp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ja(e){return e=Fa(e),(e<16?"0":"")+e.toString(16)}function VS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xn(e,t,r,n)}function kP(e){if(e instanceof xn)return new xn(e.h,e.s,e.l,e.opacity);if(e instanceof Ac||(e=sc(e)),!e)return new xn;if(e instanceof xn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new xn(o,l,c,e.opacity)}function x7(e,t,r,n){return arguments.length===1?kP(e):new xn(e,t,r,n??1)}function xn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Rx(xn,x7,NP(Ac,{brighter(e){return e=e==null?hp:Math.pow(hp,e),new xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ic:Math.pow(ic,e),new xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new hr(of(e>=240?e-240:e+120,i,n),of(e,i,n),of(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new xn(WS(this.h),Fu(this.s),Fu(this.l),fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fp(this.opacity);return`${e===1?"hsl(":"hsla("}${WS(this.h)}, ${Fu(this.s)*100}%, ${Fu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function WS(e){return e=(e||0)%360,e<0?e+360:e}function Fu(e){return Math.max(0,Math.min(1,e||0))}function of(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Dx=e=>()=>e;function b7(e,t){return function(r){return e+r*t}}function _7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function w7(e){return(e=+e)==1?jP:function(t,r){return r-t?_7(t,r,e):Dx(isNaN(t)?r:t)}}function jP(e,t){var r=t-e;return r?b7(e,r):Dx(isNaN(e)?t:e)}const KS=function e(t){var r=w7(t);function n(i,a){var o=r((i=vv(i)).r,(a=vv(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=jP(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function S7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function N7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function k7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=wo(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function j7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function gp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function A7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=wo(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var yv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lf=new RegExp(yv.source,"g");function C7(e){return function(){return e}}function P7(e){return function(t){return e(t)+""}}function E7(e,t){var r=yv.lastIndex=lf.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=yv.exec(e))&&(i=lf.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:gp(n,i)})),r=lf.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?P7(c[0].x):C7(t):(t=c.length,function(u){for(var d=0,p;d<t;++d)l[(p=c[d]).i]=p.x(u);return l.join("")})}function wo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Dx(t):(r==="number"?gp:r==="string"?(n=sc(t))?(t=n,KS):E7:t instanceof sc?KS:t instanceof Date?j7:N7(t)?S7:Array.isArray(t)?k7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?A7:gp)(e,t)}function Lx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function T7(e,t){t===void 0&&(t=e,e=wo);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function z7(e){return function(){return e}}function vp(e){return+e}var HS=[0,1];function ir(e){return e}function xv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:z7(isNaN(t)?NaN:.5)}function O7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function I7(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=xv(i,n),a=r(o,a)):(n=xv(n,i),a=r(a,o)),function(l){return a(n(l))}}function M7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=xv(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=jc(e,l,1,n)-1;return a[c](i[c](l))}}function Cc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Em(){var e=HS,t=HS,r=wo,n,i,a,o=ir,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==ir&&(o=O7(e[0],e[h-1])),l=h>2?M7:I7,c=u=null,p}function p(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return p.invert=function(h){return o(i((u||(u=l(t,e.map(n),gp)))(h)))},p.domain=function(h){return arguments.length?(e=Array.from(h,vp),d()):e.slice()},p.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},p.rangeRound=function(h){return t=Array.from(h),r=Lx,d()},p.clamp=function(h){return arguments.length?(o=h?!0:ir,d()):o!==ir},p.interpolate=function(h){return arguments.length?(r=h,d()):r},p.unknown=function(h){return arguments.length?(a=h,p):a},function(h,m){return n=h,i=m,d()}}function Bx(){return Em()(ir,ir)}function F7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ao(e){return e=yp(Math.abs(e)),e?e[1]:NaN}function R7(e,t){return function(r,n){for(var i=r.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function D7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var L7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oc(e){if(!(t=L7.exec(e)))throw new Error("invalid format: "+e);var t;return new qx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}oc.prototype=qx.prototype;function qx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function B7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var AP;function q7(e,t){var r=yp(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(AP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+yp(e,Math.max(0,t+a-1))[0]}function GS(e,t){var r=yp(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ZS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:F7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GS(e*100,t),r:GS,s:q7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QS(e){return e}var YS=Array.prototype.map,XS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function U7(e){var t=e.grouping===void 0||e.thousands===void 0?QS:R7(YS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?QS:D7(YS.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p){p=oc(p);var h=p.fill,m=p.align,y=p.sign,f=p.symbol,g=p.zero,v=p.width,b=p.comma,_=p.precision,S=p.trim,w=p.type;w==="n"?(b=!0,w="g"):ZS[w]||(_===void 0&&(_=12),S=!0,w="g"),(g||h==="0"&&m==="=")&&(g=!0,h="0",m="=");var N=f==="$"?r:f==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=f==="$"?n:/[%p]/.test(w)?o:"",O=ZS[w],E=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(M){var T=N,$=j,C,U,K;if(w==="c")$=O(M)+$,M="";else{M=+M;var F=M<0||1/M<0;if(M=isNaN(M)?c:O(Math.abs(M),_),S&&(M=B7(M)),F&&+M==0&&y!=="+"&&(F=!1),T=(F?y==="("?y:l:y==="-"||y==="("?"":y)+T,$=(w==="s"?XS[8+AP/3]:"")+$+(F&&y==="("?")":""),E){for(C=-1,U=M.length;++C<U;)if(K=M.charCodeAt(C),48>K||K>57){$=(K===46?i+M.slice(C+1):M.slice(C))+$,M=M.slice(0,C);break}}}b&&!g&&(M=t(M,1/0));var H=T.length+M.length+$.length,G=H<v?new Array(v-H+1).join(h):"";switch(b&&g&&(M=t(G+M,G.length?v-$.length:1/0),G=""),m){case"<":M=T+M+$+G;break;case"=":M=T+G+M+$;break;case"^":M=G.slice(0,H=G.length>>1)+T+M+$+G.slice(H);break;default:M=G+T+M+$;break}return a(M)}return P.toString=function(){return p+""},P}function d(p,h){var m=u((p=oc(p),p.type="f",p)),y=Math.max(-8,Math.min(8,Math.floor(ao(h)/3)))*3,f=Math.pow(10,-y),g=XS[8+y/3];return function(v){return m(f*v)+g}}return{format:u,formatPrefix:d}}var Ru,Ux,CP;$7({thousands:",",grouping:[3],currency:["$",""]});function $7(e){return Ru=U7(e),Ux=Ru.format,CP=Ru.formatPrefix,Ru}function V7(e){return Math.max(0,-ao(Math.abs(e)))}function W7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ao(t)/3)))*3-ao(Math.abs(e)))}function K7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ao(t)-ao(e))+1}function PP(e,t,r,n){var i=fv(e,t,r),a;switch(n=oc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=W7(i,o))&&(n.precision=a),CP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=K7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=V7(i))&&(n.precision=a-(n.type==="%")*2);break}}return Ux(n)}function la(e){var t=e.domain;return e.ticks=function(r){var n=t();return mv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return PP(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=hv(o,l,r),u===c)return n[i]=o,n[a]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function EP(){var e=Bx();return e.copy=function(){return Cc(e,EP())},on.apply(e,arguments),la(e)}function TP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,vp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return TP(e).unknown(t)},e=arguments.length?Array.from(e,vp):[0,1],la(r)}function zP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function JS(e){return Math.log(e)}function e1(e){return Math.exp(e)}function H7(e){return-Math.log(-e)}function G7(e){return-Math.exp(-e)}function Z7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Q7(e){return e===10?Z7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Y7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function t1(e){return(t,r)=>-e(-t,r)}function $x(e){const t=e(JS,e1),r=t.domain;let n=10,i,a;function o(){return i=Y7(n),a=Q7(n),r()[0]<0?(i=t1(i),a=t1(a),e(H7,G7)):e(JS,e1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const p=d<u;p&&([u,d]=[d,u]);let h=i(u),m=i(d),y,f;const g=l==null?10:+l;let v=[];if(!(n%1)&&m-h<g){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(f=h<0?y/a(-h):y*a(h),!(f<u)){if(f>d)break;v.push(f)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(f=h>0?y/a(-h):y*a(h),!(f<u)){if(f>d)break;v.push(f)}v.length*2<g&&(v=mv(u,d,g))}else v=mv(h,m,Math.min(m-h,g)).map(a);return p?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=oc(c)).precision==null&&(c.trim=!0),c=Ux(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=u?c(d):""}},t.nice=()=>r(zP(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function OP(){const e=$x(Em()).domain([1,10]);return e.copy=()=>Cc(e,OP()).base(e.base()),on.apply(e,arguments),e}function r1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function n1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Vx(e){var t=1,r=e(r1(t),n1(t));return r.constant=function(n){return arguments.length?e(r1(t=+n),n1(t)):t},la(r)}function IP(){var e=Vx(Em());return e.copy=function(){return Cc(e,IP()).constant(e.constant())},on.apply(e,arguments)}function i1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function X7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function J7(e){return e<0?-e*e:e*e}function Wx(e){var t=e(ir,ir),r=1;function n(){return r===1?e(ir,ir):r===.5?e(X7,J7):e(i1(r),i1(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},la(t)}function Kx(){var e=Wx(Em());return e.copy=function(){return Cc(e,Kx()).exponent(e.exponent())},on.apply(e,arguments),e}function e9(){return Kx.apply(null,arguments).exponent(.5)}function a1(e){return Math.sign(e)*e*e}function t9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function MP(){var e=Bx(),t=[0,1],r=!1,n;function i(a){var o=t9(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(a1(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,vp)).map(a1)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return MP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},on.apply(i,arguments),la(i)}function FP(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=a7(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[jc(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Yi),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return FP().domain(e).range(t).unknown(n)},on.apply(a,arguments)}function RP(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[jc(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return RP().domain([e,t]).range(i).unknown(a)},on.apply(la(o),arguments)}function DP(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[jc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return DP().domain(e).range(t).unknown(r)},on.apply(i,arguments)}const cf=new Date,uf=new Date;function kt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>kt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(cf.setTime(+a),uf.setTime(+o),e(cf),e(uf),Math.floor(r(cf,uf))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const xp=kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xp);xp.range;const ti=1e3,Xr=ti*60,ri=Xr*60,pi=ri*24,Hx=pi*7,s1=pi*30,df=pi*365,Aa=kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getUTCSeconds());Aa.range;const Gx=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ti)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getMinutes());Gx.range;const Zx=kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getUTCMinutes());Zx.range;const Qx=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ti-e.getMinutes()*Xr)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getHours());Qx.range;const Yx=kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCHours());Yx.range;const Pc=kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xr)/pi,e=>e.getDate()-1);Pc.range;const Tm=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pi,e=>e.getUTCDate()-1);Tm.range;const LP=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pi,e=>Math.floor(e/pi));LP.range;function ts(e){return kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xr)/Hx)}const zm=ts(0),bp=ts(1),r9=ts(2),n9=ts(3),so=ts(4),i9=ts(5),a9=ts(6);zm.range;bp.range;r9.range;n9.range;so.range;i9.range;a9.range;function rs(e){return kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Hx)}const Om=rs(0),_p=rs(1),s9=rs(2),o9=rs(3),oo=rs(4),l9=rs(5),c9=rs(6);Om.range;_p.range;s9.range;o9.range;oo.range;l9.range;c9.range;const Xx=kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Xx.range;const Jx=kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Jx.range;const mi=kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});mi.range;const hi=kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});hi.range;function BP(e,t,r,n,i,a){const o=[[Aa,1,ti],[Aa,5,5*ti],[Aa,15,15*ti],[Aa,30,30*ti],[a,1,Xr],[a,5,5*Xr],[a,15,15*Xr],[a,30,30*Xr],[i,1,ri],[i,3,3*ri],[i,6,6*ri],[i,12,12*ri],[n,1,pi],[n,2,2*pi],[r,1,Hx],[t,1,s1],[t,3,3*s1],[e,1,df]];function l(u,d,p){const h=d<u;h&&([u,d]=[d,u]);const m=p&&typeof p.range=="function"?p:c(u,d,p),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,p){const h=Math.abs(d-u)/p,m=Ix(([,,g])=>g).right(o,h);if(m===o.length)return e.every(fv(u/df,d/df,p));if(m===0)return xp.every(Math.max(fv(u,d,p),1));const[y,f]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(f)}return[l,c]}const[u9,d9]=BP(hi,Jx,Om,LP,Yx,Zx),[p9,m9]=BP(mi,Xx,zm,Pc,Qx,Gx);function pf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function h9(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Xo(i),d=Jo(i),p=Xo(a),h=Jo(a),m=Xo(o),y=Jo(o),f=Xo(l),g=Jo(l),v=Xo(c),b=Jo(c),_={a:F,A:H,b:G,B:ie,c:null,d:p1,e:p1,f:R9,g:H9,G:Z9,H:I9,I:M9,j:F9,L:qP,m:D9,M:L9,p:J,q:Y,Q:f1,s:g1,S:B9,u:q9,U:U9,V:$9,w:V9,W:W9,x:null,X:null,y:K9,Y:G9,Z:Q9,"%":h1},S={a:pe,A:oe,b:se,B:_e,c:null,d:m1,e:m1,f:eV,g:uV,G:pV,H:Y9,I:X9,j:J9,L:$P,m:tV,M:rV,p:te,q:de,Q:f1,s:g1,S:nV,u:iV,U:aV,V:sV,w:oV,W:lV,x:null,X:null,y:cV,Y:dV,Z:mV,"%":h1},w={a:P,A:M,b:T,B:$,c:C,d:u1,e:u1,f:E9,g:c1,G:l1,H:d1,I:d1,j:j9,L:P9,m:k9,M:A9,p:E,q:N9,Q:z9,s:O9,S:C9,u:x9,U:b9,V:_9,w:y9,W:w9,x:U,X:K,y:c1,Y:l1,Z:S9,"%":T9};_.x=N(r,_),_.X=N(n,_),_.c=N(t,_),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(B,I){return function(R){var q=[],re=-1,k=0,ee=B.length,D,A,z;for(R instanceof Date||(R=new Date(+R));++re<ee;)B.charCodeAt(re)===37&&(q.push(B.slice(k,re)),(A=o1[D=B.charAt(++re)])!=null?D=B.charAt(++re):A=D==="e"?" ":"0",(z=I[D])&&(D=z(R,A)),q.push(D),k=re+1);return q.push(B.slice(k,re)),q.join("")}}function j(B,I){return function(R){var q=Yo(1900,void 0,1),re=O(q,B,R+="",0),k,ee;if(re!=R.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(I&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(k=mf(Yo(q.y,0,1)),ee=k.getUTCDay(),k=ee>4||ee===0?_p.ceil(k):_p(k),k=Tm.offset(k,(q.V-1)*7),q.y=k.getUTCFullYear(),q.m=k.getUTCMonth(),q.d=k.getUTCDate()+(q.w+6)%7):(k=pf(Yo(q.y,0,1)),ee=k.getDay(),k=ee>4||ee===0?bp.ceil(k):bp(k),k=Pc.offset(k,(q.V-1)*7),q.y=k.getFullYear(),q.m=k.getMonth(),q.d=k.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),ee="Z"in q?mf(Yo(q.y,0,1)).getUTCDay():pf(Yo(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(ee+5)%7:q.w+q.U*7-(ee+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,mf(q)):pf(q)}}function O(B,I,R,q){for(var re=0,k=I.length,ee=R.length,D,A;re<k;){if(q>=ee)return-1;if(D=I.charCodeAt(re++),D===37){if(D=I.charAt(re++),A=w[D in o1?I.charAt(re++):D],!A||(q=A(B,R,q))<0)return-1}else if(D!=R.charCodeAt(q++))return-1}return q}function E(B,I,R){var q=u.exec(I.slice(R));return q?(B.p=d.get(q[0].toLowerCase()),R+q[0].length):-1}function P(B,I,R){var q=m.exec(I.slice(R));return q?(B.w=y.get(q[0].toLowerCase()),R+q[0].length):-1}function M(B,I,R){var q=p.exec(I.slice(R));return q?(B.w=h.get(q[0].toLowerCase()),R+q[0].length):-1}function T(B,I,R){var q=v.exec(I.slice(R));return q?(B.m=b.get(q[0].toLowerCase()),R+q[0].length):-1}function $(B,I,R){var q=f.exec(I.slice(R));return q?(B.m=g.get(q[0].toLowerCase()),R+q[0].length):-1}function C(B,I,R){return O(B,t,I,R)}function U(B,I,R){return O(B,r,I,R)}function K(B,I,R){return O(B,n,I,R)}function F(B){return o[B.getDay()]}function H(B){return a[B.getDay()]}function G(B){return c[B.getMonth()]}function ie(B){return l[B.getMonth()]}function J(B){return i[+(B.getHours()>=12)]}function Y(B){return 1+~~(B.getMonth()/3)}function pe(B){return o[B.getUTCDay()]}function oe(B){return a[B.getUTCDay()]}function se(B){return c[B.getUTCMonth()]}function _e(B){return l[B.getUTCMonth()]}function te(B){return i[+(B.getUTCHours()>=12)]}function de(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var I=N(B+="",_);return I.toString=function(){return B},I},parse:function(B){var I=j(B+="",!1);return I.toString=function(){return B},I},utcFormat:function(B){var I=N(B+="",S);return I.toString=function(){return B},I},utcParse:function(B){var I=j(B+="",!0);return I.toString=function(){return B},I}}}var o1={"-":"",_:" ",0:"0"},It=/^\s*\d+/,f9=/^%/,g9=/[\\^$*+?|[\]().{}]/g;function Le(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function v9(e){return e.replace(g9,"\\$&")}function Xo(e){return new RegExp("^(?:"+e.map(v9).join("|")+")","i")}function Jo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function y9(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function x9(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function b9(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function _9(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function w9(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function l1(e,t,r){var n=It.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function c1(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function S9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function N9(e,t,r){var n=It.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function k9(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function u1(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function j9(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function d1(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function A9(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function C9(e,t,r){var n=It.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function P9(e,t,r){var n=It.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function E9(e,t,r){var n=It.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function T9(e,t,r){var n=f9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function z9(e,t,r){var n=It.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function O9(e,t,r){var n=It.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function p1(e,t){return Le(e.getDate(),t,2)}function I9(e,t){return Le(e.getHours(),t,2)}function M9(e,t){return Le(e.getHours()%12||12,t,2)}function F9(e,t){return Le(1+Pc.count(mi(e),e),t,3)}function qP(e,t){return Le(e.getMilliseconds(),t,3)}function R9(e,t){return qP(e,t)+"000"}function D9(e,t){return Le(e.getMonth()+1,t,2)}function L9(e,t){return Le(e.getMinutes(),t,2)}function B9(e,t){return Le(e.getSeconds(),t,2)}function q9(e){var t=e.getDay();return t===0?7:t}function U9(e,t){return Le(zm.count(mi(e)-1,e),t,2)}function UP(e){var t=e.getDay();return t>=4||t===0?so(e):so.ceil(e)}function $9(e,t){return e=UP(e),Le(so.count(mi(e),e)+(mi(e).getDay()===4),t,2)}function V9(e){return e.getDay()}function W9(e,t){return Le(bp.count(mi(e)-1,e),t,2)}function K9(e,t){return Le(e.getFullYear()%100,t,2)}function H9(e,t){return e=UP(e),Le(e.getFullYear()%100,t,2)}function G9(e,t){return Le(e.getFullYear()%1e4,t,4)}function Z9(e,t){var r=e.getDay();return e=r>=4||r===0?so(e):so.ceil(e),Le(e.getFullYear()%1e4,t,4)}function Q9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Le(t/60|0,"0",2)+Le(t%60,"0",2)}function m1(e,t){return Le(e.getUTCDate(),t,2)}function Y9(e,t){return Le(e.getUTCHours(),t,2)}function X9(e,t){return Le(e.getUTCHours()%12||12,t,2)}function J9(e,t){return Le(1+Tm.count(hi(e),e),t,3)}function $P(e,t){return Le(e.getUTCMilliseconds(),t,3)}function eV(e,t){return $P(e,t)+"000"}function tV(e,t){return Le(e.getUTCMonth()+1,t,2)}function rV(e,t){return Le(e.getUTCMinutes(),t,2)}function nV(e,t){return Le(e.getUTCSeconds(),t,2)}function iV(e){var t=e.getUTCDay();return t===0?7:t}function aV(e,t){return Le(Om.count(hi(e)-1,e),t,2)}function VP(e){var t=e.getUTCDay();return t>=4||t===0?oo(e):oo.ceil(e)}function sV(e,t){return e=VP(e),Le(oo.count(hi(e),e)+(hi(e).getUTCDay()===4),t,2)}function oV(e){return e.getUTCDay()}function lV(e,t){return Le(_p.count(hi(e)-1,e),t,2)}function cV(e,t){return Le(e.getUTCFullYear()%100,t,2)}function uV(e,t){return e=VP(e),Le(e.getUTCFullYear()%100,t,2)}function dV(e,t){return Le(e.getUTCFullYear()%1e4,t,4)}function pV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?oo(e):oo.ceil(e),Le(e.getUTCFullYear()%1e4,t,4)}function mV(){return"+0000"}function h1(){return"%"}function f1(e){return+e}function g1(e){return Math.floor(+e/1e3)}var hs,WP,KP;hV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hV(e){return hs=h9(e),WP=hs.format,hs.parse,KP=hs.utcFormat,hs.utcParse,hs}function fV(e){return new Date(e)}function gV(e){return e instanceof Date?+e:+new Date(+e)}function eb(e,t,r,n,i,a,o,l,c,u){var d=Bx(),p=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),f=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),b=u("%b %d"),_=u("%B"),S=u("%Y");function w(N){return(c(N)<N?m:l(N)<N?y:o(N)<N?f:a(N)<N?g:n(N)<N?i(N)<N?v:b:r(N)<N?_:S)(N)}return d.invert=function(N){return new Date(p(N))},d.domain=function(N){return arguments.length?h(Array.from(N,gV)):h().map(fV)},d.ticks=function(N){var j=h();return e(j[0],j[j.length-1],N??10)},d.tickFormat=function(N,j){return j==null?w:u(j)},d.nice=function(N){var j=h();return(!N||typeof N.range!="function")&&(N=t(j[0],j[j.length-1],N??10)),N?h(zP(j,N)):d},d.copy=function(){return Cc(d,eb(e,t,r,n,i,a,o,l,c,u))},d}function vV(){return on.apply(eb(p9,m9,mi,Xx,zm,Pc,Qx,Gx,Aa,WP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yV(){return on.apply(eb(u9,d9,hi,Jx,Om,Tm,Yx,Zx,Aa,KP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Im(){var e=0,t=1,r,n,i,a,o=ir,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function d(p){return function(h){var m,y;return arguments.length?([m,y]=h,o=p(m,y),u):[o(0),o(1)]}}return u.range=d(wo),u.rangeRound=d(Lx),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return a=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),u}}function ca(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HP(){var e=la(Im()(ir));return e.copy=function(){return ca(e,HP())},xi.apply(e,arguments)}function GP(){var e=$x(Im()).domain([1,10]);return e.copy=function(){return ca(e,GP()).base(e.base())},xi.apply(e,arguments)}function ZP(){var e=Vx(Im());return e.copy=function(){return ca(e,ZP()).constant(e.constant())},xi.apply(e,arguments)}function tb(){var e=Wx(Im());return e.copy=function(){return ca(e,tb()).exponent(e.exponent())},xi.apply(e,arguments)}function xV(){return tb.apply(null,arguments).exponent(.5)}function QP(){var e=[],t=ir;function r(n){if(n!=null&&!isNaN(n=+n))return t((jc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Yi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>i7(e,a/n))},r.copy=function(){return QP(t).domain(e)},xi.apply(r,arguments)}function Mm(){var e=0,t=.5,r=1,n=1,i,a,o,l,c,u=ir,d,p=!1,h;function m(f){return isNaN(f=+f)?h:(f=.5+((f=+d(f))-a)*(n*f<n*a?l:c),u(p?Math.max(0,Math.min(1,f)):f))}m.domain=function(f){return arguments.length?([e,t,r]=f,i=d(e=+e),a=d(t=+t),o=d(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(f){return arguments.length?(p=!!f,m):p},m.interpolator=function(f){return arguments.length?(u=f,m):u};function y(f){return function(g){var v,b,_;return arguments.length?([v,b,_]=g,u=T7(f,[v,b,_]),m):[u(0),u(.5),u(1)]}}return m.range=y(wo),m.rangeRound=y(Lx),m.unknown=function(f){return arguments.length?(h=f,m):h},function(f){return d=f,i=f(e),a=f(t),o=f(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function YP(){var e=la(Mm()(ir));return e.copy=function(){return ca(e,YP())},xi.apply(e,arguments)}function XP(){var e=$x(Mm()).domain([.1,1,10]);return e.copy=function(){return ca(e,XP()).base(e.base())},xi.apply(e,arguments)}function JP(){var e=Vx(Mm());return e.copy=function(){return ca(e,JP()).constant(e.constant())},xi.apply(e,arguments)}function rb(){var e=Wx(Mm());return e.copy=function(){return ca(e,rb()).exponent(e.exponent())},xi.apply(e,arguments)}function bV(){return rb.apply(null,arguments).exponent(.5)}const ll=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fx,scaleDiverging:YP,scaleDivergingLog:XP,scaleDivergingPow:rb,scaleDivergingSqrt:bV,scaleDivergingSymlog:JP,scaleIdentity:TP,scaleImplicit:gv,scaleLinear:EP,scaleLog:OP,scaleOrdinal:Mx,scalePoint:o7,scalePow:Kx,scaleQuantile:FP,scaleQuantize:RP,scaleRadial:MP,scaleSequential:HP,scaleSequentialLog:GP,scaleSequentialPow:tb,scaleSequentialQuantile:QP,scaleSequentialSqrt:xV,scaleSequentialSymlog:ZP,scaleSqrt:e9,scaleSymlog:IP,scaleThreshold:DP,scaleTime:vV,scaleUtc:yV,tickFormat:PP},Symbol.toStringTag,{value:"Module"}));var ua=e=>e.chartData,_V=ue([ua],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nb=(e,t,r,n)=>n?_V(e):ua(e);function Ga(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(xr(t)&&xr(r))return!0}return!1}function v1(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function eE(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(xr(r))i=r;else if(typeof r=="function")return;if(xr(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(Ga(o))return o}}function wV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ga(n))return v1(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(ze(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&lS.test(i)){var c=lS.exec(i);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(ze(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&cS.test(a)){var d=cS.exec(a);if(d==null||t==null)l=void 0;else{var p=+d[1];l=t[1]+p}}else l=t==null?void 0:t[1];var h=[o,l];if(Ga(h))return t==null?h:v1(h,t,r)}}}var So=1e9,SV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ab,it=!0,an="[DecimalError] ",Ra=an+"Invalid argument: ",ib=an+"Exponent out of range: ",No=Math.floor,xa=Math.pow,NV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,Pt=1e7,et=7,tE=9007199254740991,wp=No(tE/et),je={};je.absoluteValue=je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};je.comparedTo=je.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};je.decimalPlaces=je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};je.dividedBy=je.div=function(e){return ai(this,new this.constructor(e))};je.dividedToIntegerBy=je.idiv=function(e){var t=this,r=t.constructor;return We(ai(t,new r(e),0,1),r.precision)};je.equals=je.eq=function(e){return!this.cmp(e)};je.exponent=function(){return gt(this)};je.greaterThan=je.gt=function(e){return this.cmp(e)>0};je.greaterThanOrEqualTo=je.gte=function(e){return this.cmp(e)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(e){return this.cmp(e)<0};je.lessThanOrEqualTo=je.lte=function(e){return this.cmp(e)<1};je.logarithm=je.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cr))throw Error(an+"NaN");if(r.s<1)throw Error(an+(r.s?"NaN":"-Infinity"));return r.eq(Cr)?new n(0):(it=!1,t=ai(lc(r,a),lc(e,a),a),it=!0,We(t,i))};je.minus=je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iE(t,e):rE(t,(e.s=-e.s,e))};je.modulo=je.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(an+"NaN");return r.s?(it=!1,t=ai(r,e,0,1).times(e),it=!0,r.minus(t)):We(new n(r),i)};je.naturalExponential=je.exp=function(){return nE(this)};je.naturalLogarithm=je.ln=function(){return lc(this)};je.negated=je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};je.plus=je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rE(t,e):iE(t,(e.s=-e.s,e))};je.precision=je.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ra+e);if(t=gt(i)+1,n=i.d.length-1,r=n*et+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};je.squareRoot=je.sqrt=function(){var e,t,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(an+"NaN")}for(e=gt(l),it=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Fn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=No((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(ai(l,a,o+2)).times(.5),Fn(a.d).slice(0,o)===(t=Fn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(We(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return it=!0,We(n,r)};je.times=je.mul=function(e){var t,r,n,i,a,o,l,c,u,d=this,p=d.constructor,h=d.d,m=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+m[n]*h[i-n-1]+t,a[i--]=l%Pt|0,t=l/Pt|0;a[i]=(a[i]+t)%Pt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,it?We(e,p.precision):e};je.toDecimalPlaces=je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Vn(e,0,So),t===void 0?t=n.rounding:Vn(t,0,8),We(r,e+gt(r)+1,t))};je.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Za(n,!0):(Vn(e,0,So),t===void 0?t=i.rounding:Vn(t,0,8),n=We(new i(n),e+1,t),r=Za(n,!0,e+1)),r};je.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Za(i):(Vn(e,0,So),t===void 0?t=a.rounding:Vn(t,0,8),n=We(new a(i),e+gt(i)+1,t),r=Za(n.abs(),!1,e+gt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};je.toInteger=je.toint=function(){var e=this,t=e.constructor;return We(new t(e),gt(e)+1,t.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(e){var t,r,n,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Cr);if(l=new c(l),!l.s){if(e.s<1)throw Error(an+"Infinity");return l}if(l.eq(Cr))return l;if(n=c.precision,e.eq(Cr))return We(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=d<0?-d:d)<=tE){for(i=new c(Cr),t=Math.ceil(n/et+4),it=!1;r%2&&(i=i.times(l),x1(i.d,t)),r=No(r/2),r!==0;)l=l.times(l),x1(l.d,t);return it=!0,e.s<0?new c(Cr).div(i):We(i,n)}}else if(a<0)throw Error(an+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,it=!1,i=e.times(lc(l,n+u)),it=!0,i=nE(i),i.s=a,i};je.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=gt(i),n=Za(i,r<=a.toExpNeg||r>=a.toExpPos)):(Vn(e,1,So),t===void 0?t=a.rounding:Vn(t,0,8),i=We(new a(i),e,t),r=gt(i),n=Za(i,e<=r||r<=a.toExpNeg,e)),n};je.toSignificantDigits=je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Vn(e,1,So),t===void 0?t=n.rounding:Vn(t,0,8)),We(new n(r),e,t)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gt(e),r=e.constructor;return Za(e,t<=r.toExpNeg||t>=r.toExpPos)};function rE(e,t){var r,n,i,a,o,l,c,u,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),it?We(t,p):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(p/et),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Pt|0,c[a]%=Pt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,it?We(t,p):t}function Vn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ra+e)}function Fn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=et-n.length,r&&(a+=Oi(r)),a+=n;o=e[t],n=o+"",r=et-n.length,r&&(a+=Oi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ai=function(){function e(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%Pt|0,o=a/Pt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Pt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,d,p,h,m,y,f,g,v,b,_,S,w,N,j,O,E=n.constructor,P=n.s==i.s?1:-1,M=n.d,T=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(an+"Division by zero");for(c=n.e-i.e,j=T.length,w=M.length,m=new E(P),y=m.d=[],u=0;T[u]==(M[u]||0);)++u;if(T[u]>(M[u]||0)&&--c,a==null?b=a=E.precision:o?b=a+(gt(n)-gt(i))+1:b=a,b<0)return new E(0);if(b=b/et+2|0,u=0,j==1)for(d=0,T=T[0],b++;(u<w||d)&&b--;u++)_=d*Pt+(M[u]||0),y[u]=_/T|0,d=_%T|0;else{for(d=Pt/(T[0]+1)|0,d>1&&(T=e(T,d),M=e(M,d),j=T.length,w=M.length),S=j,f=M.slice(0,j),g=f.length;g<j;)f[g++]=0;O=T.slice(),O.unshift(0),N=T[0],T[1]>=Pt/2&&++N;do d=0,l=t(T,f,j,g),l<0?(v=f[0],j!=g&&(v=v*Pt+(f[1]||0)),d=v/N|0,d>1?(d>=Pt&&(d=Pt-1),p=e(T,d),h=p.length,g=f.length,l=t(p,f,h,g),l==1&&(d--,r(p,j<h?O:T,h))):(d==0&&(l=d=1),p=T.slice()),h=p.length,h<g&&p.unshift(0),r(f,p,g),l==-1&&(g=f.length,l=t(T,f,j,g),l<1&&(d++,r(f,j<g?O:T,g))),g=f.length):l===0&&(d++,f=[0]),y[u++]=d,l&&f[0]?f[g++]=M[S]||0:(f=[M[S]],g=1);while((S++<w||f[0]!==void 0)&&b--)}return y[0]||y.shift(),m.e=c,We(m,o?a+gt(m)+1:a)}}();function nE(e,t){var r,n,i,a,o,l,c=0,u=0,d=e.constructor,p=d.precision;if(gt(e)>16)throw Error(ib+gt(e));if(!e.s)return new d(Cr);for(it=!1,l=p,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(xa(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Cr),d.precision=l;;){if(i=We(i.times(e),l),r=r.times(++c),o=a.plus(ai(i,r,l)),Fn(o.d).slice(0,l)===Fn(a.d).slice(0,l)){for(;u--;)a=We(a.times(a),l);return d.precision=p,t==null?(it=!0,We(a,p)):a}a=o}}function gt(e){for(var t=e.e*et,r=e.d[0];r>=10;r/=10)t++;return t}function hf(e,t,r){if(t>e.LN10.sd())throw it=!0,r&&(e.precision=r),Error(an+"LN10 precision limit exceeded");return We(new e(e.LN10),t)}function Oi(e){for(var t="";e--;)t+="0";return t}function lc(e,t){var r,n,i,a,o,l,c,u,d,p=1,h=10,m=e,y=m.d,f=m.constructor,g=f.precision;if(m.s<1)throw Error(an+(m.s?"NaN":"-Infinity"));if(m.eq(Cr))return new f(0);if(t==null?(it=!1,u=g):u=t,m.eq(10))return t==null&&(it=!0),hf(f,u);if(u+=h,f.precision=u,r=Fn(y),n=r.charAt(0),a=gt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Fn(m.d),n=r.charAt(0),p++;a=gt(m),n>1?(m=new f("0."+r),a++):m=new f(n+"."+r.slice(1))}else return c=hf(f,u+2,g).times(a+""),m=lc(new f(n+"."+r.slice(1)),u-h).plus(c),f.precision=g,t==null?(it=!0,We(m,g)):m;for(l=o=m=ai(m.minus(Cr),m.plus(Cr),u),d=We(m.times(m),u),i=3;;){if(o=We(o.times(d),u),c=l.plus(ai(o,new f(i),u)),Fn(c.d).slice(0,u)===Fn(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(hf(f,u+2,g).times(a+""))),l=ai(l,new f(p),u),f.precision=g,t==null?(it=!0,We(l,g)):l;l=c,i+=2}}function y1(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=No(r/et),e.d=[],n=(r+1)%et,r<0&&(n+=et),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=et;n<i;)e.d.push(+t.slice(n,n+=et));t=t.slice(n),n=et-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),it&&(e.e>wp||e.e<-wp))throw Error(ib+r)}else e.s=0,e.e=0,e.d=[0];return e}function We(e,t,r){var n,i,a,o,l,c,u,d,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=et,i=t,u=p[d=0];else{if(d=Math.ceil((n+1)/et),a=p.length,d>=a)return e;for(u=a=p[d],o=1;a>=10;a/=10)o++;n%=et,i=n-et+o}if(r!==void 0&&(a=xa(10,o-i-1),l=u/a%10|0,c=t<0||p[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/xa(10,o-i):0:p[d-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(a=gt(e),p.length=1,t=t-a-1,p[0]=xa(10,(et-t%et)%et),e.e=No(-t/et)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=d,a=1,d--):(p.length=d+1,a=xa(10,et-n),p[d]=i>0?(u/xa(10,o-i)%xa(10,i)|0)*a:0),c)for(;;)if(d==0){(p[0]+=a)==Pt&&(p[0]=1,++e.e);break}else{if(p[d]+=a,p[d]!=Pt)break;p[d--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(it&&(e.e>wp||e.e<-wp))throw Error(ib+gt(e));return e}function iE(e,t){var r,n,i,a,o,l,c,u,d,p,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),it?We(t,m):t;if(c=e.d,p=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=p.length):(r=p,n=u,l=c.length),i=Math.max(Math.ceil(m/et),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}o=0}for(d&&(r=c,c=p,p=r,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Pt-1;--c[a],c[i]+=Pt}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,it?We(t,m):t):new h(0)}function Za(e,t,r){var n,i=gt(e),a=Fn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Oi(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Oi(-i-1)+a,r&&(n=r-o)>0&&(a+=Oi(n))):i>=o?(a+=Oi(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Oi(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Oi(n))),e.s<0?"-"+a:a}function x1(e,t){if(e.length>t)return e.length=t,!0}function aE(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ra+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return y1(o,a.toString())}else if(typeof a!="string")throw Error(Ra+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,NV.test(a))y1(o,a);else throw Error(Ra+a)}if(i.prototype=je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aE,i.config=i.set=kV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function kV(e){if(!e||typeof e!="object")throw Error(an+"Object expected");var t,r,n,i=["precision",1,So,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(No(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ra+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ra+r+": "+n);return this}var ab=aE(SV);Cr=new ab(1);const $e=ab;var jV=e=>e,sE={},oE=e=>e===sE,b1=e=>function t(){return arguments.length===0||arguments.length===1&&oE(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},lE=(e,t)=>e===1?t:b1(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==sE).length;return a>=e?t(...n):lE(e-a,b1(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>oE(d)?l.shift():d);return t(...u,...l)}))}),Fm=e=>lE(e.length,e),bv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},AV=Fm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),CV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jV;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),a(...arguments))}},_v=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),cE=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function uE(e){var t;return e===0?t=1:t=Math.floor(new $e(e).abs().log(10).toNumber())+1,t}function dE(e,t,r){for(var n=new $e(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Fm((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Fm((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Fm((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var pE=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},mE=(e,t,r)=>{if(e.lte(0))return new $e(0);var n=uE(e.toNumber()),i=new $e(10).pow(n),a=e.div(i),o=n!==1?.05:.1,l=new $e(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?new $e(c.toNumber()):new $e(Math.ceil(c.toNumber()))},PV=(e,t,r)=>{var n=new $e(1),i=new $e(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new $e(10).pow(uE(e)-1),i=new $e(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new $e(Math.floor(e)))}else e===0?i=new $e(Math.floor((t-1)/2)):r||(i=new $e(Math.floor(e)));var o=Math.floor((t-1)/2),l=CV(AV(c=>i.add(new $e(c-o).mul(n)).toNumber()),bv);return l(0,t)},hE=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new $e(0),tickMin:new $e(0),tickMax:new $e(0)};var o=mE(new $e(r).sub(t).div(n-1),i,a),l;t<=0&&r>=0?l=new $e(0):(l=new $e(t).add(r).div(2),l=l.sub(new $e(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new $e(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?hE(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new $e(c).mul(o)),tickMax:l.add(new $e(u).mul(o))})};function EV(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,l]=pE([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...bv(0,n-1).map(()=>1/0)]:[...bv(0,n-1).map(()=>-1/0),l];return t>r?_v(c):c}if(o===l)return PV(o,n,i);var{step:u,tickMin:d,tickMax:p}=hE(o,l,a,i,0),h=dE(d,p.add(new $e(.1).mul(u)),u);return t>r?_v(h):h}function TV(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=pE([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var l=Math.max(t,2),c=mE(new $e(o).sub(a).div(l-1),i,0),u=[...dE(new $e(a),new $e(o),c),o];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?_v(u):u}var zV=cE(EV),OV=cE(TV),IV=e=>e.rootProps.barCategoryGap,Rm=e=>e.rootProps.stackOffset,sb=e=>e.options.chartName,ob=e=>e.rootProps.syncId,fE=e=>e.rootProps.syncMethod,lb=e=>e.options.eventEmitter,Yn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Nr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Dm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},MV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Yn.angleAxisId,includeHidden:!1,name:void 0,reversed:Yn.reversed,scale:Yn.scale,tick:Yn.tick,tickCount:void 0,ticks:void 0,type:Yn.type,unit:void 0},FV={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:Nr.type,unit:void 0},RV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Yn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yn.scale,tick:Yn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},DV={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:"category",unit:void 0},cb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?RV:MV,ub=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?DV:FV,Lm=e=>e.polarOptions,db=ue([vi,yi,Ut],bU),gE=ue([Lm,db],(e,t)=>{if(e!=null)return ea(e.innerRadius,t,0)}),vE=ue([Lm,db],(e,t)=>{if(e!=null)return ea(e.outerRadius,t,t*.8)}),LV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},yE=ue([Lm],LV);ue([cb,yE],Dm);var xE=ue([db,gE,vE],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ue([ub,xE],Dm);var bE=ue([rt,Lm,gE,vE,vi,yi],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:ea(o,i,i/2),cy:ea(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),jt=(e,t)=>t,Bm=(e,t,r)=>r;function _E(e){return e==null?void 0:e.id}var At=e=>{var t=rt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ko=e=>e.tooltip.settings.axisId,Ct=e=>{var t=At(e),r=ko(e);return Ec(e,t,r)},wE=ue([Ct],e=>e==null?void 0:e.dataKey);function SE(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=_E(l);u.forEach((p,h)=>{var m=a==null||i?h:String(sr(p,a,null)),y=sr(p,l.dataKey,0),f;o.has(m)?f=o.get(m):f={},Object.assign(f,{[d]:y}),o.set(m,f)})}}),Array.from(o.values())}function pb(e){return e.stackId!=null&&e.dataKey!=null}var qm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Um(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){BV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t,r){return(t=qV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wv=[0,"auto"],_r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},NE=(e,t)=>e.cartesianAxis.xAxis[t],bi=(e,t)=>{var r=NE(e,t);return r??_r},wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:wv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:kc},kE=(e,t)=>e.cartesianAxis.yAxis[t],_i=(e,t)=>{var r=kE(e,t);return r??wr},$V={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},mb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??$V},cr=(e,t,r)=>{switch(t){case"xAxis":return bi(e,r);case"yAxis":return _i(e,r);case"zAxis":return mb(e,r);case"angleAxis":return cb(e,r);case"radiusAxis":return ub(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VV=(e,t,r)=>{switch(t){case"xAxis":return bi(e,r);case"yAxis":return _i(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ec=(e,t,r)=>{switch(t){case"xAxis":return bi(e,r);case"yAxis":return _i(e,r);case"angleAxis":return cb(e,r);case"radiusAxis":return ub(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jE=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function AE(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var CE=e=>e.graphicalItems.cartesianItems,WV=ue([jt,Bm],AE),PE=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Tc=ue([CE,cr,WV],PE,{memoizeOptions:{resultEqualityCheck:Um}}),EE=ue([Tc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pb)),TE=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),KV=ue([Tc],TE),zE=e=>e.map(t=>t.data).filter(Boolean).flat(1),HV=ue([Tc],zE,{memoizeOptions:{resultEqualityCheck:Um}}),OE=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},hb=ue([HV,nb],OE),IE=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:sr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:sr(i,n)}))):e.map(n=>({value:n})),$m=ue([hb,cr,Tc],IE);function ME(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ud(e){if($n(e)||e instanceof Date){var t=Number(e);if(xr(t))return t}}function w1(e){if(Array.isArray(e)){var t=[ud(e[0]),ud(e[1])];return Ga(t)?t:void 0}var r=ud(e);if(r!=null)return[r,r]}function jo(e){return e.map(ud).filter(d8)}function GV(e,t,r){return!r||typeof t!="number"||Sn(t)?[]:r.length?jo(r.flatMap(n=>{var i=sr(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!xr(a)||!xr(o)))return[t-a,t+o]})):[]}var ZV=ue([EE,nb,Ct],SE),FE=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,l]=a,c=l.map(_E);return[o,{stackedData:MU(e,c,r),graphicalItems:l}]}))},QV=ue([ZV,EE,Rm],FE),RE=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=DU(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},YV=ue([cr],e=>e.allowDataOverflow),fb=e=>{var t;if(e==null||!("domain"in e))return wv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=jo(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:wv},DE=ue([cr],fb),LE=ue([DE,YV],eE),XV=ue([QV,ua,jt,LE],RE,{memoizeOptions:{resultEqualityCheck:qm}}),gb=e=>e.errorBars,JV=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>ME(r,n)),Np=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},BE=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,p=(u=n[c.id])===null||u===void 0?void 0:u.filter(v=>ME(i,v)),h=sr(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=GV(l,h,p);if(m.length>=2){var y=Math.min(...m),f=Math.max(...m);(a==null||y<a)&&(a=y),(o==null||f>o)&&(o=f)}var g=w1(h);g!=null&&(a=a==null?g[0]:Math.min(a,g[0]),o=o==null?g[1]:Math.max(o,g[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=w1(sr(l,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),xr(a)&&xr(o))return[a,o]},eW=ue([hb,cr,KV,gb,jt],BE,{memoizeOptions:{resultEqualityCheck:qm}});function tW(e){var{value:t}=e;if($n(t)||t instanceof Date)return t}var rW=(e,t,r)=>{var n=e.map(tW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&B2(n))?xP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},qE=e=>e.referenceElements.dots,Ao=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),nW=ue([qE,jt,Bm],Ao),UE=e=>e.referenceElements.areas,iW=ue([UE,jt,Bm],Ao),$E=e=>e.referenceElements.lines,aW=ue([$E,jt,Bm],Ao),VE=(e,t)=>{var r=jo(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sW=ue(nW,jt,VE),WE=(e,t)=>{var r=jo(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},oW=ue([iW,jt],WE),KE=(e,t)=>{var r=jo(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lW=ue(aW,jt,KE),cW=ue(sW,lW,oW,(e,t,r)=>Np(e,r,t)),HE=(e,t,r,n,i,a,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?Np(n,a,i):Np(a,i);return wV(t,u,e.allowDataOverflow)},uW=ue([cr,DE,LE,XV,eW,cW,rt,jt],HE,{memoizeOptions:{resultEqualityCheck:qm}}),dW=[0,1],GE=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=oa(t,a);return u&&l==null?xP(0,r.length):c==="category"?rW(n,e,u):i==="expand"?dW:o}},vb=ue([cr,rt,hb,$m,Rm,jt,uW],GE),ZE=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(wc(a));return l in ll?l:"point"}}},zc=ue([cr,rt,jE,sb,jt],ZE);function pW(e){if(e!=null){if(e in ll)return ll[e]();var t="scale".concat(wc(e));if(t in ll)return ll[t]()}}function yb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=pW(t);if(i!=null){var a=i.domain(r).range(n);return TU(a),a}}}var QE=(e,t,r)=>{var n=fb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ga(e))return zV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ga(e))return OV(e,t.tickCount,t.allowDecimals)}},xb=ue([vb,Ec,zc],QE),YE=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ga(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],l=r[r.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},mW=ue([cr,vb,xb,jt],YE),hW=ue($m,cr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(jo(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),XE=ue(hW,rt,IV,Ut,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!xr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=ea(r,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),fW=(e,t)=>{var r=bi(e,t);return r==null||typeof r.padding!="string"?0:XE(e,"xAxis",t,r.padding)},gW=(e,t)=>{var r=_i(e,t);return r==null||typeof r.padding!="string"?0:XE(e,"yAxis",t,r.padding)},vW=ue(bi,fW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),yW=ue(_i,gW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),xW=ue([Ut,vW,jm,km,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),bW=ue([Ut,rt,yW,jm,km,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Oc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return xW(e,r,n);case"yAxis":return bW(e,r,n);case"zAxis":return(i=mb(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return yE(e);case"radiusAxis":return xE(e,r);default:return}},JE=ue([cr,Oc],Dm),Co=ue([cr,zc,mW,JE],yb);ue([Tc,gb,jt],JV);function eT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Vm=(e,t)=>t,Wm=(e,t,r)=>r,_W=ue(Sm,Vm,Wm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(eT)),wW=ue(Nm,Vm,Wm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(eT)),tT=(e,t)=>({width:e.width,height:t.height}),SW=(e,t)=>{var r=typeof t.width=="number"?t.width:kc;return{width:r,height:e.height}},NW=ue(Ut,bi,tT),kW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},jW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},AW=ue(yi,Ut,_W,Vm,Wm,(e,t,r,n,i)=>{var a={},o;return r.forEach(l=>{var c=tT(t,l);o==null&&(o=kW(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),a}),CW=ue(vi,Ut,wW,Vm,Wm,(e,t,r,n,i)=>{var a={},o;return r.forEach(l=>{var c=SW(t,l);o==null&&(o=jW(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),a}),PW=(e,t)=>{var r=bi(e,t);if(r!=null)return AW(e,r.orientation,r.mirror)},EW=ue([Ut,bi,PW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),TW=(e,t)=>{var r=_i(e,t);if(r!=null)return CW(e,r.orientation,r.mirror)},zW=ue([Ut,_i,TW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),OW=ue(Ut,_i,(e,t)=>{var r=typeof t.width=="number"?t.width:kc;return{width:r,height:e.height}}),rT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,l=oa(e,n),c=t.map(u=>u.value);if(o&&l&&a==="category"&&i&&B2(c))return c}},bb=ue([rt,$m,cr,jt],rT),nT=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=oa(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},_b=ue([rt,$m,Ec,jt],nT),S1=ue([rt,VV,zc,Co,bb,_b,Oc,xb,jt],(e,t,r,n,i,a,o,l,c)=>{if(t==null)return null;var u=oa(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}),IW=(e,t,r,n,i,a,o,l,c)=>{if(!(t==null||n==null)){var u=oa(e,c),{type:d,ticks:p,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=d==="category"&&n.bandwidth?n.bandwidth()/m:0;y=c==="angleAxis"&&a!=null&&a.length>=2?Yr(a[0]-a[1])*2*y:y;var f=p||i;if(f){var g=f.map((v,b)=>{var _=o?o.indexOf(v):v;return{index:b,coordinate:n(_)+y,value:v,offset:y}});return g.filter(v=>!Sn(v.coordinate))}return u&&l?l.map((v,b)=>({coordinate:n(v)+y,value:v,index:b,offset:y})):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+y,value:v,offset:y})):n.domain().map((v,b)=>({coordinate:n(v)+y,value:o?o[v]:v,index:b,offset:y}))}},iT=ue([rt,Ec,zc,Co,xb,Oc,bb,_b,jt],IW),MW=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=oa(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Yr(n[0]-n[1])*2*u:u,l&&a?a.map((d,p)=>({coordinate:r(d)+u,value:d,index:p,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,p)=>({coordinate:r(d)+u,value:i?i[d]:d,index:p,offset:u}))}},aT=ue([rt,Ec,Co,Oc,bb,_b,jt],MW),sT=ue(cr,Co,(e,t)=>{if(!(e==null||t==null))return Sp(Sp({},e),{},{scale:t})}),FW=ue([cr,zc,vb,JE],yb);ue((e,t,r)=>mb(e,r),FW,(e,t)=>{if(!(e==null||t==null))return Sp(Sp({},e),{},{scale:t})});var RW=ue([rt,Sm,Nm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),oT=e=>e.options.defaultTooltipEventType,lT=e=>e.options.validateTooltipEventTypes;function cT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function wb(e,t){var r=oT(e),n=lT(e);return cT(t,r,n)}function DW(e){return Te(t=>wb(t,e))}var uT=(e,t)=>{var r,n=Number(t);if(!(Sn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},LW=e=>e.tooltip.settings,Di={active:!1,index:null,dataKey:void 0,coordinate:void 0},BW={itemInteraction:{click:Di,hover:Di},axisInteraction:{click:Di,hover:Di},keyboardInteraction:Di,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},dT=Lr({name:"tooltip",initialState:BW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:nr()},removeTooltipEntrySettings:{reducer(e,t){var r=ii(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:nr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:qW,removeTooltipEntrySettings:UW,setTooltipSettingsState:$W,setActiveMouseOverItemIndex:VW,mouseLeaveItem:ZX,mouseLeaveChart:pT,setActiveClickItemIndex:QX,setMouseOverAxisIndex:mT,setMouseClickAxisIndex:WW,setSyncInteraction:Sv,setKeyboardInteraction:Nv}=dT.actions,KW=dT.reducer;function N1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(r),!0).forEach(function(n){HW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HW(e,t,r){return(t=GW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QW(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function YW(e){return e.index!=null}var hT=(e,t,r,n)=>{if(t==null)return Di;var i=QW(e,t,r);if(i==null)return Di;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(YW(i)){if(a)return Du(Du({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Du(Du({},Di),{},{coordinate:i.coordinate})},Sb=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!xr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},fT=(e,t,r,n,i,a,o,l)=>{if(!(a==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},gT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Ic=e=>e.options.tooltipPayloadSearcher,Po=e=>e.tooltip;function k1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function j1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(r),!0).forEach(function(n){XW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XW(e,t,r){return(t=JW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=eK(e,"string");return typeof t=="symbol"?t:t+""}function eK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tK(e,t){return e??t}var vT=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,p=[];return e.reduce((h,m)=>{var y,{dataDefinedOnItem:f,settings:g}=m,v=tK(f,l),b=Array.isArray(v)?HC(v,u,d):v,_=(y=g==null?void 0:g.dataKey)!==null&&y!==void 0?y:n,S=g==null?void 0:g.nameKey,w;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?w=q2(b,n,i):w=a(b,t,c,S),Array.isArray(w))w.forEach(j=>{var O=j1(j1({},g),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(uS({tooltipEntrySettings:O,dataKey:j.dataKey,payload:j.payload,value:sr(j.payload,j.dataKey),name:j.name}))});else{var N;h.push(uS({tooltipEntrySettings:g,dataKey:_,payload:w,value:sr(w,_),name:(N=sr(w,S))!==null&&N!==void 0?N:g==null?void 0:g.name}))}return h},p)}},Nb=ue([Ct,rt,jE,sb,At],ZE),rK=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),nK=ue([At,ko],AE),Mc=ue([rK,Ct,nK],PE,{memoizeOptions:{resultEqualityCheck:Um}}),iK=ue([Mc],e=>e.filter(pb)),aK=ue([Mc],zE,{memoizeOptions:{resultEqualityCheck:Um}}),Eo=ue([aK,ua],OE),sK=ue([iK,ua,Ct],SE),kb=ue([Eo,Ct,Mc],IE),yT=ue([Ct],fb),oK=ue([Ct],e=>e.allowDataOverflow),xT=ue([yT,oK],eE),lK=ue([Mc],e=>e.filter(pb)),cK=ue([sK,lK,Rm],FE),uK=ue([cK,ua,At,xT],RE),dK=ue([Mc],TE),pK=ue([Eo,Ct,dK,gb,At],BE,{memoizeOptions:{resultEqualityCheck:qm}}),mK=ue([qE,At,ko],Ao),hK=ue([mK,At],VE),fK=ue([UE,At,ko],Ao),gK=ue([fK,At],WE),vK=ue([$E,At,ko],Ao),yK=ue([vK,At],KE),xK=ue([hK,yK,gK],Np),bK=ue([Ct,yT,xT,uK,pK,xK,rt,At],HE),bT=ue([Ct,rt,Eo,kb,Rm,At,bK],GE),_K=ue([bT,Ct,Nb],QE),wK=ue([Ct,bT,_K,At],YE),_T=e=>{var t=At(e),r=ko(e),n=!1;return Oc(e,t,r,n)},wT=ue([Ct,_T],Dm),ST=ue([Ct,Nb,wK,wT],yb),SK=ue([rt,kb,Ct,At],rT),NK=ue([rt,kb,Ct,At],nT),kK=(e,t,r,n,i,a,o,l)=>{if(t){var{type:c}=t,u=oa(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Yr(i[0]-i[1])*2*p:p,u&&o?o.map((h,m)=>({coordinate:n(h)+p,value:h,index:m,offset:p})):n.domain().map((h,m)=>({coordinate:n(h)+p,value:a?a[h]:h,index:m,offset:p}))}}},wi=ue([rt,Ct,Nb,ST,_T,SK,NK,At],kK),jb=ue([oT,lT,LW],(e,t,r)=>cT(r.shared,e,t)),NT=e=>e.tooltip.settings.trigger,Ab=e=>e.tooltip.settings.defaultIndex,Km=ue([Po,jb,NT,Ab],hT),cc=ue([Km,Eo],Sb),kT=ue([wi,cc],uT),jK=ue([Km],e=>{if(e)return e.dataKey}),jT=ue([Po,jb,NT,Ab],gT),AK=ue([vi,yi,rt,Ut,wi,Ab,jT,Ic],fT),CK=ue([Km,AK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),PK=ue([Km],e=>e.active),EK=ue([jT,cc,ua,wE,kT,Ic,jb],vT),TK=ue([EK],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function A1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function C1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(r),!0).forEach(function(n){zK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zK(e,t,r){return(t=OK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=IK(e,"string");return typeof t=="symbol"?t:t+""}function IK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MK=()=>Te(Ct),FK=()=>{var e=MK(),t=Te(wi),r=Te(ST);return iv(C1(C1({},e),{},{scale:r}),t)},RK=()=>Te(sb),Cb=(e,t)=>t,AT=(e,t,r)=>r,Pb=(e,t,r,n)=>n,DK=ue(wi,e=>vm(e,t=>t.coordinate)),Eb=ue([Po,Cb,AT,Pb],hT),CT=ue([Eb,Eo],Sb),LK=(e,t,r)=>{if(t!=null){var n=Po(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},PT=ue([Po,Cb,AT,Pb],gT),kp=ue([vi,yi,rt,Ut,wi,Pb,PT,Ic],fT),BK=ue([Eb,kp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ET=ue(wi,CT,uT),qK=ue([PT,CT,ua,wE,ET,Ic,Cb],vT),UK=ue([Eb],e=>({isActive:e.active,activeIndex:e.index})),$K=(e,t,r,n,i,a,o,l)=>{if(!(!e||!t||!n||!i||!a)){var c=LU(e.chartX,e.chartY,t,r,l);if(c){var u=qU(c,t),d=PU(u,o,a,n,i),p=BU(t,a,d,c);return{activeIndex:String(d),activeCoordinate:p}}}};function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(null,arguments)}function P1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return(t=WK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=KK(e,"string");return typeof t=="symbol"?t:t+""}function KK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HK(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,p=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,y;if(u==="ScatterChart")m=d,y=i8;else if(u==="BarChart")m=a8(o,d,i,a),y=B8;else if(o==="radial"){var{cx:f,cy:g,radius:v,startAngle:b,endAngle:_}=hP(d);m={cx:f,cy:g,startAngle:b,endAngle:_,innerRadius:v,outerRadius:v},y=V8}else m={points:W8(o,d,i)},y=lP;var S=typeof l=="object"&&"className"in l?l.className:void 0,w=Lu(Lu(Lu(Lu({stroke:"#ccc",pointerEvents:"none"},i),m),om(l)),{},{payload:p,payloadIndex:h,className:Ke("recharts-tooltip-cursor",S)});return x.isValidElement(l)?x.cloneElement(l,w):x.createElement(y,w)}function GK(e){var t=FK(),r=aP(),n=zx(),i=RK();return x.createElement(HK,kv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var TT=x.createContext(null),ZK=()=>x.useContext(TT),zT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,p,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,p||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)t.call(d,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,m=p.length,y=new Array(m);h<m;h++)y[h]=p[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,d,p,h,m,y){var f=r?r+u:u;if(!this._events[f])return!1;var g=this._events[f],v=arguments.length,b,_;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,p),!0;case 4:return g.fn.call(g.context,d,p,h),!0;case 5:return g.fn.call(g.context,d,p,h,m),!0;case 6:return g.fn.call(g.context,d,p,h,m,y),!0}for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];g.fn.apply(g.context,b)}else{var S=g.length,w;for(_=0;_<S;_++)switch(g[_].once&&this.removeListener(u,g[_].fn,void 0,!0),v){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,p);break;case 4:g[_].fn.call(g[_].context,d,p,h);break;default:if(!b)for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];g[_].fn.apply(g[_].context,b)}}return!0},l.prototype.on=function(u,d,p){return a(this,u,d,p,!1)},l.prototype.once=function(u,d,p){return a(this,u,d,p,!0)},l.prototype.removeListener=function(u,d,p,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!p||y.context===p)&&o(this,m);else{for(var f=0,g=[],v=y.length;f<v;f++)(y[f].fn!==d||h&&!y[f].once||p&&y[f].context!==p)&&g.push(y[f]);g.length?this._events[m]=g.length===1?g[0]:g:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(zT);var QK=zT.exports;const YK=fi(QK);var uc=new YK,jv="recharts.syncEvent.tooltip",E1="recharts.syncEvent.brush";function XK(e,t){if(t){var r=Number.parseInt(t,10);if(!Sn(r))return e==null?void 0:e[r]}}var JK={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},OT=Lr({name:"options",initialState:JK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),eH=OT.reducer,{createEventEmitter:tH}=OT.actions;function rH(e){return e.tooltip.syncInteraction}var nH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},IT=Lr({name:"chartData",initialState:nH,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:T1,setDataStartEndIndexes:iH,setComputedData:YX}=IT.actions,aH=IT.reducer,sH=["x","y"];function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){oH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oH(e,t,r){return(t=lH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e){var t=cH(e,"string");return typeof t=="symbol"?t:t+""}function cH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uH(e,t){if(e==null)return{};var r,n,i=dH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MT=()=>{};function pH(){var e=Te(ob),t=Te(lb),r=Ot(),n=Te(fE),i=Te(wi),a=zx(),o=Am(),l=Te(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return MT;var c=(u,d,p)=>{if(t!==p&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:y,y:f}=m,g=uH(m,sH),{x:v,y:b,width:_,height:S}=d.payload.sourceViewBox,w=fs(fs({},g),{},{x:o.x+(_?(y-v)/_:0)*o.width,y:o.y+(S?(f-b)/S:0)*o.height});r(fs(fs({},d),{},{payload:fs(fs({},d.payload),{},{coordinate:w})}))}else r(d);return}if(i!=null){var N;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=n(i,j);N=i[O]}else n==="value"&&(N=i.find(K=>String(K.value)===d.payload.label));var{coordinate:E}=d.payload;if(N==null||d.payload.active===!1||E==null||o==null){r(Sv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:P,y:M}=E,T=Math.min(P,o.x+o.width),$=Math.min(M,o.y+o.height),C={x:a==="horizontal"?N.coordinate:T,y:a==="horizontal"?$:N.coordinate},U=Sv({active:d.payload.active,coordinate:C,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(U)}}};return uc.on(jv,c),()=>{uc.off(jv,c)}},[l,r,t,e,n,i,a,o])}function mH(){var e=Te(ob),t=Te(lb),r=Ot();x.useEffect(()=>{if(e==null)return MT;var n=(i,a,o)=>{t!==o&&e===i&&r(iH(a))};return uc.on(E1,n),()=>{uc.off(E1,n)}},[r,t,e])}function hH(){var e=Ot();x.useEffect(()=>{e(tH())},[e]),pH(),mH()}function fH(e,t,r,n,i,a){var o=Te(m=>LK(m,e,t)),l=Te(lb),c=Te(ob),u=Te(fE),d=Te(rH),p=d==null?void 0:d.active,h=Am();x.useEffect(()=>{if(!p&&c!=null&&l!=null){var m=Sv({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h});uc.emit(jv,c,m,l)}},[p,r,o,i,n,l,c,u,a,h])}function O1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(r),!0).forEach(function(n){gH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gH(e,t,r){return(t=vH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xH(e){return e.dataKey}function bH(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(F$,t)}var M1=[],_H={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!_o.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wH(e){var t=sn(e,_H),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:p,reverseDirection:h,useTranslate3d:m,wrapperStyle:y,cursor:f,shared:g,trigger:v,defaultIndex:b,portal:_,axisId:S}=t,w=Ot(),N=typeof b=="number"?String(b):b;x.useEffect(()=>{w($W({shared:g,trigger:v,axisId:S,active:r,defaultIndex:N}))},[w,g,v,S,r,N]);var j=Am(),O=oP(),E=DW(g),{activeIndex:P,isActive:M}=Te(se=>UK(se,E,v,N)),T=Te(se=>qK(se,E,v,N)),$=Te(se=>ET(se,E,v,N)),C=Te(se=>BK(se,E,v,N)),U=T,K=ZK(),F=r??M,[H,G]=bC([U,F]),ie=E==="axis"?$:void 0;fH(E,v,C,ie,P,F);var J=_??K;if(J==null)return null;var Y=U??M1;F||(Y=M1),l&&Y.length&&(Y=lC(U.filter(se=>se.value!=null&&(se.hide!==!0||t.includeHidden)),d,xH));var pe=Y.length>0,oe=x.createElement($$,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:F,coordinate:C,hasPayload:pe,offset:u,position:p,reverseDirection:h,useTranslate3d:m,viewBox:j,wrapperStyle:y,lastBoundingBox:H,innerRef:G,hasPortalFromProps:!!_},bH(o,I1(I1({},t),{},{payload:Y,label:ie,active:F,coordinate:C,accessibilityLayer:O})));return x.createElement(x.Fragment,null,Py.createPortal(oe,J),F&&x.createElement(GK,{cursor:f,tooltipEventType:E,coordinate:C,payload:U,index:P}))}function SH(e,t,r){return(t=NH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jH{constructor(t){SH(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function F1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(r),!0).forEach(function(n){CH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CH(e,t,r){return(t=PH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=EH(e,"string");return typeof t=="symbol"?t:t+""}function EH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TH={cacheSize:2e3,enableCache:!0},FT=AH({},TH),R1=new jH(FT.cacheSize),zH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},D1="recharts_measurement_span";function OH(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var L1=(e,t)=>{try{var r=document.getElementById(D1);r||(r=document.createElement("span"),r.setAttribute("id",D1),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,zH,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Nl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||_o.isSsr)return{width:0,height:0};if(!FT.enableCache)return L1(t,r);var n=OH(t,r),i=R1.get(n);if(i)return i;var a=L1(t,r);return R1.set(n,a),a},B1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FH=Object.keys(RT),zs="NaN";function RH(e,t){return e*RT[t]}class dr{static parse(t){var r,[,n,i]=(r=MH.exec(t))!==null&&r!==void 0?r:[];return new dr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Sn(t)&&(this.unit=""),r!==""&&!IH.test(r)&&(this.num=NaN,this.unit=""),FH.includes(r)&&(this.num=RH(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Sn(this.num)}}function DT(e){if(e.includes(zs))return zs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=B1.exec(t))!==null&&r!==void 0?r:[],o=dr.parse(n??""),l=dr.parse(a??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return zs;t=t.replace(B1,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,p,h]=(u=q1.exec(t))!==null&&u!==void 0?u:[],m=dr.parse(d??""),y=dr.parse(h??""),f=p==="+"?m.add(y):m.subtract(y);if(f.isNaN())return zs;t=t.replace(q1,f.toString())}return t}var U1=/\(([^()]*)\)/;function DH(e){for(var t=e,r;(r=U1.exec(t))!=null;){var[,n]=r;t=t.replace(U1,DT(n))}return t}function LH(e){var t=e.replace(/\s+/g,"");return t=DH(t),t=DT(t),t}function BH(e){try{return LH(e)}catch{return zs}}function ff(e){var t=BH(e.slice(5,-1));return t===zs?"":t}var qH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],UH=["dx","dy","angle","className","breakAll"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function $1(e,t){if(e==null)return{};var r,n,i=$H(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $H(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LT=/[ \f\n\r\t\v\u2028\u2029]+/,BT=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];zt(t)||(r?i=t.toString().split(""):i=t.toString().split(LT));var a=i.map(l=>({word:l,width:Nl(l,n).width})),o=r?0:Nl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},VH=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:l,breakAll:c}=e,u=ze(a),d=o,p=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((T,$)=>{var{word:C,width:U}=$,K=T[T.length-1];if(K&&(n==null||i||K.width+U+r<Number(n)))K.words.push(C),K.width+=U+r;else{var F={words:[C],width:U};T.push(F)}return T},[])},h=p(t),m=P=>P.reduce((M,T)=>M.width>T.width?M:T);if(!u||i)return h;var y=h.length>a||m(h).width>Number(n);if(!y)return h;for(var f="",g=P=>{var M=d.slice(0,P),T=BT({breakAll:c,style:l,children:M+f}).wordsWithComputedWidth,$=p(T),C=$.length>a||m($).width>Number(n);return[C,$]},v=0,b=d.length-1,_=0,S;v<=b&&_<=d.length-1;){var w=Math.floor((v+b)/2),N=w-1,[j,O]=g(N),[E]=g(w);if(!j&&!E&&(v=w+1),j&&E&&(b=w-1),!j&&E){S=O;break}_++}return S||h},V1=e=>{var t=zt(e)?[]:e.toString().split(LT);return[{words:t}]},WH=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!_o.isSsr){var l,c,u=BT({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:p}=u;l=d,c=p}else return V1(n);return VH({breakAll:a,children:n,maxLines:o,style:i},l,c,t,r)}return V1(n)},W1="#808080",Tb=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=W1}=e,d=$1(e,qH),p=x.useMemo(()=>WH({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:h,dy:m,angle:y,className:f,breakAll:g}=d,v=$1(d,UH);if(!$n(r)||!$n(n)||p.length===0)return null;var b=r+(ze(h)?h:0),_=n+(ze(m)?m:0),S;switch(c){case"start":S=ff("calc(".concat(a,")"));break;case"middle":S=ff("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:S=ff("calc(".concat(p.length-1," * -").concat(i,")"));break}var w=[];if(o){var N=p[0].width,{width:j}=d;w.push("scale(".concat(ze(j)?j/N:1,")"))}return y&&w.push("rotate(".concat(y,", ").concat(b,", ").concat(_,")")),w.length&&(v.transform=w.join(" ")),x.createElement("text",Av({},Or(v),{ref:t,x:b,y:_,className:Ke("recharts-text",f),textAnchor:l,fill:u.includes("url")?W1:u}),p.map((O,E)=>{var P=O.words.join(g?"":" ");return x.createElement("tspan",{x:b,dy:E===0?S:i,key:"".concat(P,"-").concat(E)},P)}))});Tb.displayName="Text";var KH=["labelRef"];function HH(e,t){if(e==null)return{};var r,n,i=GH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){ZH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZH(e,t,r){return(t=QH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xn.apply(null,arguments)}var qT=x.createContext(null),XH=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,o=x.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return x.createElement(qT.Provider,{value:o},a)},UT=()=>{var e=x.useContext(qT),t=Am();return e||t},JH=x.createContext(null),eG=()=>{var e=x.useContext(JH),t=Te(bE);return e||t},tG=e=>{var{value:t,formatter:r}=e,n=zt(e.children)?t:e.children;return typeof r=="function"?r(n):n},zb=e=>e!=null&&typeof e=="function",rG=(e,t)=>{var r=Yr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},nG=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:p,endAngle:h,clockWise:m}=i,y=(u+d)/2,f=rG(p,h),g=f>=0?1:-1,v,b;switch(t){case"insideStart":v=p+g*a,b=m;break;case"insideEnd":v=h-g*a,b=!m;break;case"end":v=h+g*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=f<=0?b:!b;var _=Dt(l,c,y,v),S=Dt(l,c,y,v+(b?1:-1)*359),w="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=zt(e.id)?Jl("recharts-radial-line-"):e.id;return x.createElement("text",Xn({},n,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:N,d:w})),x.createElement("textPath",{xlinkHref:"#".concat(N)},r))},iG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:p}=Dt(n,i,o+t,u);return{x:d,y:p,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:m,y}=Dt(n,i,h,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},$T=e=>"cx"in e&&ze(e.cx),aG=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!$T(r)&&(a=r);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,p=d*n,h=d>0?"end":"start",m=d>0?"start":"end",y=c>=0?1:-1,f=y*n,g=y>0?"end":"start",v=y>0?"start":"end";if(i==="top"){var b={x:o+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:h};return dt(dt({},b),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var _={x:o+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:m};return dt(dt({},_),a?{height:Math.max(a.y+a.height-(l+u),0),width:c}:{})}if(i==="left"){var S={x:o-f,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return dt(dt({},S),a?{width:Math.max(S.x-a.x,0),height:u}:{})}if(i==="right"){var w={x:o+c+f,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return dt(dt({},w),a?{width:Math.max(a.x+a.width-w.x,0),height:u}:{})}var N=a?{width:c,height:u}:{};return i==="insideLeft"?dt({x:o+f,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideRight"?dt({x:o+c-f,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},N):i==="insideTop"?dt({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:m},N):i==="insideBottom"?dt({x:o+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},N):i==="insideTopLeft"?dt({x:o+f,y:l+p,textAnchor:v,verticalAnchor:m},N):i==="insideTopRight"?dt({x:o+c-f,y:l+p,textAnchor:g,verticalAnchor:m},N):i==="insideBottomLeft"?dt({x:o+f,y:l+u-p,textAnchor:v,verticalAnchor:h},N):i==="insideBottomRight"?dt({x:o+c-f,y:l+u-p,textAnchor:g,verticalAnchor:h},N):i&&typeof i=="object"&&(ze(i.x)||ui(i.x))&&(ze(i.y)||ui(i.y))?dt({x:o+ea(i.x,c),y:l+ea(i.y,u),textAnchor:"end",verticalAnchor:"end"},N):dt({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},sG={offset:5};function Ii(e){var t=sn(e,sG),{viewBox:r,position:n,value:i,children:a,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=eG(),p=UT(),h=n==="center"?p:d??p,m=r||h;if(!m||zt(i)&&zt(a)&&!x.isValidElement(o)&&typeof o!="function")return null;var y=dt(dt({},t),{},{viewBox:m});if(x.isValidElement(o)){var{labelRef:f}=y,g=HH(y,KH);return x.cloneElement(o,g)}var v;if(typeof o=="function"){if(v=x.createElement(o,y),x.isValidElement(v))return v}else v=tG(t);var b=$T(m),_=Or(t);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return nG(t,n,v,_,m);var S=b?iG(m,t.offset,t.position):aG(t,m);return x.createElement(Tb,Xn({ref:u,className:Ke("recharts-label",l)},_,S,{breakAll:c}),v)}Ii.displayName="Label";var oG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Ii,Xn({key:"label-implicit"},n)):$n(e)?x.createElement(Ii,Xn({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Ii?x.cloneElement(e,dt({key:"label-implicit"},n)):x.createElement(Ii,Xn({key:"label-implicit",content:e},n)):zb(e)?x.createElement(Ii,Xn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Ii,Xn({},e,{key:"label-implicit"},n)):null};function lG(e){var{label:t,labelRef:r}=e,n=UT();return oG(t,n,r)||null}var VT={},WT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(WT);var KT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(KT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WT,r=KT,n=fm;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(VT);var cG=VT.last;const uG=fi(cG);var dG=["valueAccessor"],pG=["dataKey","clockWise","id","textBreakAll"];function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(null,arguments)}function H1(e,t){if(e==null)return{};var r,n,i=mG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hG=e=>Array.isArray(e.value)?uG(e.value):e.value,HT=x.createContext(void 0),fG=HT.Provider,GT=x.createContext(void 0);GT.Provider;function gG(){return x.useContext(HT)}function vG(){return x.useContext(GT)}function dd(e){var{valueAccessor:t=hG}=e,r=H1(e,dG),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,l=H1(r,pG),c=gG(),u=vG(),d=c||u;return!d||!d.length?null:x.createElement(bo,{className:"recharts-label-list"},d.map((p,h)=>{var m,y=zt(n)?t(p,h):sr(p&&p.payload,n),f=zt(a)?{}:{id:"".concat(a,"-").concat(h)};return x.createElement(Ii,jp({key:"label-".concat(h)},Or(p),l,f,{fill:(m=r.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:o,viewBox:p.viewBox,index:h}))}))}dd.displayName="LabelList";function yG(e){var{label:t}=e;return t?t===!0?x.createElement(dd,{key:"labelList-implicit"}):x.isValidElement(t)||zb(t)?x.createElement(dd,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(dd,jp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(null,arguments)}var ZT=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Ke("recharts-dot",i);return t===+t&&r===+r&&n===+n?x.createElement("circle",Cv({},Un(e),cx(e),{className:a,cx:t,cy:r,r:n})):null},xG={radiusAxis:{},angleAxis:{}},QT=Lr({name:"polarAxis",initialState:xG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:XX,removeRadiusAxis:JX,addAngleAxis:eJ,removeAngleAxis:tJ}=QT.actions,bG=QT.reducer,YT=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function _G(e){var{fn:t,args:r}=e,n=Ot(),i=Br();return x.useLayoutEffect(()=>{if(!i){var a=t(r);return n(qW(a)),()=>{n(UW(a))}}},[t,r,n,i]),null}var wG=()=>{};function SG(e){var{legendPayload:t}=e,r=Ot(),n=Br();return x.useLayoutEffect(()=>n?wG:(r(y$(t)),()=>{r(x$(t))}),[r,n,t]),null}var gf,NG=()=>{var[e]=x.useState(()=>Jl("uid-"));return e},kG=(gf=NN.useId)!==null&&gf!==void 0?gf:NG;function jG(e,t){var r=kG();return t||(e?"".concat(e,"-").concat(r):r)}var AG=x.createContext(void 0),CG=e=>{var{id:t,type:r,children:n}=e,i=jG("recharts-".concat(r),t);return x.createElement(AG.Provider,{value:i},n(i))},PG={cartesianItems:[],polarItems:[]},XT=Lr({name:"graphicalItems",initialState:PG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:nr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ii(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:nr()},removeCartesianGraphicalItem:{reducer(e,t){var r=ii(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:nr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:nr()},removePolarGraphicalItem:{reducer(e,t){var r=ii(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:nr()}}}),{addCartesianGraphicalItem:EG,replaceCartesianGraphicalItem:TG,removeCartesianGraphicalItem:zG,addPolarGraphicalItem:rJ,removePolarGraphicalItem:nJ}=XT.actions,OG=XT.reducer;function IG(e){var t=Ot(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(EG(e)):r.current!==e&&t(TG({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(zG(r.current)),r.current=null)},[t]),null}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){MG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=RG(e,"string");return typeof t=="symbol"?t:t+""}function RG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DG={xAxis:{},yAxis:{},zAxis:{}},JT=Lr({name:"cartesianAxis",initialState:DG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:nr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:nr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:nr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:nr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:nr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:nr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=Z1(Z1({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:LG,removeXAxis:BG,addYAxis:qG,removeYAxis:UG,addZAxis:iJ,removeZAxis:aJ,updateYAxisWidth:$G}=JT.actions,VG=JT.reducer,WG=ue([Ut],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),KG=ue([WG,vi,yi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Ob=()=>Te(KG),HG=()=>Te(TK);function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){GG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GG(e,t,r){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=QG(e,"string");return typeof t=="symbol"?t:t+""}function QG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YG=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=Y1(Y1({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},om(i)),cx(i)),l;return x.isValidElement(i)?l=x.cloneElement(i,o):typeof i=="function"?l=i(o):l=x.createElement(ZT,o),x.createElement(bo,{className:"recharts-active-dot"},l)};function XG(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=Te(cc),o=HG();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return zt(l)?null:YG({point:l,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var JG={},ez=Lr({name:"errorBars",initialState:JG,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:sJ,replaceErrorBar:oJ,removeErrorBar:lJ}=ez.actions,eZ=ez.reducer,tZ=["children"];function rZ(e,t){if(e==null)return{};var r,n,i=nZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},aZ=x.createContext(iZ);function sZ(e){var{children:t}=e,r=rZ(e,tZ);return x.createElement(aZ.Provider,{value:r},t)}function tz(e,t){var r,n,i=Te(u=>bi(u,e)),a=Te(u=>_i(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:_r.allowDataOverflow,l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:wr.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function oZ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Ob(),{needClipX:a,needClipY:o,needClip:l}=tz(t,r);if(!l)return null;var{x:c,y:u,width:d,height:p}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:a?c:c-d/2,y:o?u:u-p/2,width:a?d:d*2,height:o?p:p*2}))}var lZ=e=>{var{chartData:t}=e,r=Ot(),n=Br();return x.useEffect(()=>n?()=>{}:(r(T1(t)),()=>{r(T1(void 0))}),[t,r,n]),null},X1={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rz=Lr({name:"brush",initialState:X1,reducers:{setBrushSettings(e,t){return t.payload==null?X1:t.payload}}}),{setBrushSettings:cJ}=rz.actions,cZ=rz.reducer;function uZ(e,t,r){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ib{static create(t){return new Ib(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}uZ(Ib,"EPS",1e-4);function mZ(e){return(e%180+180)%180}var hZ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=mZ(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},fZ={dots:[],areas:[],lines:[]},nz=Lr({name:"referenceElements",initialState:fZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ii(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ii(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ii(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:uJ,removeDot:dJ,addArea:pJ,removeArea:mJ,addLine:hJ,removeLine:fJ}=nz.actions,gZ=nz.reducer,vZ=x.createContext(void 0),yZ=e=>{var{children:t}=e,[r]=x.useState("".concat(Jl("recharts"),"-clip")),n=Ob();if(n==null)return null;var{x:i,y:a,width:o,height:l}=n;return x.createElement(vZ.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function lo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function iz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function xZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return hZ(n,r)}function bZ(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Ap(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function _Z(e,t){return iz(e,t+1)}function wZ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,p=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:iz(n,u)};var f=c,g,v=()=>(g===void 0&&(g=r(y,f)),g),b=y.coordinate,_=c===0||Ap(e,b,v,d,l);_||(c=0,d=o,u+=1),_&&(d=b+e*(v()/2+i),c+=u)},h;u<=a.length;)if(h=p(),h)return h.v;return[]}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){SZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SZ(e,t,r){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jZ(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:l}=t,{end:c}=t,u=function(h){var m=a[h],y,f=()=>(y===void 0&&(y=r(m,h)),y);if(h===o-1){var g=e*(m.coordinate+e*f()/2-c);a[h]=m=Gt(Gt({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else a[h]=m=Gt(Gt({},m),{},{tickCoord:m.coordinate});var v=Ap(e,m.tickCoord,f,l,c);v&&(c=m.tickCoord-e*(f()/2+i),a[h]=Gt(Gt({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function AZ(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(a){var d=n[l-1],p=r(d,l-1),h=e*(d.coordinate+e*p/2-u);o[l-1]=d=Gt(Gt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ap(e,d.tickCoord,()=>p,c,u);m&&(u=d.tickCoord-e*(p/2+i),o[l-1]=Gt(Gt({},d),{},{isShow:!0}))}for(var y=a?l-1:l,f=function(b){var _=o[b],S,w=()=>(S===void 0&&(S=r(_,b)),S);if(b===0){var N=e*(_.coordinate-e*w()/2-c);o[b]=_=Gt(Gt({},_),{},{tickCoord:N<0?_.coordinate-N*e:_.coordinate})}else o[b]=_=Gt(Gt({},_),{},{tickCoord:_.coordinate});var j=Ap(e,_.tickCoord,w,c,u);j&&(c=_.tickCoord+e*(w()/2+i),o[b]=Gt(Gt({},_),{},{isShow:!0}))},g=0;g<y;g++)f(g);return o}function Mb(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:p}=e;if(!i||!i.length||!n)return[];if(ze(c)||_o.isSsr){var h;return(h=_Z(i,ze(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],y=l==="top"||l==="bottom"?"width":"height",f=d&&y==="width"?Nl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(_,S)=>{var w=typeof u=="function"?u(_.value,S):_.value;return y==="width"?xZ(Nl(w,{fontSize:t,letterSpacing:r}),f,p):Nl(w,{fontSize:t,letterSpacing:r})[y]},v=i.length>=2?Yr(i[1].coordinate-i[0].coordinate):1,b=bZ(a,v,y);return c==="equidistantPreserveStart"?wZ(v,b,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=AZ(v,b,g,i,o,c==="preserveStartEnd"):m=jZ(v,b,g,i,o),m.filter(_=>_.isShow))}var CZ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+a,u=o+c+l+(r?n:0);return Math.round(u)}return 0},PZ=["axisLine","width","height","className","hide","ticks"],EZ=["viewBox"],TZ=["viewBox"];function Pv(e,t){if(e==null)return{};var r,n,i=zZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(null,arguments)}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){OZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OZ(e,t,r){return(t=IZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IZ(e){var t=MZ(e,"string");return typeof t=="symbol"?t:t+""}function MZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fb={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function FZ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=wt(wt(wt({},c),Un(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);u=wt(wt({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);u=wt(wt({},u),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return x.createElement("line",Qa({},u,{className:Ke("recharts-cartesian-axis-line",hm(l,"className"))}))}function RZ(e,t,r,n,i,a,o,l,c){var u,d,p,h,m,y,f=l?-1:1,g=e.tickSize||o,v=ze(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=r+ +!l*i,p=h-f*g,y=p-f*c,m=v;break;case"left":p=h=e.coordinate,d=t+ +!l*n,u=d-f*g,m=u-f*c,y=v;break;case"right":p=h=e.coordinate,d=t+ +l*n,u=d+f*g,m=u+f*c,y=v;break;default:u=d=e.coordinate,h=r+ +l*i,p=h+f*g,y=p+f*c,m=v;break}return{line:{x1:u,y1:p,x2:d,y2:h},tick:{x:m,y}}}function DZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function LZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function BZ(e){var{option:t,tickProps:r,value:n}=e,i,a=Ke(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,wt(wt({},r),{},{className:a}));else if(typeof t=="function")i=t(wt(wt({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ke(o,t==null?void 0:t.className)),i=x.createElement(Tb,Qa({},r,{className:o}),n)}return i}function qZ(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:p,y:h,width:m,height:y,tickSize:f,tickMargin:g,fontSize:v,letterSpacing:b,getTicksConfig:_,events:S}=e,w=Mb(wt(wt({},_),{},{ticks:t}),v,b),N=DZ(u,d),j=LZ(u,d),O=Un(_),E=om(r),P={};typeof n=="object"&&(P=n);var M=wt(wt({},O),{},{fill:"none"},P),T=w.map(($,C)=>{var{line:U,tick:K}=RZ($,p,h,m,y,u,f,d,g),F=wt(wt(wt(wt({textAnchor:N,verticalAnchor:j},O),{},{stroke:"none",fill:i},E),K),{},{index:C,payload:$,visibleTicksCount:w.length,tickFormatter:a,padding:l},c);return x.createElement(bo,Qa({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},V2(S,$,C)),n&&x.createElement("line",Qa({},M,U,{className:Ke("recharts-cartesian-axis-tick-line",hm(n,"className"))})),r&&x.createElement(BZ,{option:r,tickProps:F,value:"".concat(typeof a=="function"?a($.value,C):$.value).concat(o||"")}))});return T.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},T):null}var UZ=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:l}=e,c=Pv(e,PZ),[u,d]=x.useState(""),[p,h]=x.useState(""),m=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var f;return CZ({ticks:m.current,label:(f=e.labelRef)===null||f===void 0?void 0:f.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=x.useCallback(f=>{if(f){var g=f.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=g;var v=g[0];if(v){var b=window.getComputedStyle(v),_=b.fontSize,S=b.letterSpacing;(_!==u||S!==p)&&(d(_),h(S))}}},[u,p]);return o||n!=null&&n<=0||i!=null&&i<=0?null:x.createElement(bo,{className:Ke("recharts-cartesian-axis",a),ref:y},x.createElement(FZ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Un(e)}),x.createElement(qZ,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:p,getTicksConfig:e,events:c}),x.createElement(XH,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(lG,{label:e.label,labelRef:e.labelRef}),e.children))}),$Z=x.memo(UZ,(e,t)=>{var{viewBox:r}=e,n=Pv(e,EZ),{viewBox:i}=t,a=Pv(t,TZ);return lo(r,i)&&lo(n,a)}),Rb=x.forwardRef((e,t)=>{var r=sn(e,Fb);return x.createElement($Z,Qa({},r,{ref:t}))});Rb.displayName="CartesianAxis";var VZ=["x1","y1","x2","y2","key"],WZ=["offset"],KZ=["xAxisId","yAxisId"],HZ=["xAxisId","yAxisId"];function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){GZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GZ(e,t,r){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(null,arguments)}function Cp(e,t){if(e==null)return{};var r,n,i=YZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:l}=e;return x.createElement("rect",{x:n,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function az(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:o,key:l}=t,c=Cp(t,VZ),u=Un(c),{offset:d}=u,p=Cp(u,WZ);r=x.createElement("line",Ca({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function JZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Cp(e,KZ),c=i.map((u,d)=>{var p=Yt(Yt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return az(n,p)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function eQ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Cp(e,HZ),c=i.map((u,d)=>{var p=Yt(Yt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return az(n,p)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function tQ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(p=>Math.round(p+i-i)).sort((p,h)=>p-h);i!==u[0]&&u.unshift(0);var d=u.map((p,h)=>{var m=!u[h+1],y=m?i+o-p:u[h+1]-p;if(y<=0)return null;var f=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:y,width:a,stroke:"none",fill:t[f],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function rQ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(p=>Math.round(p+i-i)).sort((p,h)=>p-h);i!==u[0]&&u.unshift(0);var d=u.map((p,h)=>{var m=!u[h+1],y=m?i+o-p:u[h+1]-p;if(y<=0)return null;var f=h%r.length;return x.createElement("rect",{key:"react-".concat(h),x:p,y:a,width:y,height:l,stroke:"none",fill:r[f],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var nQ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return GC(Mb(Yt(Yt(Yt({},Fb),r),{},{ticks:ZC(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},iQ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return GC(Mb(Yt(Yt(Yt({},Fb),r),{},{ticks:ZC(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},aQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function sz(e){var t=Ex(),r=Tx(),n=aP(),i=Yt(Yt({},sn(e,aQ)),{},{x:ze(e.x)?e.x:n.left,y:ze(e.y)?e.y:n.top,width:ze(e.width)?e.width:n.width,height:ze(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:p,horizontalValues:h,verticalValues:m}=i,y=Br(),f=Te(E=>S1(E,"xAxis",a,y)),g=Te(E=>S1(E,"yAxis",o,y));if(!ze(u)||u<=0||!ze(d)||d<=0||!ze(l)||l!==+l||!ze(c)||c!==+c)return null;var v=i.verticalCoordinatesGenerator||nQ,b=i.horizontalCoordinatesGenerator||iQ,{horizontalPoints:_,verticalPoints:S}=i;if((!_||!_.length)&&typeof b=="function"){var w=h&&h.length,N=b({yAxis:g?Yt(Yt({},g),{},{ticks:w?h:g.ticks}):void 0,width:t,height:r,offset:n},w?!0:p);cp(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(_=N)}if((!S||!S.length)&&typeof v=="function"){var j=m&&m.length,O=v({xAxis:f?Yt(Yt({},f),{},{ticks:j?m:f.ticks}):void 0,width:t,height:r,offset:n},j?!0:p);cp(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(XZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(tQ,Ca({},i,{horizontalPoints:_})),x.createElement(rQ,Ca({},i,{verticalPoints:S})),x.createElement(JZ,Ca({},i,{offset:n,horizontalPoints:_,xAxis:f,yAxis:g})),x.createElement(eQ,Ca({},i,{offset:n,verticalPoints:S,xAxis:f,yAxis:g})))}sz.displayName="CartesianGrid";var oz=(e,t,r,n)=>sT(e,"xAxis",t,n),lz=(e,t,r,n)=>aT(e,"xAxis",t,n),cz=(e,t,r,n)=>sT(e,"yAxis",r,n),uz=(e,t,r,n)=>aT(e,"yAxis",r,n),sQ=ue([rt,oz,cz,lz,uz],(e,t,r,n,i)=>oa(e,"xAxis")?iv(t,n,!1):iv(r,i,!1)),oQ=(e,t,r,n,i)=>i;function lQ(e){return e.type==="line"}var cQ=ue([CE,oQ],(e,t)=>e.filter(lQ).find(r=>r.id===t)),uQ=ue([rt,oz,cz,lz,uz,cQ,sQ,nb],(e,t,r,n,i,a,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:p,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return OQ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:m})}});function dQ(e){var t=om(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var pQ=["id"],mQ=["type","layout","connectNulls","needClip"],hQ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){fQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fQ(e,t,r){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Db(e,t){if(e==null)return{};var r,n,i=yQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ya.apply(null,arguments)}var xQ=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:QC(r,t),payload:e}]};function bQ(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:QC(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var dz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function _Q(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var wQ=(e,t,r)=>{var n=r.reduce((p,h)=>p+h);if(!n)return dz(t,e);for(var i=Math.floor(e/n),a=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>a){l=[...r.slice(0,c),a-u];break}var d=l.length%2===0?[0,o]:[o];return[..._Q(r,i),...l,...d].map(p=>"".concat(p,"px")).join(", ")};function SQ(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ke("recharts-line-dot",typeof e!="boolean"?e.className:"");r=x.createElement(ZT,Ya({},t,{className:n}))}return r}function NQ(e,t){return e==null?!1:t?!0:e.length===1}function kQ(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:o}=n;if(!NQ(r,i))return null;var{id:l}=n,c=Db(n,pQ),u=YT(i),d=Un(c),p=OB(i),h=r.map((y,f)=>{var g=kr(kr(kr({key:"dot-".concat(f),r:3},d),p),{},{index:f,cx:y.x,cy:y.y,dataKey:a,value:y.value,payload:y.payload,points:r});return SQ(i,g)}),m={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return x.createElement(bo,Ya({className:"recharts-line-dots",key:"dots"},m),h)}function jQ(e){var{showLabels:t,children:r,points:n}=e,i=x.useMemo(()=>n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return kr(kr({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(fG,{value:t?i:null},r)}function nN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:o,layout:l,connectNulls:c,needClip:u}=a,d=Db(a,mQ),p=kr(kr({},Or(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(lP,Ya({},p,{pathRef:r})),x.createElement(kQ,{points:n,clipPathId:t,props:a}))}function AQ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function CQ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:p,animateNewValues:h,width:m,height:y,onAnimationEnd:f,onAnimationStart:g}=r,v=i.current,b=mP(r,"recharts-line-"),[_,S]=x.useState(!1),w=!_,N=x.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),j=x.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]),O=AQ(n.current),E=a.current;return x.createElement(jQ,{points:o,showLabels:w},r.children,x.createElement(pP,{animationId:b,begin:u,duration:d,isActive:c,easing:p,onAnimationEnd:N,onAnimationStart:j,key:b},P=>{var M=Qn(E,O+E,P),T=Math.min(M,O),$;if(c)if(l){var C="".concat(l).split(/[,\s]+/gim).map(F=>parseFloat(F));$=wQ(T,O,C)}else $=dz(O,T);else $=l==null?void 0:String(l);if(v){var U=v.length/o.length,K=P===1?o:o.map((F,H)=>{var G=Math.floor(H*U);if(v[G]){var ie=v[G];return kr(kr({},F),{},{x:Qn(ie.x,F.x,P),y:Qn(ie.y,F.y,P)})}return h?kr(kr({},F),{},{x:Qn(m*2,F.x,P),y:Qn(y/2,F.y,P)}):kr(kr({},F),{},{x:F.x,y:F.y})});return i.current=K,x.createElement(nN,{props:r,points:K,clipPathId:t,pathRef:n,strokeDasharray:$})}return P>0&&O>0&&(i.current=o,a.current=T),x.createElement(nN,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:$})}),x.createElement(yG,{label:r.label}))}function PQ(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(CQ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var EQ=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:sr(e.payload,t)});class TQ extends x.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:o,top:l,left:c,width:u,height:d,id:p,needClip:h}=this.props;if(t)return null;var m=Ke("recharts-line",i),y=p,{r:f,strokeWidth:g}=dQ(r),v=YT(r),b=f*2+g;return x.createElement(x.Fragment,null,x.createElement(bo,{className:m},h&&x.createElement("defs",null,x.createElement(oZ,{clipPathId:y,xAxisId:a,yAxisId:o}),!v&&x.createElement("clipPath",{id:"clipPath-dots-".concat(y)},x.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),x.createElement(sZ,{xAxisId:a,yAxisId:o,data:n,dataPointFormatter:EQ,errorBarOffset:0},x.createElement(PQ,{props:this.props,clipPathId:y}))),x.createElement(XG,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var pz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!_o.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function zQ(e){var t=sn(e,pz),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:p,legendType:h,xAxisId:m,yAxisId:y,id:f}=t,g=Db(t,hQ),{needClip:v}=tz(m,y),b=Ob(),_=zx(),S=Br(),w=Te(P=>uQ(P,m,y,S,f));if(_!=="horizontal"&&_!=="vertical"||w==null||b==null)return null;var{height:N,width:j,x:O,y:E}=b;return x.createElement(TQ,Ya({},g,{id:f,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:u,label:p,legendType:h,xAxisId:m,yAxisId:y,points:w,layout:_,height:N,width:j,left:O,top:E,needClip:v}))}function OQ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var p=sr(u,o);if(t==="horizontal"){var h=oS({axis:r,ticks:i,bandSize:l,entry:u,index:d}),m=zt(p)?null:n.scale(p);return{x:h,y:m,value:p,payload:u}}var y=zt(p)?null:r.scale(p),f=oS({axis:n,ticks:a,bandSize:l,entry:u,index:d});return y==null||f==null?null:{x:y,y:f,value:p,payload:u}}).filter(Boolean)}function IQ(e){var t=sn(e,pz),r=Br();return x.createElement(CG,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(SG,{legendPayload:xQ(t)}),x.createElement(_G,{fn:bQ,args:t}),x.createElement(IG,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(zQ,Ya({},t,{id:n}))))}var pd=x.memo(IQ);pd.displayName="Line";var MQ=["dangerouslySetInnerHTML","ticks"],FQ=["id"],RQ=["domain"],DQ=["domain"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(null,arguments)}function Pp(e,t){if(e==null)return{};var r,n,i=LQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BQ(e){var t=Ot();return x.useLayoutEffect(()=>(t(LG(e)),()=>{t(BG(e))}),[e,t]),null}var qQ=e=>{var{xAxisId:t,className:r}=e,n=Te(XC),i=Br(),a="xAxis",o=Te(g=>Co(g,a,t,i)),l=Te(g=>iT(g,a,t,i)),c=Te(g=>NW(g,t)),u=Te(g=>EW(g,t)),d=Te(g=>NE(g,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:h}=e,m=Pp(e,MQ),{id:y}=d,f=Pp(d,FQ);return x.createElement(Rb,Ev({},m,f,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Ke("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:l}))},UQ={allowDataOverflow:_r.allowDataOverflow,allowDecimals:_r.allowDecimals,allowDuplicatedCategory:_r.allowDuplicatedCategory,height:_r.height,hide:!1,mirror:_r.mirror,orientation:_r.orientation,padding:_r.padding,reversed:_r.reversed,scale:_r.scale,tickCount:_r.tickCount,type:_r.type,xAxisId:0},$Q=e=>{var t,r,n,i,a,o=sn(e,UQ);return x.createElement(x.Fragment,null,x.createElement(BQ,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(qQ,o))},VQ=(e,t)=>{var{domain:r}=e,n=Pp(e,RQ),{domain:i}=t,a=Pp(t,DQ);return lo(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:lo({domain:r},{domain:i}):!1},mz=x.memo($Q,VQ);mz.displayName="XAxis";var WQ=["dangerouslySetInnerHTML","ticks"],KQ=["id"],HQ=["domain"],GQ=["domain"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(null,arguments)}function Ep(e,t){if(e==null)return{};var r,n,i=ZQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QQ(e){var t=Ot();return x.useLayoutEffect(()=>(t(qG(e)),()=>{t(UG(e))}),[e,t]),null}var YQ=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=x.useRef(null),o=x.useRef(null),l=Te(XC),c=Br(),u=Ot(),d="yAxis",p=Te(w=>Co(w,d,t,c)),h=Te(w=>OW(w,t)),m=Te(w=>zW(w,t)),y=Te(w=>iT(w,d,t,c)),f=Te(w=>kE(w,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!h||zb(i)||x.isValidElement(i)||f==null)){var w=a.current;if(w){var N=w.getCalculatedWidth();Math.round(h.width)!==Math.round(N)&&u($G({id:t,width:N}))}}},[y,h,u,i,t,n,f]),h==null||m==null||f==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,b=Ep(e,WQ),{id:_}=f,S=Ep(f,KQ);return x.createElement(Rb,Tv({},b,S,{ref:a,labelRef:o,scale:p,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Ke("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:y}))},XQ={allowDataOverflow:wr.allowDataOverflow,allowDecimals:wr.allowDecimals,allowDuplicatedCategory:wr.allowDuplicatedCategory,hide:!1,mirror:wr.mirror,orientation:wr.orientation,padding:wr.padding,reversed:wr.reversed,scale:wr.scale,tickCount:wr.tickCount,type:wr.type,width:wr.width,yAxisId:0},JQ=e=>{var t,r,n,i,a,o=sn(e,XQ);return x.createElement(x.Fragment,null,x.createElement(QQ,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(YQ,o))},eY=(e,t)=>{var{domain:r}=e,n=Ep(e,HQ),{domain:i}=t,a=Ep(t,GQ);return lo(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:lo({domain:r},{domain:i}):!1},hz=x.memo(JQ,eY);hz.displayName="YAxis";var tY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=x;function rY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nY=typeof Object.is=="function"?Object.is:rY,iY=Fc.useSyncExternalStore,aY=Fc.useRef,sY=Fc.useEffect,oY=Fc.useMemo,lY=Fc.useDebugValue;tY.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=aY(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=oY(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return p=y}return p=m}if(y=p,nY(d,m))return y;var f=n(m);return i!==void 0&&i(y,f)?(d=m,y):(d=m,p=f)}var u=!1,d,p,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=iY(e,a[0],a[1]);return sY(function(){o.hasValue=!0,o.value=l},[l]),lY(l),l};function cY(e){e()}function uY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var iN={notify(){},get:()=>[]};function dY(e,t){let r,n=iN,i=0,a=!1;function o(f){d();const g=n.subscribe(f);let v=!1;return()=>{v||(v=!0,g(),p())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=uY())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=iN)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,p())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return y}var pY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mY=pY(),hY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fY=hY(),gY=()=>mY||fY?x.useLayoutEffect:x.useEffect,vY=gY(),vf=Symbol.for("react-redux-context"),yf=typeof globalThis<"u"?globalThis:{};function yY(){if(!x.createContext)return{};const e=yf[vf]??(yf[vf]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var xY=yY();function bY(e){const{children:t,context:r,serverState:n,store:i}=e,a=x.useMemo(()=>{const c=dY(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=x.useMemo(()=>i.getState(),[i]);vY(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=r||xY;return x.createElement(l.Provider,{value:a},t)}var _Y=bY,wY=(e,t)=>t,Lb=ue([wY,rt,bE,At,wT,wi,DK,Ut],$K),Bb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},fz=nn("mouseClick"),gz=Nc();gz.startListening({actionCreator:fz,effect:(e,t)=>{var r=e.payload,n=Lb(t.getState(),Bb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(WW({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var zv=nn("mouseMove"),vz=Nc();vz.startListening({actionCreator:zv,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=wb(n,n.tooltip.settings.shared),a=Lb(n,Bb(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(mT({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(pT()))}});var aN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},yz=Lr({name:"rootProps",initialState:aN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:aN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),SY=yz.reducer,{updateOptions:NY}=yz.actions,xz=Lr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:gJ}=xz.actions,kY=xz.reducer,bz=nn("keyDown"),_z=nn("focus"),qb=Nc();qb.startListening({actionCreator:bz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(Sb(i,Eo(r))),l=wi(r);if(a==="Enter"){var c=kp(r,"axis","hover",String(i.index));t.dispatch(Nv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=RW(r),d=u==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,h=o+p*d;if(!(l==null||h>=l.length||h<0)){var m=kp(r,"axis","hover",String(h));t.dispatch(Nv({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});qb.startListening({actionCreator:_z,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=kp(r,"axis","hover",String(a));t.dispatch(Nv({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Kr=nn("externalEvent"),wz=Nc();wz.startListening({actionCreator:Kr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:CK(r),activeDataKey:jK(r),activeIndex:cc(r),activeLabel:kT(r),activeTooltipIndex:cc(r),isTooltipActive:PK(r)};e.payload.handler(n,e.payload.reactEvent)}}});var jY=ue([Po],e=>e.tooltipItemPayloads),AY=ue([jY,Ic,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),Sz=nn("touchMove"),Nz=Nc();Nz.startListening({actionCreator:Sz,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=wb(n,n.tooltip.settings.shared);if(i==="axis"){var a=Lb(n,Bb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(mT({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute($U),d=(o=c.getAttribute(VU))!==null&&o!==void 0?o:void 0,p=AY(t.getState(),u,d);t.dispatch(VW({activeDataKey:d,activeIndex:u,activeCoordinate:p}))}}});var CY=wC({brush:cZ,cartesianAxis:VG,chartData:aH,errorBars:eZ,graphicalItems:OG,layout:fU,legend:b$,options:eH,polarAxis:bG,polarOptions:kY,referenceElements:gZ,rootProps:SY,tooltip:KW}),PY=function(t){return Bq({reducer:CY,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([gz.middleware,vz.middleware,qb.middleware,wz.middleware,Nz.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(IC({type:"raf"}))},devTools:_o.devToolsEnabled})};function EY(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Br(),a=x.useRef(null);if(i)return r;a.current==null&&(a.current=PY(t));var o=_x;return x.createElement(_Y,{context:o,store:a.current},r)}function TY(e){var{layout:t,margin:r}=e,n=Ot(),i=Br();return x.useEffect(()=>{i||(n(pU(t)),n(dU(r)))},[n,i,t,r]),null}function zY(e){var t=Ot();return x.useEffect(()=>{t(NY(e))},[t,e]),null}var OY=["children"];function IY(e,t){if(e==null)return{};var r,n,i=MY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(null,arguments)}var FY={width:"100%",height:"100%",display:"block"},RY=x.forwardRef((e,t)=>{var r=Ex(),n=Tx(),i=oP();if(!no(r)||!no(n))return null;var{children:a,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0,x.createElement(ix,Tp({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:FY,ref:t}),a)}),DY=e=>{var{children:t}=e,r=Te(jm);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return x.createElement(ix,{width:n,height:i,x:o,y:a},t)},sN=x.forwardRef((e,t)=>{var{children:r}=e,n=IY(e,OY),i=Br();return i?x.createElement(DY,null,r):x.createElement(RY,Tp({ref:t},n),r)});function LY(){var e=Ot(),[t,r]=x.useState(null),n=Te(UU);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;xr(a)&&a!==n&&e(hU(a))}},[t,e,n]),r}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){qY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t,r){return(t=UY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(null,arguments)}var VY=()=>(hH(),null);function zp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var WY=x.forwardRef((e,t)=>{var r,n,i=x.useRef(null),[a,o]=x.useState({containerWidth:zp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:zp((n=e.style)===null||n===void 0?void 0:n.height)}),l=x.useCallback((u,d)=>{o(p=>{var h=Math.round(u),m=Math.round(d);return p.containerWidth===h&&p.containerHeight===m?p:{containerWidth:h,containerHeight:m}})},[]),c=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:p}=u.getBoundingClientRect();l(d,p);var h=y=>{var{width:f,height:g}=y[0].contentRect;l(f,g)},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,l]);return x.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[l]),x.createElement(x.Fragment,null,x.createElement(Cm,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Xa({ref:c},e)))}),KY=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=x.useState({containerWidth:zp(r),containerHeight:zp(n)}),o=x.useCallback((c,u)=>{a(d=>{var p=Math.round(c),h=Math.round(u);return d.containerWidth===p&&d.containerHeight===h?d:{containerWidth:p,containerHeight:h}})},[]),l=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(Cm,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Xa({ref:l},e)))}),HY=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(Cm,{width:r,height:n}),x.createElement("div",Xa({ref:t},e)))}),GY=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return ui(r)||ui(n)?x.createElement(KY,Xa({},e,{ref:t})):x.createElement(HY,Xa({},e,{ref:t}))});function ZY(e){return e===!0?WY:GY}var QY=x.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:p,onMouseUp:h,onTouchEnd:m,onTouchMove:y,onTouchStart:f,style:g,width:v,responsive:b,dispatchTouchEvents:_=!0}=e,S=x.useRef(null),w=Ot(),[N,j]=x.useState(null),[O,E]=x.useState(null),P=LY(),M=Px(),T=(M==null?void 0:M.width)>0?M.width:v,$=(M==null?void 0:M.height)>0?M.height:i,C=x.useCallback(B=>{P(B),typeof t=="function"&&t(B),j(B),E(B),B!=null&&(S.current=B)},[P,t,j,E]),U=x.useCallback(B=>{w(fz(B)),w(Kr({handler:a,reactEvent:B}))},[w,a]),K=x.useCallback(B=>{w(zv(B)),w(Kr({handler:u,reactEvent:B}))},[w,u]),F=x.useCallback(B=>{w(pT()),w(Kr({handler:d,reactEvent:B}))},[w,d]),H=x.useCallback(B=>{w(zv(B)),w(Kr({handler:p,reactEvent:B}))},[w,p]),G=x.useCallback(()=>{w(_z())},[w]),ie=x.useCallback(B=>{w(bz(B.key))},[w]),J=x.useCallback(B=>{w(Kr({handler:o,reactEvent:B}))},[w,o]),Y=x.useCallback(B=>{w(Kr({handler:l,reactEvent:B}))},[w,l]),pe=x.useCallback(B=>{w(Kr({handler:c,reactEvent:B}))},[w,c]),oe=x.useCallback(B=>{w(Kr({handler:h,reactEvent:B}))},[w,h]),se=x.useCallback(B=>{w(Kr({handler:f,reactEvent:B}))},[w,f]),_e=x.useCallback(B=>{_&&w(Sz(B)),w(Kr({handler:y,reactEvent:B}))},[w,_,y]),te=x.useCallback(B=>{w(Kr({handler:m,reactEvent:B}))},[w,m]),de=ZY(b);return x.createElement(TT.Provider,{value:N},x.createElement(_2.Provider,{value:O},x.createElement(de,{width:T??(g==null?void 0:g.width),height:$??(g==null?void 0:g.height),className:Ke("recharts-wrapper",n),style:BY({position:"relative",cursor:"default",width:T,height:$},g),onClick:U,onContextMenu:J,onDoubleClick:Y,onFocus:G,onKeyDown:ie,onMouseDown:pe,onMouseEnter:K,onMouseLeave:F,onMouseMove:H,onMouseUp:oe,onTouchEnd:te,onTouchMove:_e,onTouchStart:se,ref:C},x.createElement(VY,null),r)))}),YY=["width","height","responsive","children","className","style","compact","title","desc"];function XY(e,t){if(e==null)return{};var r,n,i=JY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eX=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:l,compact:c,title:u,desc:d}=e,p=XY(e,YY),h=Un(p);return c?x.createElement(x.Fragment,null,x.createElement(Cm,{width:r,height:n}),x.createElement(sN,{otherAttributes:h,title:u,desc:d},a)):x.createElement(QY,{className:o,style:l,width:r,height:n,responsive:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(sN,{otherAttributes:h,title:u,desc:d,ref:t},x.createElement(yZ,null,a)))});function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ov.apply(null,arguments)}var tX={top:5,right:5,bottom:5,left:5},rX={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:tX,reverseStackOrder:!1,syncMethod:"index",responsive:!1},nX=x.forwardRef(function(t,r){var n,i=sn(t.categoricalChartProps,rX),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return x.createElement(EY,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},x.createElement(lZ,{chartData:u.data}),x.createElement(TY,{layout:i.layout,margin:i.margin}),x.createElement(zY,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(eX,Ov({},i,{ref:r})))}),iX=["axis"],aX=x.forwardRef((e,t)=>x.createElement(nX,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iX,tooltipPayloadSearcher:XK,categoricalChartProps:e,ref:t}));function sX({title:e,children:t}){return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-6",children:[s.jsx("h3",{className:"text-base font-semibold text-text-primary mb-3",children:e}),t]})}const lN=e=>typeof e=="number"&&isFinite(e)?Number(e).toFixed(2):"",Bu=e=>new Date(e+"T00:00:00"),oX=(e,t="EUR",r="fr-FR")=>new Intl.NumberFormat(r,{style:"currency",currency:t}).format(Number(e||0)),el=(e,t="EUR")=>`${oX(e,t)} HT`,md=()=>{const e=new Date,t=r=>String(r).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}`},xf=e=>typeof e=="string"&&e.length>=7?e.slice(0,7):md(),bf=(e,t)=>{if(!t)return e;const r=`${t}-`;return e.filter(n=>((n==null?void 0:n.service_date)||"").startsWith(r))},_f=(e,t)=>e.reduce((r,n)=>{const i=Number((n==null?void 0:n[t])||0),a=Number.isFinite(i)?i:0;r.qty+=a;const o=(n==null?void 0:n.total)!=null?Number(n.total):Number(n.unit_price||0)*a;return Number.isFinite(o)&&(r.total+=o),r},{qty:0,total:0}),lX=(e,t)=>{if(!e)return"";const r=e.trim(),n=t("ClientOtherReport.serviceNames.manualPhoto"),i=t("ClientOtherReport.serviceNames.photoSubscription");return/^manual photo capture/i.test(r)?n:/^photo storage subscription$/i.test(r)?i:r.replace(/ \(6 images\)/i,"")};function cX(){const{t:e}=qt(),{profile:t}=Ye(),r=t==null?void 0:t.company_id,[n,i]=x.useState([]),[a,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),[p,h]=x.useState("3m"),[m,y]=x.useState("fba"),[f,g]=x.useState(""),[v,b]=x.useState(""),[_,S]=x.useState(""),[w,N]=x.useState({fba:md(),fbm:md(),other:md()}),[j,O]=x.useState(!1),E=async()=>{var le,ce,ae;if(!r){i([]),o([]),c([]),d(!1);return}d(!0);const[{data:D},{data:A},{data:z}]=await Promise.all([he.listFbaLinesByCompany(r),he.listFbmLinesByCompany(r),he.listOtherLinesByCompany(r)]),W=D||[],L=A||[],Z=z||[];i(W),o(L),c(Z);const X={fba:xf((le=W[0])==null?void 0:le.service_date),fbm:xf((ce=L[0])==null?void 0:ce.service_date),other:xf((ae=Z[0])==null?void 0:ae.service_date)};N(X),j||(g(X.fba),b(X.fbm),S(X.other),O(!0)),d(!1)};x.useEffect(()=>{E()},[r]),x.useEffect(()=>{O(!1)},[r]);const P=f||w.fba,M=v||w.fbm,T=_||w.other,$=x.useMemo(()=>bf(n,P),[n,P]),C=x.useMemo(()=>bf(a,M),[a,M]),U=x.useMemo(()=>bf(l,T),[l,T]),K=x.useMemo(()=>_f($,"units"),[$]),F=x.useMemo(()=>_f(C,"orders_units"),[C]),H=x.useMemo(()=>_f(U,"units"),[U]),G=x.useMemo(()=>{const D={};for(const A of n){const z=A.service_date,W=A.total!=null?Number(A.total):Number(A.unit_price||0)*Number(A.units||0);D[z]||(D[z]={date:z,fba:0,fbm:0,other:0,fbaUnits:0,fbmUnits:0,otherUnits:0}),D[z].fba+=isFinite(W)?W:0,D[z].fbaUnits+=Number(A.units||0)}for(const A of a){const z=A.service_date,W=A.total!=null?Number(A.total):Number(A.unit_price||0)*Number(A.orders_units||0);D[z]||(D[z]={date:z,fba:0,fbm:0,other:0,fbaUnits:0,fbmUnits:0,otherUnits:0}),D[z].fbm+=isFinite(W)?W:0,D[z].fbmUnits+=Number(A.orders_units||0)}for(const A of l){const z=A.service_date,W=A.total!=null?Number(A.total):Number(A.unit_price||0)*Number(A.units||0);D[z]||(D[z]={date:z,fba:0,fbm:0,other:0,fbaUnits:0,fbmUnits:0,otherUnits:0}),D[z].other+=isFinite(W)?W:0,D[z].otherUnits+=Number(A.units||0)}return Object.values(D).sort((A,z)=>new Date(A.date)-new Date(z.date))},[n,a,l]);x.useEffect(()=>{if(!G.length)return;const D=Bu(G[0].date),A=Bu(G[G.length-1].date),z=Math.max(1,Math.round((A-D)/(1e3*60*60*24)));h(z>=90?"3m":"all")},[G.length]);const ie=x.useMemo(()=>{if(!G.length||p==="all")return G;const D=Bu(G[G.length-1].date),A=p==="1m"?30:90,z=new Date(D);return z.setDate(z.getDate()-(A-1)),G.filter(W=>Bu(W.date)>=z)},[G,p]),J=({active:D,payload:A,label:z})=>{var L;if(!D||!A||!A.length)return null;const W=((L=A[0])==null?void 0:L.payload)||{};return s.jsxs("div",{className:"bg-white/95 border border-gray-200 rounded-md px-3 py-2 text-sm shadow",children:[s.jsxs("div",{className:"font-medium mb-1",children:[e("SupabaseClientActivity.tooltip.date"),": ",z]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:"#ec4899"}}),s.jsx("span",{children:"FBA:"}),s.jsx("strong",{children:el(W.fba)}),s.jsxs("span",{className:"text-gray-500",children:["(",W.fbaUnits||0," ",e("SupabaseClientActivity.thead.units").toLowerCase(),")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:"#3b82f6"}}),s.jsx("span",{children:"FBM:"}),s.jsx("strong",{children:el(W.fbm)}),s.jsxs("span",{className:"text-gray-500",children:["(",W.fbmUnits||0," ",e("SupabaseClientActivity.thead.units").toLowerCase(),")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:"#22c55e"}}),s.jsxs("span",{children:[e("SupabaseClientActivity.otherTitle"),":"]}),s.jsx("strong",{children:el(W.other)}),s.jsxs("span",{className:"text-gray-500",children:["(",W.otherUnits||0," ",e("SupabaseClientActivity.thead.units").toLowerCase(),")"]})]})]})]})};if(!r)return s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg p-4",children:e("SupabaseClientActivity.companyMissing")});const Y=x.useMemo(()=>[{id:"fba",label:e("SupabaseClientActivity.fbaTitle")||"FBA"},{id:"fbm",label:e("SupabaseClientActivity.fbmTitle")||"FBM"},{id:"other",label:e("SupabaseClientActivity.otherTitle")||"Other"}],[e]);if(u)return s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const pe=m==="fba",oe=m==="fbm",se=pe?$:oe?C:U,_e=pe?K:oe?F:H,te=pe?f:oe?v:_,de=pe?g:oe?b:S,B=e(pe?"ClientFBAReport.title":oe?"ClientFBMReport.title":"ClientOtherReport.title"),I=e(pe?"ClientFBAReport.readonly":oe?"ClientFBMReport.readonly":"ClientOtherReport.readonly"),R=e(pe?"ClientFBAReport.monthLabel":oe?"ClientFBMReport.monthLabel":"ClientOtherReport.monthLabel"),q=e(pe?"ClientFBAReport.currentMonth":oe?"ClientFBMReport.currentMonth":"ClientOtherReport.currentMonth"),re=e(oe?"SupabaseClientActivity.thead.ordersUnits":"SupabaseClientActivity.thead.units"),k=e(pe?"ClientFBAReport.noDataMonth":oe?"ClientFBMReport.noDataMonth":"ClientOtherReport.noDataMonth"),ee=()=>{de(pe?w.fba:oe?w.fbm:w.other)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(sX,{title:e("SupabaseClientActivity.chartTitle"),children:[s.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[{k:"1m",label:e("SupabaseClientActivity.range.m1")},{k:"3m",label:e("SupabaseClientActivity.range.m3")},{k:"all",label:e("SupabaseClientActivity.range.all")}].map(D=>s.jsx("button",{onClick:()=>h(D.k),className:`px-3 py-1 rounded-lg border text-sm ${p===D.k?"bg-primary text-white border-primary":"bg-white text-text-primary border-gray-300"}`,children:D.label},D.k))}),s.jsx(m$,{width:"100%",height:300,children:s.jsxs(aX,{data:ie,children:[s.jsx(sz,{strokeDasharray:"3 3"}),s.jsx(mz,{dataKey:"date",tickFormatter:D=>{const A=new Date(D);return Number.isNaN(A.getTime())?D:A.toLocaleDateString(void 0,{month:"short",day:"numeric"})},tick:{fontSize:12},axisLine:!1,tickLine:!1}),s.jsx(hz,{}),s.jsx(wH,{content:s.jsx(J,{})}),s.jsx(Pm,{}),s.jsx(pd,{type:"monotone",dataKey:"fba",stroke:"#ec4899",strokeWidth:2,dot:!1,name:e("SupabaseClientActivity.fbaTitle")}),s.jsx(pd,{type:"monotone",dataKey:"fbm",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:e("SupabaseClientActivity.fbmTitle")}),s.jsx(pd,{type:"monotone",dataKey:"other",stroke:"#22c55e",strokeWidth:2,dot:!1,name:e("SupabaseClientActivity.otherTitle")})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 border-b pb-3 mb-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:Y.map(D=>s.jsx("button",{onClick:()=>y(D.id),className:`px-4 py-1.5 rounded-lg text-sm border transition-colors ${m===D.id?"bg-primary text-white border-primary":"bg-white text-text-primary border-gray-300 hover:bg-gray-50"}`,children:D.label},D.id))}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[s.jsx("label",{children:R}),s.jsx("input",{type:"month",value:te||(pe?w.fba:oe?w.fbm:w.other),onChange:D=>de(D.target.value),className:"border rounded px-2 py-1 text-sm"}),s.jsx("button",{className:"text-sm border rounded px-2 py-1",onClick:ee,children:q})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:B}),s.jsx("p",{className:"text-sm text-text-secondary",children:I})]}),s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:e("SupabaseClientActivity.thead.date")}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("SupabaseClientActivity.thead.service")}),s.jsxs("th",{className:"px-3 py-2 text-right",children:[e("SupabaseClientActivity.thead.unitPrice")," (HT)"]}),s.jsx("th",{className:"px-3 py-2 text-right",children:re}),s.jsxs("th",{className:"px-3 py-2 text-right",children:[e("SupabaseClientActivity.thead.total")," (HT)"]}),s.jsx("th",{className:"px-3 py-2 text-left",children:e("SupabaseClientActivity.thead.adminNotes")})]})}),s.jsx("tbody",{children:u?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-text-secondary",children:e("common.loading")})}):se.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-text-secondary",children:k})}):se.map(D=>{const A=Number(pe?D.units||0:oe?D.orders_units||0:D.units||0),z=D.total!=null?Number(D.total):Number(D.unit_price||0)*(Number.isFinite(A)?A:0);return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:D.service_date}),s.jsx("td",{className:"px-3 py-2",children:lX(D.service,e)}),s.jsx("td",{className:"px-3 py-2 text-right",children:D.unit_price!=null?lN(Number(D.unit_price)):""}),s.jsx("td",{className:"px-3 py-2 text-right",children:Number.isFinite(A)?A:""}),s.jsx("td",{className:"px-3 py-2 text-right",children:Number.isFinite(z)?lN(z):""}),s.jsx("td",{className:"px-3 py-2",children:D.obs_admin||""})]},D.id)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"bg-slate-50/80 font-semibold text-text-primary",children:[s.jsx("td",{className:"px-3 py-2",colSpan:3,children:e("SupabaseClientActivity.totals")}),s.jsx("td",{className:"px-3 py-2 text-right",children:_e.qty}),s.jsx("td",{className:"px-3 py-2 text-right",children:el(_e.total)}),s.jsx("td",{className:"px-3 py-2"})]})})]})}),s.jsxs("div",{className:"mt-3 text-sm text-text-secondary",children:["Monthly totals  ",re,": ",s.jsx("strong",{children:_e.qty}),"  Total:"," ",s.jsx("strong",{children:el(_e.total)})]})]})]})}function uX(){const{t:e}=qt(),{profile:t,status:r}=Ye(),[n,i]=x.useState([]),[a,o]=x.useState(!0);return x.useEffect(()=>{let l=!0;async function c(){if(!(t!=null&&t.company_id)){i([]),o(!1);return}o(!0);const{data:u,error:d}=await Q.from("returns").select("*").eq("company_id",t.company_id).order("return_date",{ascending:!1});l&&(i(d?[]:Array.isArray(u)?u:[]),o(!1))}return r!=="loading"&&c(),()=>{l=!1}},[r,t==null?void 0:t.company_id]),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:e("ClientReturns.title")}),s.jsx("p",{className:"text-sm text-text-secondary",children:e("ClientReturns.readonly")})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-text-secondary",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:e("ClientReturns.thead.date")}),s.jsx("th",{className:"px-4 py-3 text-left",children:"ASIN"}),s.jsx("th",{className:"px-4 py-3 text-right",children:e("ClientReturns.thead.qty")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("ClientReturns.thead.type")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("ClientReturns.thead.status")}),s.jsx("th",{className:"px-4 py-3 text-left",children:e("ClientReturns.thead.adminNotes")})]})}),s.jsx("tbody",{children:a?s.jsx("tr",{className:"border-t",children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-400",children:e("common.loading")})}):n.length===0?s.jsx("tr",{className:"border-t",children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-gray-400",children:e("ClientReturns.noRecords")})}):n.map(l=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-3",children:l.return_date}),s.jsx("td",{className:"px-4 py-3",children:l.asin}),s.jsx("td",{className:"px-4 py-3 text-right",children:l.qty}),s.jsx("td",{className:"px-4 py-3",children:l.return_type||""}),s.jsxs("td",{className:"px-4 py-3",children:[l.status||"",l.status==="Other"&&l.status_note?s.jsxs("span",{className:"text-text-secondary",children:["  ",l.status_note]}):null]}),s.jsx("td",{className:"px-4 py-3",children:l.obs_admin||""})]},l.id))})]})})]})}const dX=e=>({FBA:{table:"fba_lines",dateCol:"service_date",headers:[e("activity.thead.date"),e("activity.thead.service"),e("activity.thead.unitPrice"),e("activity.thead.units"),e("activity.thead.total"),"Client notes"],numFmt:{2:"0.00",3:"0",4:"0.00"},mapRow:t=>{const r=t.unit_price!=null?Number(t.unit_price):"",n=t.units!=null?Number(t.units):"",i=t.total!=null?Number(t.total):Number(t.unit_price||0)*Number(t.units||0);return[t.service_date||"",t.service||"",r,n,Number.isFinite(i)?i:"",t.obs_client||""]},totals:t=>{const r=t.reduce((a,o)=>a+Number(o.unit_price||0),0),n=t.reduce((a,o)=>a+Number(o.units||0),0),i=t.reduce((a,o)=>a+(o.total!=null?Number(o.total):Number(o.unit_price||0)*Number(o.units||0)),0);return[e("activity.totals"),"",r,n,i,""]}},FBM:{table:"fbm_lines",dateCol:"service_date",headers:[e("activity.thead.date"),e("activity.thead.service"),e("activity.thead.unitPrice"),e("activity.thead.ordersUnits"),e("activity.thead.total"),"Client notes"],numFmt:{2:"0.00",3:"0",4:"0.00"},mapRow:t=>{const r=t.unit_price!=null?Number(t.unit_price):"",n=t.orders_units!=null?Number(t.orders_units):"",i=t.total!=null?Number(t.total):Number(t.unit_price||0)*Number(t.orders_units||0);return[t.service_date||"",t.service||"",r,n,Number.isFinite(i)?i:"",t.obs_client||""]},totals:t=>{const r=t.reduce((a,o)=>a+Number(o.unit_price||0),0),n=t.reduce((a,o)=>a+Number(o.orders_units||0),0),i=t.reduce((a,o)=>a+(o.total!=null?Number(o.total):Number(o.unit_price||0)*Number(o.orders_units||0)),0);return[e("activity.totals"),"",r,n,i,""]}},Stock:{table:"stock_items",dateCol:"created_at",headers:["EAN","Stock","ASIN","Product name","Purchase price ()","Total value"],numFmt:{1:"0",4:"0.00",5:"0.00"},mapRow:t=>{const r=t.qty!=null?Number(t.qty):"",n=t.purchase_price!=null?Number(t.purchase_price):"",i=t.stock_value!=null?Number(t.stock_value):Number(t.qty||0)*Number(t.purchase_price||0);return[t.ean||"-",r,t.asin||t.sku||"-",t.name||"",n,Number.isFinite(i)?i:""]},totals:t=>{const r=t.reduce((a,o)=>a+Number(o.qty||0),0),n=t.reduce((a,o)=>a+Number(o.purchase_price||0),0),i=t.reduce((a,o)=>{const l=Number(o.qty||0),c=Number(o.purchase_price||0),u=o.stock_value!=null?Number(o.stock_value):l*c;return a+u},0);return[e("activity.totals"),r,"","",n,i]}},Returns:{table:"returns",dateCol:"return_date",headers:[e("returns.thead.date"),"SKU/ASIN",e("returns.thead.qty"),e("returns.thead.type"),e("returns.thead.status"),"Reason (Other)","Client notes"],numFmt:{2:"0"},mapRow:t=>[t.return_date||"",t.sku_asin||t.asin||"",t.qty!=null?Number(t.qty):"",t.return_type||"",t.status||"",t.status==="Other"&&t.status_note||"",t.obs_client||""],totals:t=>{const r=t.reduce((n,i)=>n+Number(i.qty||0),0);return[e("activity.totals"),"",r,"","","",""]}},StockMovements:{table:"stock_movements",dateCol:"movement_date",headers:[e("activity.thead.date"),e("stock.thead.ean"),e("stock.thead.name"),e("stock.thead.asinSku")," Qty","Reason","Reference"],numFmt:{4:"0"},mapRow:t=>[t.movement_date||"",t.ean||"",t.name||"",t.asin||t.sku||"",t.delta!=null?Number(t.delta):"",t.reason||"",t.reference||""],totals:t=>{const r=t.reduce((n,i)=>n+Number(i.delta||0),0);return[e("activity.totals"),"","","",r,"",""]}}});function pX(){const{t:e,tp:t}=qt();e("common.supportError");const{profile:r}=Ye(),[n,i]=x.useState("FBA"),[a,o]=x.useState(()=>{const N=new Date;return new Date(N.getFullYear(),N.getMonth(),1).toISOString().slice(0,10)}),[l,c]=x.useState(()=>new Date().toISOString().slice(0,10)),[u,d]=x.useState(!1),[p,h]=x.useState([]),[m,y]=x.useState(!1),[f,g]=x.useState(!1),[v,b]=x.useState(""),_=x.useMemo(()=>dX(e)[n],[e,n]);x.useEffect(()=>{(async()=>{if(!(r!=null&&r.company_id)){h([]);return}y(!0);try{const{data:j,error:O}=await Q.from("export_files").select("id, period_end, file_path, rows_count, totals_json, created_at").eq("company_id",r.company_id).eq("export_type","stock_monthly_snapshot").eq("status","ready").order("period_end",{ascending:!1});if(O)throw O;h((j||[]).map(E=>({id:E.id,name:`${E.period_end.slice(0,7)}.xlsx`,path:E.file_path,period_end:E.period_end,rows_count:E.rows_count,totals:E.totals_json,created_at:E.created_at})))}catch(j){console.error("Failed to load archive:",j),h([])}finally{y(!1)}})()},[r==null?void 0:r.company_id]);const S=async()=>{if(!(r!=null&&r.company_id)){alert(e("ClientExports.alerts.noCompany"));return}d(!0);try{let N=Q.from(_.table).select("*").eq("company_id",r.company_id).order(_.dateCol,{ascending:!0});n!=="Stock"&&(a&&(N=N.gte(_.dateCol,a)),l&&(N=N.lte(_.dateCol,l)));const{data:j,error:O}=await N;if(O)throw O;const E=Array.isArray(j)?j:[],P=n==="Stock"?E.filter(ie=>Number(ie.qty||0)>0):E,M=[];M.push(_.headers);for(const ie of P)M.push(_.mapRow(ie));typeof _.totals=="function"&&(M.push(new Array(_.headers.length).fill("")),M.push(_.totals(P)));const $=n==="Stock"?`Stock PrepCenter France ${new Date().toLocaleString(void 0,{month:"long",year:"numeric"})}.xlsx`:`report-${n}_${a||"start"}_${l||"end"}.xlsx`,C=await sm(()=>import("./xlsx-D_0l8YDs.js"),[]),U=C.utils.aoa_to_sheet(M),K=C.utils.decode_range(U["!ref"]),F=_.headers.length-1,H=K.e.r;U["!autofilter"]={ref:C.utils.encode_range({s:{r:0,c:0},e:{r:H,c:F}})},U["!cols"]=_.headers.map(ie=>({wch:Math.max(12,String(ie).length+4)})),_.numFmt&&Object.entries(_.numFmt).forEach(([ie,J])=>{const Y=Number(ie);for(let pe=1;pe<=H;pe++){const oe=C.utils.encode_cell({r:pe,c:Y}),se=U[oe];se&&typeof se.v=="number"&&(se.t="n",se.z=J)}});const G=C.utils.book_new();C.utils.book_append_sheet(G,U,"Report"),C.writeFile(G,$)}catch(N){console.error(N),alert(e("ClientExports.alerts.failed"))}finally{d(!1)}},w=async N=>{try{const{data:j,error:O}=await Q.storage.from("exports").createSignedUrl(N.path,120);if(O)throw O;window.open(j.signedUrl,"_blank","noopener,noreferrer")}catch{alert(e("ClientExports.alerts.failed"))}};return s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:e("ClientExports.title")}),s.jsx("p",{className:"text-sm text-text-secondary mb-4",children:e("ClientExports.desc")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-end mb-6",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs text-text-secondary mb-1",children:e("ClientExports.reportType")}),s.jsxs("select",{className:"border rounded px-3 py-2 w-56",value:n,onChange:N=>i(N.target.value),children:[s.jsx("option",{children:"FBA"}),s.jsx("option",{children:"FBM"}),s.jsx("option",{children:"Stock"}),s.jsx("option",{children:"Returns"})]})]}),n!=="Stock"&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs text-text-secondary mb-1",children:e("ClientExports.from")}),s.jsx("input",{type:"date",className:"border rounded px-3 py-2",value:a,onChange:N=>o(N.target.value)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs text-text-secondary mb-1",children:e("ClientExports.to")}),s.jsx("input",{type:"date",className:"border rounded px-3 py-2",value:l,onChange:N=>c(N.target.value),disabled:n==="Stock"})]}),s.jsx("button",{onClick:S,disabled:u,className:"bg-primary text-white py-2 px-4 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-60",children:u?e("ClientExports.generating"):e("ClientExports.btn").replace("{kind}",e(`ClientExports.kinds.${n}`))})]}),s.jsx("div",{className:"text-xs text-text-secondary mb-6",children:e("ClientExports.footnote")}),s.jsxs("div",{className:"mt-8 bg-white border rounded-lg p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h3",{className:"text-base font-semibold",children:e("ClientExports.archive.title")})}),v&&s.jsx("div",{className:`mb-4 p-3 rounded text-sm ${v.includes("")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:v}),m?s.jsx("div",{className:"text-sm text-text-secondary",children:e("ClientExports.archive.loading")}):p.length===0?s.jsx("div",{className:"text-sm text-text-secondary",children:e("ClientExports.archive.empty")}):s.jsx("ul",{className:"divide-y",children:p.map(N=>{var P;const j=/^(\d{4})-(\d{2})\.xlsx$/i.exec(N.name);let O=N.name;if(j){const M=Number(j[1]),T=Number(j[2]),C=new Date(M,T-1,1).toLocaleString(void 0,{month:"long"});O=t("ClientExports.archive.label",{month:C,year:M})}const E=t("ClientExports.archive.meta",{items:N.rows_count??0,total:Number(((P=N.totals)==null?void 0:P.value)||0).toFixed(2),date:new Date(N.created_at).toLocaleDateString()});return s.jsxs("li",{className:"py-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:O}),s.jsx("div",{className:"text-sm text-gray-500",children:E})]}),s.jsx("button",{className:"text-sm border rounded px-3 py-1 hover:bg-gray-50",onClick:()=>w(N),children:e("ClientExports.archive.download")})]},N.id)})})]})]})}const mX=["fr","en","de","it","es","ro"],qu=e=>{const t=String(e??"").trim();return t===""?null:t},Iv=e=>typeof e=="string"?e.trim():e==null?"":String(e).trim(),cl=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(Iv).filter(Boolean);if(n.length)return n;const i=Iv(t);return i?[i]:[]},cN=(e,t)=>{const r=cl(e,t);return r.length?r:[""]},uN=e=>Array.isArray(e)?e.map(Iv).filter(Boolean):[],Uu=(e=[])=>e.map(t=>({...t})),gn=e=>typeof e=="string"?e.trim():"",hX=/^[A-Z0-9]{10}$/,fX=/^\d{8,14}$/,dN=e=>{const t=gn(e).toUpperCase();return hX.test(t)&&/[A-Z]/.test(t)},gX=e=>fX.test(gn(e)),vX=e=>{const t=(e==null?void 0:e.stock_item)||{},r=gn(e==null?void 0:e.ean_asin),n=gn(e==null?void 0:e.asin)||gn(t.asin)||(dN(r)?r:""),i=gn(e==null?void 0:e.sku)||gn(t.sku),a=gn(e==null?void 0:e.ean)||gn(t.ean)||(!dN(r)&&gX(r)?r:"");return{asin:n||"",sku:i||"",ean:a||""}},yX=e=>{var t;return gn(e==null?void 0:e.image_url)||gn((t=e==null?void 0:e.stock_item)==null?void 0:t.image_url)||""},gs=(e=[])=>[...e].sort((t,r)=>(t.line_number??0)-(r.line_number??0)),xX={fr:"fr-FR",en:"en-US",de:"de-DE",it:"it-IT",es:"es-ES",ro:"ro-RO",pl:"pl-PL"};function bX(){const{t:e,tp:t}=qt(),{currentLanguage:r}=Dr(),{profile:n}=Ye(),i=(R,q)=>q?t(`ClientReceiving.${R}`,q):e(`ClientReceiving.${R}`),a=e("common.supportError"),o=xX[r]||"en-US",[l,c]=x.useState([]),[u,d]=x.useState([]),[p,h]=x.useState(!0),[m,y]=x.useState(null),[f,g]=x.useState(""),[v,b]=x.useState(null),[_,S]=x.useState(!1),[w,N]=x.useState(null),[j,O]=x.useState([]),[E,P]=x.useState(!1),[M,T]=x.useState([]),[$,C]=x.useState(!1),[U,K]=x.useState(""),[F,H]=x.useState({}),G=x.useMemo(()=>{const R=U.trim().toLowerCase();return R?M.filter(q=>`${q.name||""} ${q.ean||""} ${q.sku||""} ${q.asin||""}`.toLowerCase().includes(R)):M},[M,U]),ie=R=>({carrier:(R==null?void 0:R.carrier)||"",carrier_other:(R==null?void 0:R.carrier_other)||"",tracking_ids:cN(R==null?void 0:R.tracking_ids,R==null?void 0:R.tracking_id),fba_shipment_ids:cN(R==null?void 0:R.fba_shipment_ids),notes:(R==null?void 0:R.notes)||"",fba_mode:(R==null?void 0:R.fba_mode)||"none"}),J=R=>{y(R),S(!1),g(""),b(null),N(ie(R)),O(Uu(gs(R==null?void 0:R.receiving_items))),C(!1),K(""),H({})},Y=async()=>{if(!(n!=null&&n.company_id))return c([]),d([]),h(!1),[];h(!0);try{const[R,q,re]=await Promise.all([he.getClientReceivingShipments(n.company_id),he.getCarriers(),Q.from("stock_items").select("*").eq("user_id",n.id).order("created_at",{ascending:!1})]);if(R.error)throw R.error;if(q.error)throw q.error;re!=null&&re.error&&console.error("Failed to load inventory",re.error);const k=Array.isArray(R.data)?R.data:[];return c(k),d(q.data||[]),T(Array.isArray(re==null?void 0:re.data)?re.data:[]),k}catch{return c([]),g(a),b("error"),[]}finally{h(!1)}};x.useEffect(()=>{y(null),S(!1),N(null),O([]),Y()},[n==null?void 0:n.company_id]),x.useEffect(()=>{_||(C(!1),K(""),H({}))},[_]);const pe=async R=>{try{const q=`receiving/${R}.pdf`,{data:re,error:k}=await Q.storage.from("user_guides").createSignedUrl(q,60);if(k)throw k;window.open(re.signedUrl,"_blank","noopener,noreferrer")}catch{g(a),b("error")}},oe=()=>{const[R,q]=x.useState(!1);return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>q(re=>!re),className:"flex items-center px-4 py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition-colors",children:[s.jsx(Qp,{className:"w-4 h-4 mr-2"}),i("import_instructions_pdf"),s.jsx(qj,{className:"w-4 h-4 ml-2 opacity-80"})]}),R&&s.jsx("div",{className:"absolute z-10 right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg",children:mX.map(re=>s.jsx("button",{onClick:async()=>{await pe(re),q(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-50",children:re.toUpperCase()},re))})]})},se=R=>{const q={draft:{color:"bg-gray-100 text-gray-800",text:i("status_draft")},submitted:{color:"bg-yellow-100 text-yellow-800",text:i("status_submitted")},partial:{color:"bg-amber-100 text-amber-800",text:i("status_partial")},received:{color:"bg-blue-100 text-blue-800",text:i("status_received")},processed:{color:"bg-green-100 text-green-800",text:i("status_processed")},cancelled:{color:"bg-red-100 text-red-800",text:i("status_cancelled")}},re=q[R]||q.draft;return s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${re.color}`,children:re.text})},_e=async R=>{if(w)try{P(!0);const q=uN(w.tracking_ids),re=uN(w.fba_shipment_ids),k=q.length>0?q[0]:qu(m==null?void 0:m.tracking_id)||null,ee={carrier:qu(w.carrier),carrier_other:w.carrier==="OTHER"?qu(w.carrier_other):null,tracking_id:k,tracking_ids:q.length?q:null,fba_shipment_ids:re.length?re:null,notes:qu(w.notes),fba_mode:w.fba_mode||"none"};await he.updateReceivingShipment(R,ee);const D=gs((m==null?void 0:m.receiving_items)||[]),A={};D.forEach(me=>{me.id&&(A[me.id]=me)});const z=j||[],W=new Set(z.filter(me=>me.id).map(me=>me.id)),L=Object.keys(A).filter(me=>!W.has(me)),Z=z.filter(me=>me.id&&A[me.id]),X=z.filter(me=>!me.id),le=(me,Ae)=>{var Xe;const Fe=Number(me.line_number)||Number((Xe=A[me.id||""])==null?void 0:Xe.line_number)||Ae||1;return{stock_item_id:me.stock_item_id||null,ean_asin:me.ean_asin,product_name:me.product_name,quantity_received:Number(me.quantity_received)||0,sku:me.sku||null,purchase_price:me.purchase_price??null,send_to_fba:!!me.send_to_fba,fba_qty:me.send_to_fba?Math.max(0,Number(me.fba_qty)||0):0,line_number:Fe}};for(const me of L)await he.deleteReceivingItem(me);for(const me of Z){const Ae=le(me);await he.updateReceivingItem(me.id,Ae)}if(X.length){let me=D.reduce((Fe,Xe)=>Math.max(Fe,Number(Xe.line_number)||0),0)||0;const Ae=X.map(Fe=>(me+=1,{shipment_id:R,...le(Fe,me)}));await he.createReceivingItems(Ae)}const ce=(j||[]).filter(me=>me.id);for(const me of ce){const Ae=!!me.send_to_fba&&Number(me.fba_qty||0)>0,Fe=Ae?Math.max(0,Number(me.fba_qty)||0):null;await he.updateReceivingItem(me.id,{send_to_fba:Ae,fba_qty:Fe,remaining_action:Xl(Ae)})}const be=(await Y()).find(me=>me.id===R);be?(y(be),N(ie(be)),O(Uu(gs(be.receiving_items)))):y(null),S(!1),g(i("changes_saved")),b("success")}catch{g(a),b("error")}finally{P(!1)}},te=async R=>{try{if(!confirm(i("confirm_send")))return;const{error:re}=await Q.from("receiving_shipments").update({status:"submitted",submitted_at:new Date().toISOString()}).eq("id",R.id);if(re)throw re;y(k=>k&&{...k,status:"submitted"}),g(i("reception_sent")),b("success")}catch{g(a),b("error")}},de=R=>{O(q=>q.map(re=>{const k=Math.max(0,Number(re.quantity_received||0));return R==="full"?{...re,send_to_fba:k>0,fba_qty:k}:R==="none"?{...re,send_to_fba:!1,fba_qty:0}:re}))},B=R=>{_&&(N(q=>({...q,fba_mode:R})),(R==="full"||R==="none")&&de(R))},I=R=>{const q=M.find(k=>k.id===R),re=Number(F[R]||0);if(q){if(!Number.isFinite(re)||re<1){g(i("inventory_qty_error")),b("error");return}O(k=>[...k,{id:void 0,stock_item_id:q.id,ean_asin:q.ean||q.asin||"",product_name:q.name||"",quantity_received:re,sku:q.sku||null,purchase_price:q.purchase_price??null,send_to_fba:!1,fba_qty:null}]),H(k=>({...k,[R]:""})),g(""),b(null)}};if(p)return s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(m){const R=["draft","submitted","partial"].includes(m.status),q=_?j:gs(m.receiving_items||[]),re=cl(m.tracking_ids,m.tracking_id),k=cl(m.fba_shipment_ids),ee=w||ie(m);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[s.jsx(oe,{}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("button",{onClick:()=>{y(null),S(!1)},className:"text-primary hover:text-primary-dark",children:i("back_to_list")}),R&&!_&&s.jsxs("button",{onClick:()=>{N(ie(m)),O(Uu(gs(m.receiving_items))),S(!0)},className:"inline-flex items-center px-3 py-2 border rounded-lg text-primary border-primary hover:bg-primary hover:text-white",children:[s.jsx(gc,{className:"w-4 h-4 mr-2"})," ",i("edit")]}),m.status==="draft"&&s.jsxs("button",{onClick:()=>te(m),className:"inline-flex items-center px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:[s.jsx(rR,{className:"w-4 h-4 mr-2"})," ",i("send")]}),R&&_&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>_e(m.id),disabled:E,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50",children:i(E?"saving":"save")}),s.jsx("button",{onClick:()=>{S(!1),N(ie(m)),O(Uu(gs(m.receiving_items)))},className:"px-4 py-2 border rounded-lg",children:i("cancel")})]}),s.jsx("span",{className:"text-text-secondary",children:new Date(m.created_at).toLocaleDateString(o)})]})]}),f&&s.jsx("div",{className:`px-4 py-3 rounded-lg ${v==="success"?"bg-green-50 border border-green-200 text-green-700":v==="info"?"bg-blue-50 border border-blue-200 text-blue-700":"bg-red-50 border border-red-200 text-red-700"}`,children:f}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:i("shipment_details")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:i("carrier")}),_?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:ee.carrier,onChange:D=>N(A=>({...A,carrier:D.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"",children:i("select_carrier")}),u.map(D=>s.jsx("option",{value:D.code,children:D.name},D.id)),s.jsx("option",{value:"OTHER",children:i("other")})]}),ee.carrier==="OTHER"&&s.jsx("input",{value:ee.carrier_other||"",onChange:D=>N(A=>({...A,carrier_other:D.target.value})),className:"w-full px-3 py-2 border rounded-lg",placeholder:i("other_carrier_ph")})]}):s.jsxs("p",{className:"text-text-primary",children:[m.carrier,m.carrier_other&&` (${m.carrier_other})`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:i("tracking_id")}),_?s.jsxs(s.Fragment,{children:[(ee.tracking_ids||[""]).map((D,A)=>{var z;return s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"text",value:D,onChange:W=>{const L=[...ee.tracking_ids||[]];L[A]=W.target.value,N(Z=>({...Z,tracking_ids:L}))},className:"flex-1 px-3 py-2 border rounded-lg font-mono",placeholder:"Ex: 1Z999AA1234567890"}),(((z=ee.tracking_ids)==null?void 0:z.length)??0)>1&&s.jsx("button",{type:"button",onClick:()=>{const W=ee.tracking_ids.filter((L,Z)=>Z!==A);N(L=>({...L,tracking_ids:W}))},className:"text-red-500 font-bold text-lg",children:""})]},A)}),s.jsx("button",{type:"button",onClick:()=>N(D=>({...D,tracking_ids:[...(D==null?void 0:D.tracking_ids)||[],""]})),className:"text-primary hover:underline text-sm",children:i("add_tracking_number")})]}):s.jsxs(s.Fragment,{children:[re.length===0&&s.jsx("p",{className:"text-text-secondary",children:""}),re.map((D,A)=>s.jsx("p",{className:"text-text-primary font-mono",children:D},A))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"FBA Shipment ID(s)"}),_?s.jsxs(s.Fragment,{children:[(ee.fba_shipment_ids||[""]).map((D,A)=>{var z;return s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"text",value:D,onChange:W=>{const L=[...ee.fba_shipment_ids||[]];L[A]=W.target.value,N(Z=>({...Z,fba_shipment_ids:L}))},className:"flex-1 px-3 py-2 border rounded-lg font-mono",placeholder:"Ex: FBA15L104JZW"}),(((z=ee.fba_shipment_ids)==null?void 0:z.length)??0)>1&&s.jsx("button",{type:"button",onClick:()=>{const W=ee.fba_shipment_ids.filter((L,Z)=>Z!==A);N(L=>({...L,fba_shipment_ids:W}))},className:"text-red-500 font-bold text-lg",children:""})]},A)}),s.jsx("button",{type:"button",onClick:()=>N(D=>({...D,fba_shipment_ids:[...(D==null?void 0:D.fba_shipment_ids)||[],""]})),className:"text-primary hover:underline text-sm",children:i("add_fba_id")||"Add FBA Shipment ID"})]}):s.jsxs(s.Fragment,{children:[k.length===0&&s.jsx("p",{className:"text-text-secondary",children:""}),k.map((D,A)=>s.jsx("p",{className:"text-blue-600 font-mono",children:D},A))]})]})]}),s.jsx("div",{className:"border rounded-lg p-4 md:col-span-2",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-text-secondary",children:i("fba_mode_title")}),s.jsx("div",{className:"flex flex-wrap gap-4 text-sm text-text-primary",children:["none","full","partial"].map(D=>s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"client-receiving-fba-mode",value:D,checked:(ee.fba_mode||"none")===D,disabled:!_,onChange:()=>B(D)}),i(D==="none"?"fba_mode_none":D==="full"?"fba_mode_full":"fba_mode_partial")]},D))}),ee.fba_mode==="partial"&&s.jsx("div",{className:"mt-2 border rounded-md bg-white max-h-64 overflow-y-auto divide-y",children:(_?j:q).length===0?s.jsx("p",{className:"text-text-secondary text-sm px-4 py-3",children:i("fba_mode_hint")}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-4 py-2 grid grid-cols-[minmax(0,1.2fr)_minmax(0,0.55fr)_minmax(0,0.55fr)] text-[11px] font-semibold uppercase tracking-wide border-b bg-red-50/60",children:[s.jsx("span",{className:"text-text-secondary",children:i("th_name")||"Product name"}),s.jsx("span",{className:"text-red-600 text-right",children:i("fba_units_announced")||"Units announced"}),s.jsx("span",{className:"text-red-600 text-right",children:i("fba_units_to_amazon")||"Units to send to Amazon"})]}),(_?j:q).map((D,A)=>{const z=Math.max(0,Number(D.quantity_received||0)),W=_?!!D.is_received:!1,L=_?D.fba_qty??"":Math.max(0,Number(D.fba_qty||0));return s.jsxs("div",{className:"py-3 px-4 grid grid-cols-[minmax(0,1.2fr)_minmax(0,0.55fr)_minmax(0,0.55fr)] items-center gap-4 border-t first:border-t-0",children:[s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"font-medium text-text-primary truncate",children:D.product_name})}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:`text-lg font-semibold ${W?"text-text-secondary":"text-red-600"}`,children:z})}),s.jsx("div",{className:"flex flex-col items-end gap-1",children:_?s.jsx("input",{type:"number",min:"0",className:`w-24 text-right border rounded px-2 py-1 text-lg font-semibold ${W?"bg-gray-50 text-text-secondary cursor-not-allowed":"text-red-600"}`,disabled:W,value:L,onChange:Z=>O(X=>{const le=[...X],ce=Math.min(z,Math.max(0,Number(Z.target.value)||0));return le[A]={...le[A],send_to_fba:ce>0,fba_qty:ce},le})}):s.jsx("span",{className:"text-lg font-semibold text-red-600",children:L})})]},D.id||A)})]})}),!_&&ee.fba_mode!=="none"&&s.jsx("p",{className:"text-xs text-text-secondary",children:ee.fba_mode==="full"?i("fba_mode_summary_full"):i("fba_mode_summary_partial")})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:i("notes")}),_?s.jsx("textarea",{className:"w-full px-3 py-2 border rounded-lg",rows:3,value:ee.notes||"",onChange:D=>N(A=>({...A,notes:D.target.value})),placeholder:i("notes_ph")}):s.jsx("p",{className:"text-text-primary whitespace-pre-line",children:m.notes||""})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:i("th_ean_asin")}),s.jsx("th",{className:"px-4 py-3 text-left",children:i("th_name")}),s.jsx("th",{className:"px-4 py-3 text-right",children:i("th_expected_qty")}),s.jsx("th",{className:"px-4 py-3 text-right",children:i("th_received_qty")}),!_&&s.jsx("th",{className:"px-4 py-3 text-left",children:i("th_line_status")}),_&&s.jsx("th",{className:"px-4 py-3 text-center",children:i("actions")})]})}),s.jsx("tbody",{children:q.map((D,A)=>{const z=D.send_to_fba&&Number(D.fba_qty||0)>0,W=D.received_at?new Date(D.received_at):null,L=Math.max(0,Number(D.quantity_received||0)),Z=Math.max(0,Number(D.received_units||0)),X=Math.max(0,L-Z),le=L>0&&X===0&&Z>0,ce=Z>0&&X>0,ae=i("line_status_progress",{received:Z,total:L||Z}),be=["border-t","transition-colors"];le?be.push("bg-emerald-50"):ce?be.push("bg-rose-50/70"):z&&be.push("bg-blue-50/60");const me=le?{label:i("line_status_received"),detail:W?i("line_status_received_on",{date:W.toLocaleDateString(o)}):ae,color:"bg-green-100 text-green-800"}:ce?{label:i("status_partial"),detail:i("qty_discrepancy",{count:X}),color:"bg-rose-100 text-rose-800"}:{label:i("line_status_pending"),detail:ae,color:"bg-gray-100 text-gray-700"},Ae=_&&!le,Fe=yX(D),Xe=vX(D);return s.jsxs("tr",{className:be.join(" "),children:[s.jsx("td",{className:"px-4 py-3",children:Ae?s.jsxs("div",{className:"space-y-1",children:[s.jsx("input",{value:D.ean_asin||"",onChange:He=>O(qe=>{const Ie=[...qe];return Ie[A]={...Ie[A],ean_asin:He.target.value},Ie}),className:"w-full px-2 py-1 border rounded font-mono"}),s.jsx("input",{value:D.sku||"",onChange:He=>O(qe=>{const Ie=[...qe];return Ie[A]={...Ie[A],sku:He.target.value||null},Ie}),className:"w-full px-2 py-1 border rounded font-mono text-xs text-text-secondary",placeholder:"SKU"})]}):s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded border bg-gray-50 flex items-center justify-center overflow-hidden text-[9px] text-text-secondary flex-shrink-0",children:Fe?s.jsx("img",{src:Fe,alt:D.product_name||"Product photo",className:"w-full h-full object-cover"}):"No img"}),s.jsxs("div",{className:"text-[10px] text-text-secondary space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[8px] uppercase tracking-wide text-text-tertiary",children:"ASIN"}),s.jsx("span",{className:"font-mono text-[10px] text-text-primary",children:Xe.asin})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[8px] uppercase tracking-wide text-text-tertiary",children:"SKU"}),s.jsx("span",{className:"font-mono text-[10px] text-text-primary",children:Xe.sku})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[8px] uppercase tracking-wide text-text-tertiary",children:"EAN"}),s.jsx("span",{className:"font-mono text-[10px] text-text-primary",children:Xe.ean})]})]})]})}),s.jsx("td",{className:"px-4 py-3",children:Ae?s.jsx("input",{value:D.product_name||"",onChange:He=>O(qe=>{const Ie=[...qe];return Ie[A]={...Ie[A],product_name:He.target.value},Ie}),className:"w-full px-2 py-1 border rounded"}):D.product_name}),s.jsx("td",{className:"px-4 py-3 text-right",children:Ae?s.jsx("input",{type:"number",min:"1",value:D.quantity_received||1,onChange:He=>O(qe=>{const Ie=[...qe],jn=Math.max(1,parseInt(He.target.value||"1",10)),qr={...Ie[A],quantity_received:jn};return qr.send_to_fba&&qr.fba_qty!=null&&(qr.fba_qty=Math.min(jn,Math.max(1,Number(qr.fba_qty)||1))),Ie[A]=qr,Ie}),className:"w-24 text-right px-2 py-1 border rounded"}):L}),s.jsxs("td",{className:"px-4 py-3 text-right",children:[s.jsx("div",{className:"text-text-primary font-semibold",children:Z}),X>0&&s.jsx("div",{className:"text-xs text-red-600 font-semibold",children:i("qty_discrepancy",{count:X})}),!Ae&&X===0&&s.jsx("div",{className:"text-xs text-text-secondary",children:i("no_discrepancy")})]}),!_&&s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${me.color}`,children:me.label}),s.jsx("span",{className:"text-xs text-text-secondary mt-1",children:me.detail})]})}),_&&s.jsx("td",{className:"px-4 py-3 text-center",children:Ae?s.jsx("button",{onClick:()=>O(He=>He.filter((qe,Ie)=>Ie!==A)),className:"text-red-600 hover:text-red-800",children:s.jsx(Nt,{className:"w-4 h-4"})}):s.jsx("span",{className:"text-xs text-text-secondary",children:i("line_status_received")})})]},D.id||A)})})]}),_&&s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("button",{onClick:()=>O(D=>[...D,{id:void 0,ean_asin:"",product_name:"",quantity_received:1,sku:null,purchase_price:null,send_to_fba:!1,fba_qty:null}]),className:"flex items-center px-3 py-2 text-primary border border-primary rounded-lg hover:bg-primary hover:text-white",children:[s.jsx(rn,{className:"w-4 h-4 mr-1"})," ",i("add_row")]}),s.jsxs("button",{onClick:()=>C(D=>{const A=!D;return A||(K(""),H({})),A}),className:"flex items-center px-3 py-2 text-primary border border-dashed rounded-lg hover:bg-primary hover:text-white",children:[s.jsx(rn,{className:"w-4 h-4 mr-1"}),i($?"inventory_close":"inventory_open")]})]}),$&&s.jsxs("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-3",children:[s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold",children:i("inventory_title")})}),s.jsx("input",{type:"text",placeholder:i("inventory_search"),value:U,onChange:D=>K(D.target.value),className:"px-3 py-2 border rounded-lg text-sm w-full sm:w-72"})]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto divide-y",children:[G.map(D=>s.jsxs("div",{className:"py-2 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-primary",children:D.name||""}),s.jsxs("p",{className:"text-xs text-text-secondary",children:[D.ean||D.asin||""," "," ",i("inventory_in_stock",{qty:D.qty??0})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",min:"1",placeholder:"Qty",className:"w-20 text-right px-2 py-1 border rounded",value:F[D.id]||"",onChange:A=>H(z=>({...z,[D.id]:A.target.value}))}),s.jsx("button",{onClick:()=>I(D.id),className:"px-3 py-1 bg-primary text-white rounded text-xs",children:i("inventory_add")})]})]},D.id)),G.length===0&&s.jsx("div",{className:"py-4 text-center text-sm text-text-secondary",children:i("inventory_empty")})]})]})]})]})]})]})}return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:i("page_title")}),s.jsx("p",{className:"text-text-secondary",children:i("page_subtitle")}),s.jsx("p",{className:"text-xs text-text-light",children:i("report_hint")})]}),s.jsx(oe,{})]}),f&&s.jsx("div",{className:`px-4 py-3 rounded-lg ${v==="success"?"bg-green-50 border border-green-200 text-green-700":v==="info"?"bg-blue-50 border border-blue-200 text-blue-700":"bg-red-50 border border-red-200 text-red-700"}`,children:f}),s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[900px]",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:i("list_carrier")}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:i("list_tracking")}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"FBA Shipment ID(s)"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:i("list_status")}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:i("list_products")}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:i("list_date")}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:i("actions")})]})}),s.jsx("tbody",{children:l.length===0?s.jsx("tr",{className:"border-t",children:s.jsxs("td",{colSpan:7,className:"px-6 py-8 text-center text-text-secondary",children:[s.jsx("div",{className:"font-medium",children:i("empty_list_title")}),s.jsx("div",{className:"text-sm text-text-light",children:i("empty_list_desc")})]})}):l.map(R=>{var k;const q=cl(R.tracking_ids,R.tracking_id),re=cl(R.fba_shipment_ids);return s.jsxs("tr",{className:"border-t",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-text-primary font-medium",children:R.carrier||""}),R.carrier_other&&s.jsx("div",{className:"text-xs text-text-secondary",children:R.carrier_other})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[q.length===0&&s.jsx("span",{className:"text-text-secondary",children:""}),q.map(ee=>s.jsx("p",{className:"font-mono text-xs",children:ee},ee))]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[re.length===0&&s.jsx("span",{className:"text-text-secondary",children:""}),re.map(ee=>s.jsx("p",{className:"font-mono text-blue-600 text-xs",children:ee},ee))]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:se(R.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"text-text-primary",children:[((k=R.receiving_items)==null?void 0:k.length)||0," ",i("units_label")]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-text-secondary",children:new Date(R.created_at).toLocaleDateString(o)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsx("button",{onClick:()=>J(R),className:"text-primary hover:text-primary-dark",children:i("view_details")})})]},R.id)})})]})})]})}const pN=[{id:"eu",consentUrl:"https://sellercentral-europe.amazon.com/apps/authorize/consent",marketplaceId:"A13V1IB3VIYZZH"},{id:"na",consentUrl:"https://sellercentral.amazon.com/apps/authorize/consent",marketplaceId:"ATVPDKIKX0DER"},{id:"jp",consentUrl:"https://sellercentral-japan.amazon.com/apps/authorize/consent",marketplaceId:"A1VC38T7YXB528"}];function _X({status:e,t}){return e==="active"?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs bg-emerald-50 text-emerald-700",children:[s.jsx(Ts,{className:"w-3 h-3"})," ",t("ClientIntegrations.status.active")]}):e==="error"?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs bg-red-50 text-red-700",children:[s.jsx(Vj,{className:"w-3 h-3"})," ",t("ClientIntegrations.status.error")]}):s.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs bg-gray-100 text-gray-600",children:t("ClientIntegrations.status.pending")})}function wX(){const{user:e,profile:t}=Ye(),{t:r,tp:n}=qt(),i=r("common.supportError"),[a,o]=x.useState("eu"),[l]=x.useState(()=>Math.random().toString(36).slice(2)+Date.now().toString(36)),[c,u]=x.useState([]),[d,p]=x.useState(!0),[h,m]=x.useState(""),[y,f]=x.useState(!1),g="",v=`${window.location.origin}/integrations/amazon/callback`,b=x.useMemo(()=>{var O;if(!(e!=null&&e.id))return"";const N=((O=pN.find(E=>E.id===a))==null?void 0:O.marketplaceId)||"A13V1IB3VIYZZH",j={userId:e.id,companyId:(t==null?void 0:t.company_id)||e.id,region:a,marketplaceId:N,redirectUri:v,nonce:l};return btoa(JSON.stringify(j))},[e==null?void 0:e.id,t==null?void 0:t.company_id,a,l,v]),_=x.useMemo(()=>"",[g,v,a,b]),S=async()=>{if(!(e!=null&&e.id))return;f(!0);const{data:N,error:j}=await Q.from("amazon_integrations").select("id, marketplace_id, region, status, last_synced_at, created_at, last_error").eq("user_id",e.id).order("created_at",{ascending:!1});j?(m(i),u([])):(m(""),u(Array.isArray(N)?N:[])),f(!1),p(!1)};x.useEffect(()=>{S()},[e==null?void 0:e.id]);const w=async N=>{if(!window.confirm(r("ClientIntegrations.confirmDisconnect")))return;m("");const{error:j}=await Q.from("amazon_integrations").delete().eq("id",N);j?m(i):(m(r("ClientIntegrations.flashRemoved")),S())};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-primary/10 text-primary",children:s.jsx(Dy,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-text-primary",children:r("ClientIntegrations.title")}),s.jsx("p",{className:"text-sm text-text-secondary",children:r("ClientIntegrations.desc")})]})]}),s.jsx("div",{className:"p-4 rounded-lg border border-amber-300 bg-amber-50 text-sm text-amber-900",children:n("ClientIntegrations.notice",{clientId:"VITE_SPAPI_CLIENT_ID",redirect:"VITE_SPAPI_REDIRECT_URI"})}),h&&s.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:h}),s.jsxs("section",{className:"bg-white border rounded-xl p-5 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-text-secondary",children:r("ClientIntegrations.marketplaceLabel")}),s.jsx("select",{value:a,onChange:N=>o(N.target.value),className:"border rounded-lg px-3 py-2",children:pN.map(N=>s.jsx("option",{value:N.id,children:r(`ClientIntegrations.regions.${N.id}`)},N.id))})]}),s.jsxs("button",{onClick:()=>_&&window.open(_,"_blank","noopener"),disabled:!_,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-white disabled:opacity-60",children:[s.jsx(lF,{className:"w-4 h-4"})," ",r("ClientIntegrations.connectButton")]})]}),s.jsx("p",{className:"text-xs text-text-light",children:r("ClientIntegrations.instructions")})]}),s.jsxs("section",{className:"bg-white border rounded-xl p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:r("ClientIntegrations.listTitle")}),s.jsx("p",{className:"text-sm text-text-secondary",children:r("ClientIntegrations.listDesc")})]}),s.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 border rounded-lg px-3 py-1.5 text-sm",children:[s.jsx(Bs,{className:`w-4 h-4 ${y?"animate-spin":""}`})," ",r("ClientIntegrations.refresh")]})]}),d?s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary text-sm",children:[s.jsx(Sg,{className:"w-4 h-4 animate-spin"})," ",r("common.loading")]}):c.length===0?s.jsx("div",{className:"text-sm text-text-secondary",children:r("ClientIntegrations.empty")}):s.jsx("div",{className:"grid gap-3",children:c.map(N=>s.jsxs("div",{className:"border rounded-lg p-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-text-primary flex items-center gap-2",children:[r("ClientIntegrations.card.marketplaceAlt",{id:N.marketplace_id}),s.jsx(_X,{status:N.status,t:r})]}),s.jsxs("div",{className:"text-xs text-text-secondary",children:[n("ClientIntegrations.fields.added",{date:new Date(N.created_at).toLocaleString()}),N.last_synced_at&&s.jsxs(s.Fragment,{children:["  ",n("ClientIntegrations.fields.lastSync",{date:new Date(N.last_synced_at).toLocaleString()})]})]}),N.last_error&&s.jsxs("div",{className:"text-xs text-red-600 mt-1",children:[r("ClientIntegrations.fields.lastError")," ",i]})]}),s.jsxs("button",{onClick:()=>w(N.id),className:"inline-flex items-center gap-2 text-sm text-red-600 hover:text-red-700",children:[s.jsx(fR,{className:"w-4 h-4"})," ",r("ClientIntegrations.actions.disconnect")]})]},N.id))})]})]})}const SX=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString()}catch{return e.slice(0,10)}},wf=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`tmp-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;function NX(){var de;const{profile:e}=Ye(),{t}=qt(),r=t("common.supportError"),[n,i]=x.useState([]),[a,o]=x.useState(!0),[l,c]=x.useState(""),[u,d]=x.useState([]),[p,h]=x.useState(""),[m,y]=x.useState({}),[f,g]=x.useState(!1),[v,b]=x.useState(!1),[_,S]=x.useState(!1),[w,N]=x.useState(null),[j,O]=x.useState([]),[E,P]=x.useState([]),[M,T]=x.useState(!1),[$,C]=x.useState(""),[U,K]=x.useState(""),F=x.useMemo(()=>{const B=p.trim().toLowerCase();return B?u.filter(I=>`${I.name||""} ${I.ean||""} ${I.asin||""}`.toLowerCase().includes(B)):u},[u,p]),H=B=>{const I=B!=null&&B.stock_item_id?u.find(R=>R.id===B.stock_item_id):null;return{ean:(B==null?void 0:B.ean)||(I==null?void 0:I.ean)||""||"",name:(I==null?void 0:I.name)||(B==null?void 0:B.product_name)||""}},G=(B,I)=>{const R=String(I||"").trim().toUpperCase(),q=/^[A-Z0-9]{10}$/.test(R)&&/[A-Z]/.test(R);pe(B,q?{asin:R,sku:""}:{sku:I,asin:""})},ie=()=>{T(!0),C(""),K("")},J=()=>{T(!1),C(""),K(""),h(""),y({})},Y=()=>{const B=String($||"").trim(),I=Number(U),R=u.find(re=>String(re.id)===B),q=[];if(R||q.push(t("ClientPrepShipments.drawer.selectStock")),(!Number.isFinite(I)||I<1)&&q.push(t("ClientPrepShipments.drawer.qtyError")),R&&Number(R.qty||0)<I&&q.push(t("ClientPrepShipments.drawer.stockError",{qty:R.qty??0})),q.length){P(q);return}O(re=>[...re,{id:null,client_uid:wf(),stock_item_id:R.id,asin:R.asin||"",sku:"",ean:R.ean||"",units_requested:I,product_name:R.name||""}]),P([]),J()},pe=(B,I)=>{O(R=>R.map(q=>q.id&&q.id===B||q.client_uid&&q.client_uid===B?{...q,...I}:q))},oe=B=>{O(I=>I.filter(R=>!(R.id&&R.id===B||R.client_uid&&R.client_uid===B)))},se=B=>{const I=Number(m[B]||0),R=u.find(q=>q.id===B);if(!R||!Number.isFinite(I)||I<1){P([t("ClientPrepShipments.drawer.qtyError")]);return}if(Number(R.qty||0)<I){P([t("ClientPrepShipments.drawer.stockError",{qty:R.qty??0})]);return}O(q=>[...q,{id:null,client_uid:wf(),stock_item_id:R.id,asin:R.asin||"",sku:"",ean:R.ean||"",units_requested:I,product_name:R.name||""}]),P([]),y(q=>({...q,[B]:""}))},_e=async B=>{g(!0),b(!0),N(null),O([]),S(!1),T(!1),C(""),K(""),y({}),P([]);try{const{data:I,error:R}=await he.getPrepRequest(B);if(R)throw R;N({id:I.id,destination_country:I.destination_country,status:I.status,created_at:I.created_at,fba_shipment_id:I.fba_shipment_id||null});const q=Array.isArray(I.prep_request_items)?I.prep_request_items:[];O(q.map(re=>{var k,ee;return{id:re.id,client_uid:re.id?null:wf(),stock_item_id:re.stock_item_id??null,asin:re.asin??"",sku:re.sku??"",units_requested:Number(re.units_requested||0),product_name:re.product_name||((k=re.stock_item)==null?void 0:k.name)||"",ean:re.ean||((ee=re.stock_item)==null?void 0:ee.ean)||""}})),S((I.status||"pending")==="pending")}catch{P([r]),S(!1)}finally{b(!1)}},te=async()=>{if(!(w!=null&&w.id)||!_)return;const B=[];if(j.forEach((I,R)=>{I.stock_item_id||B.push(`${t("ClientPrepShipments.drawer.line")} ${R+1}: ${t("ClientPrepShipments.drawer.selectStock")}`),(!Number.isFinite(Number(I.units_requested))||Number(I.units_requested)<1)&&B.push(`${t("ClientPrepShipments.drawer.line")} ${R+1}: ${t("ClientPrepShipments.drawer.qtyError")}`);const q=u.find(re=>re.id===I.stock_item_id);q&&Number(q.qty||0)<Number(I.units_requested)&&B.push(`${t("ClientPrepShipments.drawer.line")} ${R+1}: ${t("ClientPrepShipments.drawer.stockError",{qty:q.qty??0})}`)}),B.length){P(B);return}try{b(!0);const{data:I}=await he.getPrepRequest(w.id);if(((I==null?void 0:I.status)||"pending")!=="pending"){S(!1),P([t("ClientPrepShipments.drawer.locked")]);return}const R=Array.isArray(I==null?void 0:I.prep_request_items)?I.prep_request_items:[],q={};R.forEach(A=>{A.id&&(q[A.id]=A)});const re=new Set(j.filter(A=>A.id).map(A=>A.id)),k=R.filter(A=>!re.has(A.id)),ee=j.filter(A=>!A.id&&(A.stock_item_id||A.product_name&&A.product_name.trim()||A.ean&&A.ean.trim()||A.asin&&A.asin.trim())),D=j.filter(A=>A.id&&q[A.id]);for(const A of k){const{error:z}=await he.deletePrepItem(A.id);if(z)throw z}for(const A of ee){const z=n.find(X=>X.id===A.stock_item_id)||{},W=await jX(A);W&&!A.stock_item_id&&(A.stock_item_id=W);const L={stock_item_id:W||null,ean:z.ean||A.ean||null,product_name:z.name||A.product_name||null,asin:A.asin||z.asin||null,sku:A.sku||z.sku||null,units_requested:Math.max(1,Number(A.units_requested)||0)},{error:Z}=await he.createPrepItem(w.id,L);if(Z)throw Z}for(const A of D){const z=q[A.id],W={};if((A.asin||"")!==(z.asin||"")&&(W.asin=(A.asin||"").trim()||null),(A.sku||"")!==(z.sku||"")&&(W.sku=(A.sku||"").trim()||null),Number(A.units_requested)!==Number(z.units_requested)&&(W.units_requested=Number(A.units_requested)),Object.keys(W).length>0){const{error:L}=await he.updatePrepItem(A.id,W);if(L)throw L}}P([]),g(!1)}catch{P([r])}finally{b(!1)}};return x.useEffect(()=>{if(!(e!=null&&e.id)||!(e!=null&&e.company_id))return;let B=!0;return(async()=>{o(!0);const[R,q]=await Promise.all([Q.from("prep_requests").select("id, destination_country, created_at, status, fba_shipment_id, prep_request_tracking(tracking_id)").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(100),Q.from("stock_items").select("*").eq("company_id",e.company_id).order("created_at",{ascending:!1})]);B&&(R.error?(c(r),i([])):(c(""),i(Array.isArray(R.data)?R.data:[])),d(Array.isArray(q.data)?q.data:[]),o(!1))})(),()=>{B=!1}},[e==null?void 0:e.id,e==null?void 0:e.company_id]),s.jsxs("div",{className:"space-y-6",children:[s.jsx("header",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 text-primary rounded-xl",children:s.jsx($a,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-text-primary",children:t("ClientPrepShipments.title")}),s.jsx("p",{className:"text-sm text-text-secondary",children:t("ClientPrepShipments.desc")})]})]})}),s.jsxs("div",{className:"border rounded-xl bg-white overflow-hidden",children:[s.jsxs("div",{className:"border-b px-5 py-3 flex items-center justify-between",children:[s.jsx("h2",{className:"text-sm font-semibold text-text-secondary uppercase tracking-wide",children:t("ClientPrepShipments.table.title")}),a&&s.jsx("span",{className:"text-xs text-text-light",children:t("common.loading")})]}),l&&s.jsx("div",{className:"p-4 text-sm text-red-600 bg-red-50 border-b border-red-100",children:l}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[720px] text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-text-secondary",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left",children:t("ClientStock.recent.thead.date")}),s.jsx("th",{className:"px-4 py-2 text-left",children:t("ClientStock.recent.thead.country")}),s.jsx("th",{className:"px-4 py-2 text-left",children:t("ClientStock.recent.thead.fbaShipmentId")}),s.jsx("th",{className:"px-4 py-2 text-left",children:t("ClientStock.recent.thead.trackIds")}),s.jsx("th",{className:"px-4 py-2 text-left",children:t("ClientStock.recent.thead.status")}),s.jsx("th",{className:"px-4 py-2 text-right",children:t("ClientPrepShipments.table.actions")})]})}),s.jsxs("tbody",{children:[!a&&n.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-text-light",children:t("ClientPrepShipments.table.empty")})}),n.map(B=>{const I=B.status||"pending",R=Array.isArray(B.prep_request_tracking)&&B.prep_request_tracking.length?B.prep_request_tracking.map(ee=>ee.tracking_id).join(", "):"",q=I==="pending",re=(B.destination_country||"FR").toUpperCase(),k=t(`ClientStock.countries.${re}`)||re;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-4 py-2",children:SX(B.created_at)}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-semibold bg-rose-50 text-rose-600 uppercase",children:[re,s.jsx("span",{className:"normal-case text-[11px] text-rose-700",children:k})]})}),s.jsx("td",{className:"px-4 py-2 font-mono text-xs",children:B.fba_shipment_id||""}),s.jsx("td",{className:"px-4 py-2",children:R}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs ${q?"bg-yellow-50 text-yellow-800":"bg-gray-100 text-gray-700"}`,children:I})}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsx("button",{className:"text-primary text-sm hover:underline disabled:opacity-50",disabled:!B.id,onClick:()=>B.id&&_e(B.id),children:t(q?"ClientPrepShipments.table.edit":"ClientPrepShipments.table.view")})})]},B.id)})]})]})})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-black/30 z-[110]",onClick:()=>g(!1),children:s.jsxs("div",{className:"absolute right-0 top-0 h-full w-full max-w-4xl bg-white shadow-xl overflow-y-auto",onClick:B=>B.stopPropagation(),children:[s.jsx("div",{className:"sticky top-0 z-[120] bg-white/95 backdrop-blur border-b px-6 py-3",children:s.jsx("h3",{className:"text-lg font-semibold",children:t(_?"ClientPrepShipments.drawer.pendingTitle":"ClientPrepShipments.drawer.readonlyTitle")})}),v?s.jsx("div",{className:"text-sm text-text-secondary py-8 px-6",children:t("common.loading")}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4 text-sm px-6 pt-4",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-text-secondary",children:[t("ClientPrepShipments.drawer.date"),":"]})," ",((de=w==null?void 0:w.created_at)==null?void 0:de.slice(0,10))||""]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("span",{className:"text-text-secondary",children:[t("ClientPrepShipments.drawer.country"),":"]}),s.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold bg-rose-50 text-rose-600 uppercase",children:((w==null?void 0:w.destination_country)||"FR").toUpperCase()}),s.jsx("span",{className:"text-sm text-text-secondary",children:t(`ClientStock.countries.${(w==null?void 0:w.destination_country)||"FR"}`)})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-text-secondary",children:[t("ClientPrepShipments.drawer.status"),":"]})," ",(w==null?void 0:w.status)||"pending"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-text-secondary",children:[t("ClientPrepShipments.drawer.shipment"),":"]})," ",(w==null?void 0:w.fba_shipment_id)||""]})]}),E.length>0&&s.jsx("div",{className:"mx-6 mb-4 rounded-md border border-red-200 bg-red-50 text-red-700 p-3 text-sm space-y-1",children:E.map((B,I)=>s.jsxs("div",{children:[" ",B]},I))}),s.jsx("div",{className:"px-6 mb-4",children:s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-text-secondary",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 text-left",children:"EAN"}),s.jsx("th",{className:"px-2 py-2 text-left",children:t("ClientPrepShipments.drawer.product")}),s.jsx("th",{className:"px-2 py-2 text-left",children:"ASIN / SKU"}),s.jsx("th",{className:"px-2 py-2 text-right",children:t("ClientPrepShipments.drawer.units")}),_&&s.jsx("th",{className:"px-2 py-2 text-center",children:t("ClientPrepShipments.drawer.actions")})]})}),s.jsxs("tbody",{children:[j.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:_?5:4,className:"px-3 py-6 text-center text-text-secondary",children:t("ClientPrepShipments.drawer.empty")})}),j.map(B=>{const I=B.id??B.client_uid,R=H(B),q=String(B.asin||"").trim()||String(B.sku||"").trim()||"";return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-2 py-2 font-mono text-xs",children:R.ean||B.ean||""}),s.jsx("td",{className:"px-2 py-2",children:R.name||""}),s.jsx("td",{className:"px-2 py-2",children:_?s.jsx("input",{className:"border rounded px-2 py-1 w-full",value:q,onChange:re=>G(I,re.target.value)}):q}),s.jsx("td",{className:"px-2 py-2 text-right",children:_?s.jsx("input",{type:"number",min:1,className:"border rounded px-2 py-1 w-20 text-right",value:B.units_requested,onChange:re=>pe(I,{units_requested:Number(re.target.value)})}):B.units_requested}),_&&s.jsx("td",{className:"px-2 py-2 text-center",children:s.jsx("button",{className:"text-xs border rounded px-2 py-1 text-red-600 hover:bg-red-50",onClick:()=>oe(I),children:t("ClientPrepShipments.drawer.remove")})})]},I||B.stock_item_id)})]})]})})}),_&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-6 mb-4",children:M?s.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50",children:[s.jsx("div",{className:"mb-2 text-sm font-semibold",children:t("ClientPrepShipments.drawer.selectProduct")}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("select",{className:"border rounded px-2 py-1 w-full text-sm",value:$,onChange:B=>C(B.target.value),children:[s.jsx("option",{value:"",children:""}),u.map(B=>s.jsxs("option",{value:B.id,children:[B.ean||"No EAN","  ",B.name||"Unnamed"," (Stock: ",B.qty,")"]},B.id))]}),s.jsx("input",{type:"number",min:1,className:"border rounded px-2 py-1 w-full text-right",value:U,onChange:B=>K(B.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{className:"text-xs border rounded px-3 py-1",onClick:J,children:t("ClientPrepShipments.drawer.cancel")}),s.jsx("button",{className:"text-xs bg-primary text-white rounded px-3 py-1",onClick:Y,children:t("ClientPrepShipments.drawer.add")})]})]}):s.jsx("button",{className:"text-sm border rounded px-3 py-1 hover:bg-gray-50",onClick:ie,children:t("ClientPrepShipments.drawer.addManual")})}),M&&s.jsxs("div",{className:"px-6 mb-6 border rounded-xl p-3 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:t("ClientPrepShipments.drawer.inventoryTitle")}),s.jsx("input",{type:"text",placeholder:t("ClientPrepShipments.drawer.inventorySearch"),className:"border rounded px-2 py-1 text-sm",value:p,onChange:B=>h(B.target.value)})]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto divide-y",children:[F.map(B=>s.jsxs("div",{className:"py-2 flex items-center justify-between text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-text-primary",children:B.name||""}),s.jsxs("div",{className:"text-xs text-text-secondary",children:[B.ean||"EAN ","  ",t("ClientPrepShipments.drawer.inStock",{qty:B.qty??0})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",min:1,placeholder:"Qty",className:"border rounded px-2 py-1 w-20 text-right",value:m[B.id]||"",onChange:I=>y(R=>({...R,[B.id]:I.target.value}))}),s.jsx("button",{className:"px-2 py-1 bg-primary text-white rounded text-xs",onClick:()=>se(B.id),children:t("ClientPrepShipments.drawer.add")})]})]},B.id)),F.length===0&&s.jsx("div",{className:"py-4 text-center text-text-secondary text-sm",children:t("ClientPrepShipments.drawer.inventoryEmpty")})]})]})]}),s.jsxs("div",{className:"px-6 mb-6 flex justify-end gap-2",children:[s.jsx("button",{className:"border rounded px-4 py-2",onClick:()=>g(!1),children:t("ClientPrepShipments.drawer.close")}),_&&s.jsx("button",{className:"bg-primary text-white rounded px-4 py-2",onClick:te,children:t("ClientPrepShipments.drawer.save")})]})]})]})})]})}const Ei=e=>String(e||"").trim().toLowerCase(),kX=e=>{const t=Ei(e.ean||e.ean_asin);if(t){const a=stock.find(o=>Ei(o.ean)===t);if(a)return a}const r=Ei(e.asin);if(r){const a=stock.find(o=>Ei(o.asin)===r);if(a)return a}const n=Ei(e.sku);if(n){const a=stock.find(o=>Ei(o.sku)===n);if(a)return a}const i=Ei(e.product_name);if(i){const a=stock.find(o=>Ei(o.name)===i);if(a)return a}return null},jX=async e=>{if(e.stock_item_id)return e.stock_item_id;const t=kX(e);if(t)return t.id;if(!(profile!=null&&profile.company_id))return null;const r={company_id:profile.company_id,user_id:profile.id,name:e.product_name||e.name||e.asin||e.ean||"Prep product",asin:e.asin||null,sku:e.sku||null,ean:e.ean||null,qty:0,created_by:profile.id},{data:n,error:i}=await Q.from("stock_items").insert(r).select().single();if(i)throw i;return setStock(a=>[n,...a]),n.id};function AX({companyId:e}){const{t}=qt(),[r,n]=x.useState(!1),[i,a]=x.useState([]),[o,l]=x.useState(!1),[c,u]=x.useState(!1),d=x.useRef(null);return x.useEffect(()=>{if(!e){a([]);return}let p=!0;return(async()=>{l(!0);const{data:h}=await he.listCompanyDeals(e);p&&(a(Array.isArray(h)?h:[]),l(!1))})(),()=>{p=!1}},[e]),x.useEffect(()=>{if(!r)return;const p=h=>{d.current&&!d.current.contains(h.target)&&(n(!1),u(!1))};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]),e?s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>n(p=>!p),className:"text-sm text-primary border border-primary px-3 py-1.5 rounded-lg hover:bg-primary hover:text-white transition-colors",children:t("ClientDeals.button")}),r&&s.jsxs("div",{ref:d,className:"absolute right-0 mt-2 w-72 bg-white border border-gray-200 rounded-xl shadow-xl z-30 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-text-primary",children:t("ClientDeals.title")}),s.jsx("button",{className:"text-xs text-text-secondary hover:text-primary",onClick:()=>{n(!1),u(!1)},children:""})]}),o?s.jsx("div",{className:"text-xs text-text-secondary",children:t("ClientDeals.loading")}):i.length===0?s.jsx("div",{className:"text-xs text-text-secondary",children:t("ClientDeals.empty")}):s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:"divide-y divide-gray-100 text-sm max-h-56 overflow-auto mb-3",children:(c?i:i.slice(0,4)).map(p=>s.jsx("li",{className:"py-1.5",children:s.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[s.jsx("span",{className:"font-medium truncate",children:p.title}),s.jsx("span",{className:"text-xs text-text-secondary whitespace-nowrap",children:p.amount!=null?`${Number(p.amount).toFixed(2)}  HT`:""})]})},p.id))}),i.length>4&&s.jsx("button",{className:"text-xs text-primary hover:underline",onClick:()=>u(p=>!p),children:t(c?"ClientDeals.hide":"ClientDeals.showAll")})]})]})]}):null}const CX=e=>String(e||"").trim().toLowerCase(),Sf=e=>Number.isFinite(e)?e.toFixed(2):"0.00",Tn=(e,{allowNull:t=!1}={})=>{if(e===""||e==null)return t?null:0;const r=Number(String(e).replace(",","."));return Number.isFinite(r)?r:t?null:0};function PX({companyId:e,variant:t="default"}){const{t:r}=qt(),[n,i]=x.useState(!0),[a,o]=x.useState(0);x.useEffect(()=>{let d=!0;return(async()=>{if(!e){d&&(o(0),i(!1));return}i(!0);const[{data:p},{data:h},{data:m}]=await Promise.all([Q.from("fba_lines").select("id, unit_price, units, total, service_date").eq("company_id",e),Q.from("fbm_lines").select("id, unit_price, orders_units, total, service_date").eq("company_id",e),Q.from("other_lines").select("id, unit_price, units, total, service_date").eq("company_id",e)]),y=(p||[]).reduce((S,w)=>{const N=w.total!=null?Tn(w.total):Tn(w.unit_price)*Tn(w.units);return S+(Number.isFinite(N)?N:0)},0),f=(h||[]).reduce((S,w)=>{const N=w.total!=null?Tn(w.total):Tn(w.unit_price)*Tn(w.orders_units);return S+(Number.isFinite(N)?N:0)},0),g=(m||[]).reduce((S,w)=>{const N=w.total!=null?Tn(w.total):Tn(w.unit_price)*Tn(w.units);return S+(Number.isFinite(N)?N:0)},0),{data:v}=await Q.from("invoices").select("id, amount, status, issue_date, company_id").eq("company_id",e),b=(v||[]).reduce((S,w)=>{const N=CX(w.status)==="paid",j=Tn(w.amount);return S+(N&&Number.isFinite(j)?j:0)},0),_=y+f+g-b;d&&(o(_),i(!1))})(),()=>{d=!1}},[e]);const c=!Number.isFinite(a)||Math.abs(a)<1e-9?"bg-gray-100 text-gray-700":a<0?"bg-green-100 text-green-800":"bg-red-100 text-red-800",u=t==="compact";return s.jsx("div",{className:u?"":"mb-6",children:s.jsxs("div",{className:`bg-slate-50 border border-slate-200 rounded-xl ${u?"p-3 w-[210px]":"p-4 flex flex-col items-end"}`,children:[s.jsx("div",{className:`text-sm text-text-secondary ${u?"mb-1":"self-start"}`,children:r("ClientBalanceBar.title")}),s.jsx("div",{className:`px-3 py-1 rounded-md font-semibold ${c} ${u?"text-sm":"text-base"}`,children:n?r("common.calculating"):r("ClientBalanceBar.current").replace("{amount}",Sf(Number(a||0)))}),!n&&a<0&&s.jsx("div",{className:"mt-1 text-xs text-green-600 italic",children:r("ClientBalanceBar.prepayment").replace("{amount}",Sf(Math.abs(a)))}),!n&&a>0&&s.jsx("div",{className:"mt-1 text-xs text-red-600 italic",children:r("ClientBalanceBar.outstanding").replace("{amount}",Sf(a))})]})})}const EX=e=>{const t=[e==null?void 0:e.first_name,e==null?void 0:e.last_name].filter(Boolean);return t.length?t.join(" "):e!=null&&e.company_name?e.company_name:e!=null&&e.store_name?e.store_name:""},Pa=new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:2}),TX=()=>{const e=()=>Math.random().toString(36).substring(2,4).toUpperCase();return`AF-${e()}${e()}-${Math.floor(Math.random()*90+10)}`},zX=(e,t)=>{if(!t)return 0;const r=Number(e||0);if(r<=0)return 0;const n=t.payout_type||"percentage";if(n==="fixed"){const a=Number(t.threshold_amount||0);return t.fixed_amount?a&&r<a?0:Number(t.fixed_amount):0}if(n==="threshold"){const a=Number(t.threshold_amount||0),o=Number(t.percent_below_threshold||0),l=Number(t.percent_above_threshold||o),c=a&&r>=a?l:o;return r*c/100}const i=Number(t.percent_below_threshold||0)||Number(t.percent_above_threshold||0);return r*i/100};function OX(){const{profile:e}=Ye(),{t}=qt(),[r,n]=x.useState("loading"),[i,a]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(""),[d,p]=x.useState({preferredCode:"",notes:""}),[h,m]=x.useState(!1),[y,f]=x.useState(null),[g,v]=x.useState(!1),b=!!(o!=null&&o.code),_=(i==null?void 0:i.request)||null,S=x.useMemo(()=>o!=null&&o.members?o.members.map(P=>{const M=Number(P.billing_total||0),T=zX(M,o.code);return{...P,billing_total:M,commission:T}}):[],[o]),w=x.useMemo(()=>S.reduce((P,M)=>(P.billed+=M.billing_total,P.commission+=M.commission,P.count+=1,P),{billed:0,commission:0,count:0}),[S]);x.useEffect(()=>{e!=null&&e.id&&N()},[e==null?void 0:e.id]);const N=async()=>{if(e!=null&&e.id){n("loading"),u("");try{const[P,M]=await Promise.all([ut.getAffiliateClientStatus(e.id),ut.getAffiliateOwnerSnapshot(e.id)]);a(P),l((M==null?void 0:M.data)||null),n("ready")}catch(P){console.error("load affiliate state",P),u(P.message||"Failed to load affiliate information."),n("error")}}},j=async P=>{if(P.preventDefault(),!(!(e!=null&&e.id)||b||_)){m(!0),f(null);try{await ut.createAffiliateRequest({profile_id:e.id,preferred_code:d.preferredCode,notes:d.notes}),p({preferredCode:"",notes:""}),f({type:"success",message:t("ClientAffiliates.flash.requestSent")}),await N()}catch(M){console.error("createAffiliateRequest",M),f({type:"error",message:M.message||t("ClientAffiliates.flash.requestError")})}finally{m(!1)}}},O=async()=>{var P;if((P=o==null?void 0:o.code)!=null&&P.code)try{await navigator.clipboard.writeText(o.code.code),v(!0),setTimeout(()=>v(!1),1800)}catch(M){console.error("copy affiliate code",M)}},E=t(_?`ClientAffiliates.status.${_.status||"pending"}`:"ClientAffiliates.status.needCode");return r==="loading"?s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx(Sg,{className:"w-4 h-4 animate-spin"}),t("common.loading")]}):r==="error"?s.jsxs("div",{className:"border border-red-200 bg-red-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-700 text-sm",children:[s.jsx(VM,{className:"w-4 h-4"}),c]}),s.jsx("button",{type:"button",className:"mt-3 text-sm text-red-700 underline",onClick:N,children:t("ClientAffiliates.actions.refresh")})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:t("ClientAffiliates.title")}),s.jsx("p",{className:"text-sm text-text-secondary",children:t("ClientAffiliates.subtitle")})]}),s.jsxs("button",{type:"button",onClick:N,className:"inline-flex items-center gap-2 px-3 py-2 text-sm border rounded-lg text-text-secondary hover:text-text-primary hover:border-text-primary/40 transition-colors",children:[s.jsx(Bs,{className:"w-4 h-4"})," ",t("ClientAffiliates.actions.refresh")]})]}),y&&s.jsx("div",{className:`rounded-lg border px-4 py-2 text-sm ${y.type==="success"?"border-green-200 bg-green-50 text-green-700":"border-red-200 bg-red-50 text-red-700"}`,children:y.message}),b?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"border rounded-xl p-4",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-text-secondary",children:t("ClientAffiliates.codeCard.title")}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-2xl font-semibold",children:o.code.code}),s.jsxs("button",{type:"button",onClick:O,className:"text-sm text-primary flex items-center gap-1",children:[g?s.jsx(YM,{className:"w-4 h-4"}):s.jsx(JM,{className:"w-4 h-4"}),t(g?"ClientAffiliates.codeCard.copied":"ClientAffiliates.codeCard.copy")]})]}),s.jsx("p",{className:"mt-1 text-xs text-text-secondary",children:o.code.active?t("ClientAffiliates.codeCard.active"):t("ClientAffiliates.codeCard.inactive")})]}),s.jsxs("div",{className:"border rounded-xl p-4",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-text-secondary",children:t("ClientAffiliates.rules.title")}),s.jsx(IX,{code:o.code})]}),s.jsxs("div",{className:"border rounded-xl p-4",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-text-secondary",children:t("ClientAffiliates.stats.title")}),s.jsxs("div",{className:"mt-2 space-y-1 text-sm text-text-secondary",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:t("ClientAffiliates.stats.clients")}),s.jsx("strong",{className:"text-text-primary",children:w.count})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:t("ClientAffiliates.stats.billed")}),s.jsx("strong",{className:"text-text-primary",children:Pa.format(w.billed)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:t("ClientAffiliates.stats.payout")}),s.jsx("strong",{className:"text-text-primary",children:Pa.format(w.commission)})]})]})]})]}),s.jsxs("div",{className:"border rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Wa,{className:"w-4 h-4 text-text-secondary"}),s.jsx("h3",{className:"font-semibold",children:t("ClientAffiliates.members.title")})]}),S.length===0?s.jsx("p",{className:"text-sm text-text-secondary",children:t("ClientAffiliates.members.empty")}):s.jsx("div",{className:"space-y-2",children:S.map(P=>s.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between border rounded-lg p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:EX(P)}),s.jsx("p",{className:"text-xs text-text-secondary",children:P.company_name||P.store_name||P.country||""})]}),s.jsxs("div",{className:"text-sm text-text-secondary flex flex-wrap gap-4",children:[s.jsxs("span",{children:[t("ClientAffiliates.members.billed"),":"," ",s.jsx("strong",{className:"text-text-primary",children:Pa.format(P.billing_total)})]}),s.jsxs("span",{children:[t("ClientAffiliates.members.payout"),":"," ",s.jsx("strong",{className:"text-text-primary",children:Pa.format(P.commission)})]})]})]},P.id))}),s.jsx("p",{className:"text-xs text-text-secondary mt-3",children:t("ClientAffiliates.members.hint")})]})]}):_?s.jsxs("div",{className:"border rounded-xl p-6 bg-slate-50 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y_,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-text-primary",children:t("ClientAffiliates.request.pendingTitle")}),s.jsx("p",{className:"text-sm text-text-secondary",children:E})]})]}),s.jsxs("div",{className:"text-sm text-text-secondary",children:[s.jsx("p",{children:t("ClientAffiliates.request.details",{code:_.preferred_code||""})}),_.notes&&s.jsx("p",{className:"mt-1 italic text-text-secondary",children:_.notes})]})]}):s.jsxs("form",{onSubmit:j,className:"border rounded-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y_,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:t("ClientAffiliates.request.title")}),s.jsx("p",{className:"text-sm text-text-secondary",children:t("ClientAffiliates.request.desc")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[2fr_1fr] gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary mb-1 block",children:t("ClientAffiliates.request.preferred")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:d.preferredCode,onChange:P=>p(M=>({...M,preferredCode:P.target.value.toUpperCase()})),placeholder:t("ClientAffiliates.request.preferredPh"),className:"w-full border rounded-lg px-3 py-2 uppercase"}),s.jsx("button",{type:"button",onClick:()=>p(P=>({...P,preferredCode:TX()})),className:"text-sm px-3 py-2 border rounded-lg text-text-secondary hover:text-text-primary",children:t("ClientAffiliates.request.generate")})]}),s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:t("ClientAffiliates.request.preferredHint")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary mb-1 block",children:t("ClientAffiliates.request.notes")}),s.jsx("textarea",{rows:3,value:d.notes,onChange:P=>p(M=>({...M,notes:P.target.value})),placeholder:t("ClientAffiliates.request.notesPh"),className:"w-full border rounded-lg px-3 py-2"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50 flex items-center gap-2",children:[h&&s.jsx(Sg,{className:"w-4 h-4 animate-spin"}),t(h?"ClientAffiliates.request.submitting":"ClientAffiliates.request.submit")]}),s.jsx("p",{className:"text-xs text-text-secondary",children:t("ClientAffiliates.request.footer")})]})]})]})}const IX=({code:e})=>{const{t}=qt();if(!e)return s.jsx("p",{className:"text-sm text-text-secondary",children:t("ClientAffiliates.rules.missing")});const r=e.payout_type||"percentage";return r==="fixed"?s.jsx("p",{className:"text-sm text-text-secondary",children:t("ClientAffiliates.rules.fixed",{threshold:Pa.format(Number(e.threshold_amount||0)),amount:Pa.format(Number(e.fixed_amount||0))})}):r==="threshold"?s.jsx("p",{className:"text-sm text-text-secondary",children:t("ClientAffiliates.rules.threshold",{threshold:Pa.format(Number(e.threshold_amount||0)),below:Number(e.percent_below_threshold||0),above:Number(e.percent_above_threshold||0)})}):s.jsx("p",{className:"text-sm text-text-secondary",children:t("ClientAffiliates.rules.percent",{percent:Number(e.percent_below_threshold||e.percent_above_threshold||0)})})},$u=[{id:"reports-shipments",labelKey:"reportsMenu.shipments",icon:$a},{id:"reports-receiving",labelKey:"reportsMenu.receiving",icon:vc}];function MX(){const{t:e}=qt(),t=Nn(),r=Rr(),n=["activity","stock","returns","exports","profile","billing","invoices","integrations","affiliates","security",...$u.map(f=>f.id)],i=f=>f==="receiving"?"reports-receiving":f,[a,o]=x.useState(()=>{const f=typeof window<"u"?new URLSearchParams(window.location.search):new URLSearchParams,g=i(f.get("tab"));let v=null;try{const b=Xt.getItem("clientDashboardTab");v=b?i(b):null}catch{v=null}return g&&n.includes(g)?g:n.includes(v)?v:"activity"}),[l,c]=x.useState(()=>$u.some(f=>f.id===a));x.useEffect(()=>{try{Xt.setItem("clientDashboardTab",a)}catch{}new URLSearchParams(r.search).get("tab")!==a&&t(`/dashboard?tab=${a}`,{replace:!0})},[a,r.search,t]),x.useEffect(()=>{$u.some(f=>f.id===a)&&c(!0)},[a]);const{user:u,profile:d}=Ye(),p=d==null?void 0:d.company_id,h=[{id:"activity",label:e("sidebar.activity"),icon:za,group:"Operations"},{id:"stock",label:e("sidebar.stock"),icon:My,group:"Operations"},{id:"returns",label:e("sidebar.returns"),icon:QF,group:"Operations"},{id:"exports",label:e("sidebar.exports"),icon:Kl,group:"Operations"},{id:"profile",label:e("sidebar.profile"),icon:Va,group:"Account"},{id:"billing",label:e("sidebar.billing"),icon:rF,group:"Account"},{id:"invoices",label:e("sidebar.invoices"),icon:za,group:"Account"},{id:"integrations",label:"Integrations",icon:Dy,group:"Account"},{id:"affiliates",label:e("sidebar.affiliates"),icon:Wa,group:"Account"},{id:"security",label:e("sidebar.security"),icon:Ln,group:"Account"}],m=x.useMemo(()=>{switch(a){case"activity":return s.jsx(cX,{});case"stock":return s.jsx(f2,{});case"returns":return s.jsx(uX,{});case"exports":return s.jsx(pX,{});case"reports-shipments":return s.jsx(NX,{});case"reports-receiving":return s.jsx(bX,{});case"profile":return s.jsx(AB,{});case"billing":return s.jsx(CB,{});case"invoices":return s.jsx(PB,{});case"integrations":return s.jsx(wX,{});case"affiliates":return s.jsx(OX,{});case"security":return s.jsx(EB,{});default:return s.jsxs("div",{className:"text-center text-gray-500 py-10",children:[s.jsxs("p",{children:["Unknown tab: ",s.jsx("strong",{children:a})]}),s.jsx("p",{className:"text-sm mt-2",children:"Please reload the page or contact support."})]})}},[a]),y=[{key:"Operations",label:e("common.groups.operations")},{key:"Account",label:e("common.groups.account")}];return s.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:s.jsxs("div",{className:"max-w-[1500px] mx-auto px-4 sm:px-6 lg:px-8",children:[a==="activity"&&s.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3 mb-4",children:[s.jsx(AX,{companyId:p}),s.jsx(PX,{companyId:p,variant:"compact"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[220px_minmax(0,1fr)] gap-6 lg:gap-8",children:[s.jsx("div",{children:s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:y.map(f=>s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"px-1 pb-2 text-[11px] uppercase tracking-wide text-text-light",children:f.label}),s.jsx("nav",{className:"space-y-1.5",children:h.filter(g=>g.group===f.key).map(g=>s.jsxs(Zt.Fragment,{children:[s.jsxs("button",{onClick:()=>o(g.id),className:`w-full flex items-center gap-2 px-3 py-2 text-left rounded-lg text-sm transition-colors ${a===g.id?"bg-primary text-white":"text-text-secondary hover:bg-gray-50"}`,children:[s.jsx(g.icon,{className:"w-4 h-4"}),g.label]}),f.key==="Operations"&&g.id==="stock"&&s.jsxs("div",{className:"ml-2 mt-2",children:[s.jsxs("button",{onClick:()=>c(v=>!v),className:"w-full flex items-center justify-between px-3 py-2 text-left rounded-lg border text-sm text-text-secondary hover:bg-gray-50",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(za,{className:"w-4 h-4"}),e("sidebar.reports")]}),s.jsx(Fy,{className:`w-4 h-4 transition-transform ${l?"rotate-180":""}`})]}),l&&s.jsx("div",{className:"mt-2 space-y-1.5 pl-5",children:$u.map(v=>s.jsxs("button",{onClick:()=>o(v.id),className:`w-full flex items-center gap-2 px-3 py-2 text-left rounded-lg text-sm transition-colors ${a===v.id?"bg-primary/90 text-white":"text-text-secondary hover:bg-gray-50"}`,children:[s.jsx(v.icon,{className:"w-4 h-4"}),e(v.labelKey)]},v.id))})]})]},g.id))})]},f.key))})}),s.jsx("div",{children:s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-5 animate-fade-in",children:m})})]})]})})}const ul="lastPath",FX=e=>{try{Xt.setItem(ul,e)}catch{}},RX=()=>{var e,t,r;try{const n=Xt.getItem(ul);if(n)return n}catch{}try{const n=bc.getItem(ul)||(typeof window<"u"?(e=window.localStorage)==null?void 0:e.getItem(ul):null);if(n)return(r=(t=window==null?void 0:window.localStorage)==null?void 0:t.removeItem)==null||r.call(t,ul),n}catch{}return null};function DX(){const e=Rr();return Zt.useEffect(()=>{const t=e.pathname;["/login","/register","/forgot-password","/reset-password","/auth/callback","/integrations/amazon/callback"].includes(t)||FX(t+e.search+e.hash)},[e]),null}function LX(){const e=Nn();return Zt.useEffect(()=>{const t=RX();window.location.pathname==="/"&&t&&t!=="/"&&e(t,{replace:!0})},[e]),null}function ma({children:e}){const[t,r]=Zt.useState({loading:!0,enabled:!1,message:""});return Zt.useEffect(()=>{let n=!1;return(async()=>{const{data:a,error:o}=await Q.from("app_settings").select("value").eq("key","maintenance_mode").maybeSingle();n||(!o&&(a!=null&&a.value)?r({loading:!1,enabled:!!a.value.enabled,message:a.value.message||"Nous effectuons une courte maintenance. Merci de ressayer dans quelques minutes."}):r({loading:!1,enabled:!1,message:""}))})(),()=>{n=!0}},[]),t.loading?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:s.jsx("div",{className:"text-gray-500 text-sm",children:"Chargement"})}):t.enabled?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 max-w-md w-full text-center space-y-4",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 text-blue-600 mx-auto text-xl font-bold",children:"!"}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Maintenance en cours"}),s.jsx("p",{className:"text-gray-700",children:t.message}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Merci pour ta comprhension."})]})}):e}function BX(){return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(TL,{}),s.jsxs("main",{children:[s.jsx(DX,{}),s.jsx(LX,{}),s.jsxs(uM,{children:[s.jsx(vt,{path:"/",element:s.jsx(IL,{})}),s.jsx(vt,{path:"/services-pricing",element:s.jsx(HL,{})}),s.jsx(vt,{path:"/about",element:s.jsx(t5,{})}),s.jsx(vt,{path:"/contact",element:s.jsx(c5,{})}),s.jsx(vt,{path:"/privacy-policy",element:s.jsx(u5,{})}),s.jsx(vt,{path:"/terms",element:s.jsx(qR,{})}),s.jsx(vt,{path:"/register",element:s.jsx(ma,{children:s.jsx(NB,{})})}),s.jsx(vt,{path:"/login",element:s.jsx(ma,{children:s.jsx(Iw,{})})}),s.jsx(vt,{path:"/forgot-password",element:s.jsx(ma,{children:s.jsx(kB,{})})}),s.jsx(vt,{path:"/reset-password",element:s.jsx(ma,{children:s.jsx(jB,{})})}),s.jsx(vt,{path:"/auth/callback",element:s.jsx(ma,{children:s.jsx(d5,{})})}),s.jsx(vt,{path:"/integrations/amazon/callback",element:s.jsx(ma,{children:s.jsx(Ow,{children:s.jsx(p5,{})})})}),s.jsx(vt,{path:"/dashboard",element:s.jsx(ma,{children:s.jsx(Ow,{children:s.jsx(MX,{})})})}),s.jsx(vt,{path:"/admin-login",element:s.jsx(Iw,{})}),s.jsx(vt,{path:"/admin-info",element:s.jsx(m5,{})}),s.jsx(vt,{path:"/admin",element:s.jsx(zw,{children:s.jsx(SB,{})})}),s.jsx(vt,{path:"/admin/analytics",element:s.jsx(zw,{children:s.jsx(p2,{})})}),s.jsx(vt,{path:"*",element:s.jsx(Iy,{to:"/",replace:!0})})]})]}),s.jsx(zL,{}),s.jsx(OL,{})]})}function qX(){const e="pcf_uid";let t=localStorage.getItem(e);return t||(t=Math.random().toString(36).slice(2)+Date.now().toString(36),localStorage.setItem(e,t)),t}function UX(){const e=Rr(),t=x.useMemo(()=>qX(),[]);return x.useEffect(()=>{const r=e.pathname+e.search,n=document.referrer?new URL(document.referrer).host:null,i=navigator.language||"en";he.trackVisit({path:r,referrer:n,locale:i,userId:t})},[e,t]),null}Nf.createRoot(document.getElementById("root")).render(s.jsx(Zt.StrictMode,{children:s.jsx(_R,{children:s.jsx(PL,{children:s.jsxs(yM,{children:[s.jsx(UX,{}),s.jsx(BX,{})]})})})}));export{sm as _,Zn as c,fi as g};
